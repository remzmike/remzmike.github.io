(function(e, a) { for(var i in a) e[i] = a[i]; }(window, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?");

/***/ }),

/***/ "./src/bmfont.js":
/*!***********************!*\
  !*** ./src/bmfont.js ***!
  \***********************/
/*! exports provided: parseBMFontAscii */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseBMFontAscii\", function() { return parseBMFontAscii; });\n// from https://www.npmjs.com/package/load-bmfont\n// one export\nfunction parseBMFontAscii(data) {\n  if (!data) throw new Error('no data provided');\n  data = data.toString().trim();\n  var output = {\n    pages: [],\n    chars: [],\n    kernings: []\n  };\n  var lines = data.split(/\\r\\n?|\\n/g);\n  if (lines.length === 0) throw new Error('no data in BMFont file');\n\n  for (var i = 0; i < lines.length; i++) {\n    var lineData = splitLine(lines[i], i);\n    if (!lineData) //skip empty lines\n      continue;\n\n    if (lineData.key === 'page') {\n      if (typeof lineData.data.id !== 'number') throw new Error('malformed file at line ' + i + ' -- needs page id=N');\n      if (typeof lineData.data.file !== 'string') throw new Error('malformed file at line ' + i + ' -- needs page file=\"path\"');\n      output.pages[lineData.data.id] = lineData.data.file;\n    } else if (lineData.key === 'chars' || lineData.key === 'kernings') {//... do nothing for these two ...\n    } else if (lineData.key === 'char') {\n      output.chars.push(lineData.data);\n    } else if (lineData.key === 'kerning') {\n      output.kernings.push(lineData.data);\n    } else {\n      output[lineData.key] = lineData.data;\n    }\n  }\n\n  return output;\n}\n\nfunction splitLine(line, idx) {\n  line = line.replace(/\\t+/g, ' ').trim();\n  if (!line) return null;\n  var space = line.indexOf(' ');\n  if (space === -1) throw new Error(\"no named row at line \" + idx);\n  var key = line.substring(0, space);\n  line = line.substring(space + 1); //clear \"letter\" field as it is non-standard and\n  //requires additional complexity to parse \" / = symbols\n\n  line = line.replace(/letter=[\\'\\\"]\\S+[\\'\\\"]/gi, '');\n  line = line.split(\"=\");\n  line = line.map(function (str) {\n    return str.trim().match(/(\".*?\"|[^\"\\s]+)+(?=\\s*|\\s*$)/g);\n  });\n  var data = [];\n\n  for (var i = 0; i < line.length; i++) {\n    var dt = line[i];\n\n    if (i === 0) {\n      data.push({\n        key: dt[0],\n        data: \"\"\n      });\n    } else if (i === line.length - 1) {\n      data[data.length - 1].data = parseData(dt[0]);\n    } else {\n      data[data.length - 1].data = parseData(dt[0]);\n      data.push({\n        key: dt[1],\n        data: \"\"\n      });\n    }\n  }\n\n  var out = {\n    key: key,\n    data: {}\n  };\n  data.forEach(function (v) {\n    out.data[v.key] = v.data;\n  });\n  return out;\n}\n\nfunction parseData(data) {\n  if (!data || data.length === 0) return \"\";\n  if (data.indexOf('\"') === 0 || data.indexOf(\"'\") === 0) return data.substring(1, data.length - 1);\n  if (data.indexOf(',') !== -1) return parseIntList(data);\n  return parseInt(data, 10);\n}\n\nfunction parseIntList(data) {\n  return data.split(',').map(function (val) {\n    return parseInt(val, 10);\n  });\n}\n\n//# sourceURL=webpack:///./src/bmfont.js?");

/***/ }),

/***/ "./src/bmfont_definition_mana16.js":
/*!*****************************************!*\
  !*** ./src/bmfont_definition_mana16.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar font_def = ['info face=\"Mana\" size=-8 bold=0 italic=0 charset=\"ANSI\" unicode=0 stretchH=100 smooth=1 aa=1 padding=0,0,0,0 spacing=1,1 outline=0', 'common lineHeight=17 base=14 scaleW=512 scaleH=512 pages=1 packed=0 alphaChnl=1 redChnl=0 greenChnl=0 blueChnl=0', 'page id=0 file=\"mana16_0.png\"', 'chars count=192', 'char id=-1 x=27 y=0  width=0  height=1  xoffset=0  yoffset=16 xadvance=0  page=0 chnl=15', 'char id=32 x=23 y=43 width=3  height=1  xoffset=-1 yoffset=16 xadvance=5  page=0 chnl=15', 'char id=33 x=480 y=14 width=3  height=12 xoffset=2  yoffset=2  xadvance=7  page=0 chnl=15', 'char id=34 x=428 y=27 width=5  height=5  xoffset=1  yoffset=1  xadvance=7  page=0 chnl=15', 'char id=35 x=24 y=31 width=11 height=11 xoffset=0  yoffset=3  xadvance=12 page=0 chnl=15', 'char id=36 x=444 y=0  width=7  height=13 xoffset=1  yoffset=2  xadvance=9  page=0 chnl=15', 'char id=37 x=488 y=14 width=12 height=11 xoffset=1  yoffset=3  xadvance=13 page=0 chnl=15', 'char id=38 x=326 y=15 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=39 x=438 y=27 width=2  height=5  xoffset=1  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=40 x=65 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=41 x=80 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=42 x=416 y=27 width=5  height=5  xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=43 x=227 y=28 width=9  height=9  xoffset=1  yoffset=4  xadvance=11 page=0 chnl=15', 'char id=44 x=434 y=27 width=3  height=5  xoffset=1  yoffset=11 xadvance=5  page=0 chnl=15', 'char id=45 x=492 y=26 width=6  height=2  xoffset=1  yoffset=8  xadvance=8  page=0 chnl=15', 'char id=46 x=479 y=27 width=3  height=3  xoffset=1  yoffset=11 xadvance=5  page=0 chnl=15', 'char id=47 x=57 y=0  width=7  height=15 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=48 x=112 y=29 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=49 x=160 y=28 width=6  height=11 xoffset=1  yoffset=3  xadvance=7  page=0 chnl=15', 'char id=50 x=152 y=28 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=51 x=88 y=30 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=52 x=70 y=30 width=8  height=11 xoffset=0  yoffset=3  xadvance=8  page=0 chnl=15', 'char id=53 x=96 y=30 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=54 x=128 y=28 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=55 x=120 y=28 width=7  height=11 xoffset=0  yoffset=3  xadvance=7  page=0 chnl=15', 'char id=56 x=144 y=28 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=57 x=104 y=29 width=7  height=11 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=58 x=353 y=27 width=3  height=9  xoffset=1  yoffset=5  xadvance=5  page=0 chnl=15', 'char id=59 x=167 y=28 width=3  height=11 xoffset=1  yoffset=5  xadvance=5  page=0 chnl=15', 'char id=60 x=341 y=28 width=5  height=9  xoffset=0  yoffset=4  xadvance=6  page=0 chnl=15', 'char id=61 x=399 y=27 width=9  height=5  xoffset=1  yoffset=6  xadvance=11 page=0 chnl=15', 'char id=62 x=347 y=28 width=5  height=9  xoffset=1  yoffset=4  xadvance=6  page=0 chnl=15', 'char id=63 x=405 y=14 width=7  height=12 xoffset=1  yoffset=2  xadvance=9  page=0 chnl=15', 'char id=64 x=36 y=30 width=11 height=11 xoffset=2  yoffset=4  xadvance=15 page=0 chnl=15', 'char id=65 x=287 y=15 width=9  height=12 xoffset=0  yoffset=2  xadvance=9  page=0 chnl=15', 'char id=66 x=335 y=15 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=67 x=277 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=68 x=267 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=69 x=371 y=14 width=8  height=12 xoffset=1  yoffset=2  xadvance=9  page=0 chnl=15', 'char id=70 x=437 y=14 width=7  height=12 xoffset=1  yoffset=2  xadvance=8  page=0 chnl=15', 'char id=71 x=247 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=72 x=237 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=73 x=475 y=14 width=4  height=12 xoffset=1  yoffset=2  xadvance=6  page=0 chnl=15', 'char id=74 x=389 y=14 width=7  height=12 xoffset=0  yoffset=2  xadvance=8  page=0 chnl=15', 'char id=75 x=207 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=76 x=445 y=14 width=7  height=12 xoffset=1  yoffset=2  xadvance=8  page=0 chnl=15', 'char id=77 x=149 y=15 width=13 height=12 xoffset=1  yoffset=2  xadvance=15 page=0 chnl=15', 'char id=78 x=196 y=15 width=10 height=12 xoffset=1  yoffset=2  xadvance=12 page=0 chnl=15', 'char id=79 x=163 y=15 width=10 height=12 xoffset=1  yoffset=2  xadvance=12 page=0 chnl=15', 'char id=80 x=362 y=14 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=81 x=28 y=0  width=10 height=15 xoffset=1  yoffset=2  xadvance=12 page=0 chnl=15', 'char id=82 x=353 y=14 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=83 x=344 y=15 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=84 x=380 y=14 width=8  height=12 xoffset=0  yoffset=2  xadvance=8  page=0 chnl=15', 'char id=85 x=227 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=86 x=217 y=15 width=9  height=12 xoffset=0  yoffset=2  xadvance=9  page=0 chnl=15', 'char id=87 x=119 y=15 width=15 height=12 xoffset=0  yoffset=2  xadvance=15 page=0 chnl=15', 'char id=88 x=297 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=89 x=185 y=15 width=10 height=12 xoffset=0  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=90 x=317 y=15 width=8  height=12 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=91 x=70 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=92 x=49 y=0  width=7  height=15 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=93 x=75 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=94 x=451 y=27 width=7  height=4  xoffset=0  yoffset=2  xadvance=7  page=0 chnl=15', 'char id=95 x=483 y=27 width=8  height=2  xoffset=0  yoffset=13 xadvance=8  page=0 chnl=15', 'char id=96 x=0  y=43 width=4  height=2  xoffset=1  yoffset=0  xadvance=7  page=0 chnl=15', 'char id=97 x=281 y=28 width=7  height=9  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=98 x=420 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=99 x=320 y=28 width=6  height=9  xoffset=1  yoffset=5  xadvance=8  page=0 chnl=15', 'char id=100 x=388 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=101 x=289 y=28 width=7  height=9  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=102 x=80 y=16 width=6  height=13 xoffset=0  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=103 x=380 y=0  width=7  height=13 xoffset=1  yoffset=4  xadvance=9  page=0 chnl=15', 'char id=104 x=372 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=105 x=116 y=15 width=2  height=13 xoffset=1  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=106 x=24 y=0  width=3  height=16 xoffset=0  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=107 x=436 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=108 x=508 y=0  width=3  height=13 xoffset=1  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=109 x=181 y=28 width=12 height=9  xoffset=1  yoffset=5  xadvance=14 page=0 chnl=15', 'char id=110 x=297 y=28 width=7  height=9  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=111 x=273 y=28 width=7  height=9  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=112 x=397 y=14 width=7  height=12 xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=113 x=453 y=14 width=7  height=12 xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=114 x=313 y=28 width=6  height=9  xoffset=1  yoffset=5  xadvance=8  page=0 chnl=15', 'char id=115 x=334 y=28 width=6  height=9  xoffset=1  yoffset=5  xadvance=8  page=0 chnl=15', 'char id=116 x=468 y=14 width=6  height=12 xoffset=0  yoffset=2  xadvance=6  page=0 chnl=15', 'char id=117 x=265 y=28 width=7  height=9  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=118 x=257 y=28 width=7  height=9  xoffset=0  yoffset=5  xadvance=7  page=0 chnl=15', 'char id=119 x=194 y=28 width=11 height=9  xoffset=0  yoffset=5  xadvance=11 page=0 chnl=15', 'char id=120 x=305 y=28 width=7  height=9  xoffset=0  yoffset=5  xadvance=7  page=0 chnl=15', 'char id=121 x=413 y=14 width=7  height=12 xoffset=0  yoffset=5  xadvance=7  page=0 chnl=15', 'char id=122 x=327 y=28 width=6  height=9  xoffset=1  yoffset=5  xadvance=8  page=0 chnl=15', 'char id=123 x=85 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=124 x=95 y=0  width=2  height=15 xoffset=2  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=125 x=90 y=0  width=4  height=15 xoffset=1  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=126 x=464 y=27 width=10 height=3  xoffset=1  yoffset=7  xadvance=12 page=0 chnl=15', 'char id=160 x=19 y=43 width=3  height=1  xoffset=-1 yoffset=16 xadvance=5  page=0 chnl=15', 'char id=161 x=484 y=14 width=3  height=12 xoffset=2  yoffset=4  xadvance=7  page=0 chnl=15', 'char id=162 x=421 y=14 width=7  height=12 xoffset=1  yoffset=3  xadvance=9  page=0 chnl=15', 'char id=163 x=79 y=30 width=8  height=11 xoffset=1  yoffset=3  xadvance=10 page=0 chnl=15', 'char id=164 x=217 y=28 width=9  height=9  xoffset=1  yoffset=4  xadvance=11 page=0 chnl=15', 'char id=165 x=59 y=30 width=10 height=11 xoffset=0  yoffset=3  xadvance=10 page=0 chnl=15', 'char id=166 x=98 y=0  width=2  height=15 xoffset=2  yoffset=1  xadvance=6  page=0 chnl=15', 'char id=167 x=87 y=16 width=6  height=13 xoffset=1  yoffset=2  xadvance=8  page=0 chnl=15', 'char id=168 x=506 y=26 width=5  height=2  xoffset=1  yoffset=0  xadvance=7  page=0 chnl=15', 'char id=169 x=12 y=31 width=11 height=11 xoffset=1  yoffset=3  xadvance=13 page=0 chnl=15', 'char id=170 x=409 y=27 width=6  height=5  xoffset=0  yoffset=1  xadvance=5  page=0 chnl=15', 'char id=171 x=367 y=27 width=9  height=7  xoffset=0  yoffset=5  xadvance=10 page=0 chnl=15', 'char id=172 x=441 y=27 width=9  height=4  xoffset=1  yoffset=8  xadvance=11 page=0 chnl=15', 'char id=173 x=499 y=26 width=6  height=2  xoffset=1  yoffset=8  xadvance=8  page=0 chnl=15', 'char id=174 x=171 y=28 width=9  height=10 xoffset=1  yoffset=2  xadvance=10 page=0 chnl=15', 'char id=175 x=13 y=43 width=5  height=1  xoffset=1  yoffset=0  xadvance=7  page=0 chnl=15', 'char id=176 x=459 y=27 width=4  height=4  xoffset=0  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=177 x=247 y=28 width=9  height=9  xoffset=1  yoffset=4  xadvance=11 page=0 chnl=15', 'char id=178 x=385 y=27 width=4  height=6  xoffset=1  yoffset=1  xadvance=5  page=0 chnl=15', 'char id=179 x=390 y=27 width=4  height=6  xoffset=1  yoffset=1  xadvance=5  page=0 chnl=15', 'char id=180 x=5  y=43 width=4  height=2  xoffset=2  yoffset=0  xadvance=7  page=0 chnl=15', 'char id=181 x=257 y=15 width=9  height=12 xoffset=0  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=182 x=362 y=0  width=9  height=13 xoffset=2  yoffset=3  xadvance=12 page=0 chnl=15', 'char id=183 x=10 y=43 width=2  height=2  xoffset=1  yoffset=8  xadvance=4  page=0 chnl=15', 'char id=184 x=475 y=27 width=3  height=3  xoffset=2  yoffset=14 xadvance=7  page=0 chnl=15', 'char id=185 x=395 y=27 width=3  height=6  xoffset=1  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=186 x=422 y=27 width=5  height=5  xoffset=0  yoffset=1  xadvance=5  page=0 chnl=15', 'char id=187 x=357 y=27 width=9  height=7  xoffset=1  yoffset=5  xadvance=10 page=0 chnl=15', 'char id=188 x=501 y=14 width=10 height=11 xoffset=1  yoffset=3  xadvance=12 page=0 chnl=15', 'char id=189 x=48 y=30 width=10 height=11 xoffset=1  yoffset=3  xadvance=11 page=0 chnl=15', 'char id=190 x=0  y=31 width=11 height=11 xoffset=1  yoffset=3  xadvance=12 page=0 chnl=15', 'char id=191 x=429 y=14 width=7  height=12 xoffset=1  yoffset=4  xadvance=9  page=0 chnl=15', 'char id=192 x=189 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=193 x=199 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=194 x=209 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=195 x=219 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=196 x=229 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=197 x=239 y=0  width=9  height=14 xoffset=0  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=198 x=135 y=15 width=13 height=12 xoffset=0  yoffset=2  xadvance=13 page=0 chnl=15', 'char id=199 x=39 y=0  width=9  height=15 xoffset=1  yoffset=2  xadvance=12 page=0 chnl=15', 'char id=200 x=298 y=0  width=8  height=14 xoffset=1  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=201 x=289 y=0  width=8  height=14 xoffset=1  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=202 x=307 y=0  width=8  height=14 xoffset=1  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=203 x=316 y=0  width=8  height=14 xoffset=1  yoffset=0  xadvance=9  page=0 chnl=15', 'char id=204 x=345 y=0  width=5  height=14 xoffset=0  yoffset=0  xadvance=6  page=0 chnl=15', 'char id=205 x=339 y=0  width=5  height=14 xoffset=1  yoffset=0  xadvance=6  page=0 chnl=15', 'char id=206 x=325 y=0  width=6  height=14 xoffset=0  yoffset=0  xadvance=6  page=0 chnl=15', 'char id=207 x=332 y=0  width=6  height=14 xoffset=0  yoffset=0  xadvance=6  page=0 chnl=15', 'char id=208 x=174 y=15 width=10 height=12 xoffset=0  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=209 x=145 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=210 x=134 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=211 x=123 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=212 x=112 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=213 x=101 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=214 x=167 y=0  width=10 height=14 xoffset=1  yoffset=0  xadvance=12 page=0 chnl=15', 'char id=215 x=377 y=27 width=7  height=7  xoffset=1  yoffset=5  xadvance=9  page=0 chnl=15', 'char id=216 x=156 y=0  width=10 height=14 xoffset=1  yoffset=1  xadvance=12 page=0 chnl=15', 'char id=217 x=249 y=0  width=9  height=14 xoffset=1  yoffset=0  xadvance=11 page=0 chnl=15', 'char id=218 x=259 y=0  width=9  height=14 xoffset=1  yoffset=0  xadvance=11 page=0 chnl=15', 'char id=219 x=269 y=0  width=9  height=14 xoffset=1  yoffset=0  xadvance=11 page=0 chnl=15', 'char id=220 x=279 y=0  width=9  height=14 xoffset=1  yoffset=0  xadvance=11 page=0 chnl=15', 'char id=221 x=178 y=0  width=10 height=14 xoffset=0  yoffset=0  xadvance=10 page=0 chnl=15', 'char id=222 x=307 y=15 width=9  height=12 xoffset=1  yoffset=2  xadvance=11 page=0 chnl=15', 'char id=223 x=351 y=0  width=10 height=13 xoffset=0  yoffset=1  xadvance=10 page=0 chnl=15', 'char id=224 x=476 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=225 x=468 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=226 x=460 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=227 x=452 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=228 x=428 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=229 x=412 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=230 x=206 y=28 width=10 height=9  xoffset=1  yoffset=5  xadvance=12 page=0 chnl=15', 'char id=231 x=461 y=14 width=6  height=12 xoffset=1  yoffset=5  xadvance=8  page=0 chnl=15', 'char id=232 x=64 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=233 x=8  y=17 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=234 x=396 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=235 x=404 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=236 x=101 y=15 width=4  height=13 xoffset=0  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=237 x=106 y=15 width=4  height=13 xoffset=0  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=238 x=111 y=15 width=4  height=13 xoffset=0  yoffset=1  xadvance=4  page=0 chnl=15', 'char id=239 x=94 y=16 width=6  height=13 xoffset=-1 yoffset=1  xadvance=4  page=0 chnl=15', 'char id=240 x=484 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=241 x=492 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=242 x=500 y=0  width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=243 x=0  y=17 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=244 x=72 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=245 x=16 y=17 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=246 x=24 y=17 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=247 x=237 y=28 width=9  height=9  xoffset=1  yoffset=4  xadvance=11 page=0 chnl=15', 'char id=248 x=136 y=28 width=7  height=11 xoffset=1  yoffset=4  xadvance=9  page=0 chnl=15', 'char id=249 x=32 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=250 x=40 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=251 x=48 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=252 x=56 y=16 width=7  height=13 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=253 x=0  y=0  width=7  height=16 xoffset=0  yoffset=1  xadvance=7  page=0 chnl=15', 'char id=254 x=8  y=0  width=7  height=16 xoffset=1  yoffset=1  xadvance=9  page=0 chnl=15', 'char id=255 x=16 y=0  width=7  height=16 xoffset=0  yoffset=1  xadvance=7  page=0 chnl=15', 'kernings count=1004', 'kerning first=38 second=84 amount=-1', 'kerning first=38 second=88 amount=-1', 'kerning first=38 second=89 amount=-1', 'kerning first=38 second=90 amount=-1', 'kerning first=45 second=255 amount=1', 'kerning first=38 second=208 amount=1', 'kerning first=39 second=44 amount=-2', 'kerning first=39 second=46 amount=-2', 'kerning first=39 second=47 amount=-1', 'kerning first=39 second=65 amount=-1', 'kerning first=39 second=74 amount=-1', 'kerning first=39 second=86 amount=1', 'kerning first=39 second=87 amount=1', 'kerning first=39 second=89 amount=1', 'kerning first=39 second=102 amount=1', 'kerning first=39 second=116 amount=1', 'kerning first=45 second=253 amount=1', 'kerning first=45 second=208 amount=1', 'kerning first=45 second=122 amount=-1', 'kerning first=45 second=121 amount=1', 'kerning first=39 second=191 amount=-1', 'kerning first=39 second=193 amount=-1', 'kerning first=39 second=198 amount=-1', 'kerning first=39 second=239 amount=1', 'kerning first=40 second=42 amount=-1', 'kerning first=40 second=45 amount=-1', 'kerning first=40 second=49 amount=-1', 'kerning first=40 second=64 amount=-1', 'kerning first=40 second=106 amount=1', 'kerning first=40 second=126 amount=-1', 'kerning first=45 second=119 amount=1', 'kerning first=45 second=118 amount=1', 'kerning first=45 second=93 amount=-1', 'kerning first=40 second=169 amount=-1', 'kerning first=40 second=174 amount=-1', 'kerning first=40 second=239 amount=1', 'kerning first=169 second=93 amount=-1', 'kerning first=42 second=44 amount=-1', 'kerning first=42 second=46 amount=-1', 'kerning first=42 second=47 amount=-1', 'kerning first=42 second=126 amount=-1', 'kerning first=45 second=60 amount=1', 'kerning first=45 second=55 amount=-1', 'kerning first=45 second=52 amount=1', 'kerning first=44 second=39 amount=-2', 'kerning first=44 second=42 amount=-2', 'kerning first=44 second=95 amount=1', 'kerning first=44 second=126 amount=-1', 'kerning first=45 second=49 amount=-1', 'kerning first=45 second=41 amount=-1', 'kerning first=35 second=125 amount=-1', 'kerning first=35 second=93 amount=-1', 'kerning first=44 second=174 amount=-1', 'kerning first=44 second=34 amount=-2', 'kerning first=44 second=35 amount=1', 'kerning first=171 second=89 amount=-1', 'kerning first=171 second=88 amount=-1', 'kerning first=171 second=84 amount=-1', 'kerning first=170 second=34 amount=1', 'kerning first=170 second=47 amount=-1', 'kerning first=170 second=46 amount=-1', 'kerning first=170 second=44 amount=-1', 'kerning first=170 second=39 amount=1', 'kerning first=169 second=41 amount=-1', 'kerning first=165 second=55 amount=1', 'kerning first=35 second=90 amount=-1', 'kerning first=35 second=88 amount=-1', 'kerning first=163 second=126 amount=-1', 'kerning first=162 second=49 amount=-1', 'kerning first=161 second=106 amount=1', 'kerning first=46 second=39 amount=-2', 'kerning first=46 second=42 amount=-2', 'kerning first=46 second=95 amount=1', 'kerning first=46 second=126 amount=-1', 'kerning first=35 second=74 amount=-1', 'kerning first=35 second=46 amount=-1', 'kerning first=35 second=44 amount=-1', 'kerning first=35 second=41 amount=-1', 'kerning first=46 second=174 amount=-1', 'kerning first=46 second=34 amount=-2', 'kerning first=46 second=35 amount=1', 'kerning first=47 second=44 amount=-1', 'kerning first=47 second=46 amount=-1', 'kerning first=47 second=74 amount=-1', 'kerning first=47 second=88 amount=-1', 'kerning first=47 second=90 amount=-1', 'kerning first=47 second=97 amount=-1', 'kerning first=47 second=99 amount=-1', 'kerning first=47 second=100 amount=-1', 'kerning first=47 second=101 amount=-1', 'kerning first=47 second=102 amount=1', 'kerning first=47 second=103 amount=-1', 'kerning first=47 second=111 amount=-1', 'kerning first=47 second=113 amount=-1', 'kerning first=47 second=115 amount=-1', 'kerning first=47 second=122 amount=-1', 'kerning first=47 second=126 amount=-1', 'kerning first=34 second=239 amount=1', 'kerning first=34 second=191 amount=-1', 'kerning first=34 second=116 amount=1', 'kerning first=47 second=225 amount=-1', 'kerning first=47 second=230 amount=-1', 'kerning first=47 second=231 amount=-1', 'kerning first=47 second=233 amount=-1', 'kerning first=47 second=239 amount=1', 'kerning first=47 second=243 amount=-1', 'kerning first=47 second=248 amount=-1', 'kerning first=49 second=44 amount=1', 'kerning first=49 second=46 amount=1', 'kerning first=49 second=65 amount=1', 'kerning first=49 second=95 amount=1', 'kerning first=49 second=102 amount=1', 'kerning first=49 second=120 amount=1', 'kerning first=49 second=121 amount=1', 'kerning first=34 second=102 amount=1', 'kerning first=34 second=89 amount=1', 'kerning first=34 second=87 amount=1', 'kerning first=49 second=192 amount=1', 'kerning first=49 second=193 amount=1', 'kerning first=49 second=194 amount=1', 'kerning first=49 second=195 amount=1', 'kerning first=49 second=196 amount=1', 'kerning first=49 second=197 amount=1', 'kerning first=52 second=52 amount=1', 'kerning first=52 second=60 amount=1', 'kerning first=52 second=102 amount=1', 'kerning first=52 second=116 amount=1', 'kerning first=52 second=120 amount=1', 'kerning first=34 second=86 amount=1', 'kerning first=34 second=47 amount=-1', 'kerning first=34 second=46 amount=-2', 'kerning first=52 second=162 amount=1', 'kerning first=52 second=165 amount=1', 'kerning first=52 second=169 amount=1', 'kerning first=52 second=170 amount=1', 'kerning first=52 second=171 amount=1', 'kerning first=52 second=176 amount=1', 'kerning first=52 second=186 amount=1', 'kerning first=52 second=187 amount=1', 'kerning first=52 second=208 amount=1', 'kerning first=52 second=215 amount=1', 'kerning first=52 second=239 amount=1', 'kerning first=52 second=35 amount=1', 'kerning first=55 second=44 amount=-1', 'kerning first=55 second=46 amount=-1', 'kerning first=55 second=47 amount=-1', 'kerning first=55 second=55 amount=1', 'kerning first=55 second=86 amount=1', 'kerning first=55 second=87 amount=1', 'kerning first=55 second=94 amount=1', 'kerning first=55 second=95 amount=-1', 'kerning first=55 second=102 amount=1', 'kerning first=55 second=116 amount=1', 'kerning first=55 second=120 amount=1', 'kerning first=34 second=44 amount=-2', 'kerning first=255 second=45 amount=1', 'kerning first=255 second=121 amount=1', 'kerning first=255 second=120 amount=1', 'kerning first=255 second=118 amount=1', 'kerning first=255 second=116 amount=1', 'kerning first=55 second=165 amount=1', 'kerning first=55 second=170 amount=1', 'kerning first=55 second=176 amount=1', 'kerning first=55 second=186 amount=1', 'kerning first=55 second=188 amount=1', 'kerning first=55 second=189 amount=1', 'kerning first=55 second=190 amount=1', 'kerning first=55 second=208 amount=1', 'kerning first=55 second=239 amount=1', 'kerning first=60 second=126 amount=-1', 'kerning first=62 second=45 amount=1', 'kerning first=62 second=52 amount=1', 'kerning first=62 second=60 amount=1', 'kerning first=62 second=126 amount=1', 'kerning first=255 second=102 amount=1', 'kerning first=255 second=95 amount=-1', 'kerning first=171 second=102 amount=1', 'kerning first=64 second=41 amount=-1', 'kerning first=64 second=49 amount=-1', 'kerning first=64 second=84 amount=-1', 'kerning first=64 second=88 amount=-1', 'kerning first=64 second=89 amount=-1', 'kerning first=64 second=90 amount=-1', 'kerning first=64 second=93 amount=-1', 'kerning first=64 second=122 amount=-1', 'kerning first=64 second=125 amount=-1', 'kerning first=171 second=90 amount=-1', 'kerning first=253 second=45 amount=1', 'kerning first=65 second=39 amount=-1', 'kerning first=65 second=44 amount=1', 'kerning first=65 second=46 amount=1', 'kerning first=65 second=65 amount=1', 'kerning first=65 second=95 amount=1', 'kerning first=65 second=102 amount=1', 'kerning first=65 second=106 amount=1', 'kerning first=65 second=116 amount=1', 'kerning first=65 second=120 amount=1', 'kerning first=253 second=121 amount=1', 'kerning first=253 second=120 amount=1', 'kerning first=253 second=118 amount=1', 'kerning first=253 second=116 amount=1', 'kerning first=65 second=192 amount=1', 'kerning first=65 second=193 amount=1', 'kerning first=65 second=194 amount=1', 'kerning first=65 second=195 amount=1', 'kerning first=65 second=196 amount=1', 'kerning first=65 second=197 amount=1', 'kerning first=65 second=223 amount=1', 'kerning first=66 second=122 amount=-1', 'kerning first=253 second=102 amount=1', 'kerning first=67 second=122 amount=-1', 'kerning first=67 second=126 amount=-1', 'kerning first=68 second=122 amount=-1', 'kerning first=69 second=65 amount=1', 'kerning first=69 second=84 amount=1', 'kerning first=69 second=86 amount=1', 'kerning first=69 second=87 amount=1', 'kerning first=69 second=89 amount=1', 'kerning first=69 second=95 amount=1', 'kerning first=69 second=102 amount=1', 'kerning first=69 second=106 amount=1', 'kerning first=69 second=116 amount=1', 'kerning first=69 second=120 amount=1', 'kerning first=69 second=192 amount=1', 'kerning first=69 second=193 amount=1', 'kerning first=69 second=194 amount=1', 'kerning first=69 second=195 amount=1', 'kerning first=69 second=196 amount=1', 'kerning first=69 second=197 amount=1', 'kerning first=69 second=208 amount=1', 'kerning first=69 second=223 amount=1', 'kerning first=69 second=239 amount=2', 'kerning first=70 second=44 amount=-1', 'kerning first=70 second=46 amount=-1', 'kerning first=70 second=84 amount=1', 'kerning first=70 second=86 amount=1', 'kerning first=70 second=87 amount=1', 'kerning first=70 second=89 amount=1', 'kerning first=70 second=95 amount=-1', 'kerning first=70 second=97 amount=-1', 'kerning first=70 second=102 amount=1', 'kerning first=70 second=116 amount=1', 'kerning first=70 second=122 amount=-1', 'kerning first=253 second=95 amount=-1', 'kerning first=171 second=116 amount=1', 'kerning first=248 second=47 amount=-1', 'kerning first=246 second=47 amount=-1', 'kerning first=245 second=47 amount=-1', 'kerning first=70 second=187 amount=-1', 'kerning first=70 second=208 amount=1', 'kerning first=70 second=223 amount=1', 'kerning first=70 second=225 amount=-1', 'kerning first=70 second=230 amount=-1', 'kerning first=70 second=239 amount=2', 'kerning first=72 second=208 amount=1', 'kerning first=74 second=208 amount=1', 'kerning first=75 second=97 amount=-1', 'kerning first=75 second=122 amount=-1', 'kerning first=75 second=126 amount=-1', 'kerning first=244 second=47 amount=-1', 'kerning first=243 second=47 amount=-1', 'kerning first=75 second=187 amount=-1', 'kerning first=75 second=225 amount=-1', 'kerning first=75 second=230 amount=-1', 'kerning first=76 second=39 amount=-2', 'kerning first=76 second=64 amount=-1', 'kerning first=76 second=65 amount=1', 'kerning first=76 second=84 amount=-1', 'kerning first=76 second=89 amount=-1', 'kerning first=76 second=92 amount=-1', 'kerning first=76 second=95 amount=1', 'kerning first=76 second=118 amount=-1', 'kerning first=76 second=119 amount=-1', 'kerning first=76 second=120 amount=1', 'kerning first=76 second=126 amount=-1', 'kerning first=242 second=92 amount=-1', 'kerning first=242 second=89 amount=-1', 'kerning first=242 second=84 amount=-1', 'kerning first=242 second=47 amount=-1', 'kerning first=241 second=239 amount=1', 'kerning first=239 second=34 amount=1', 'kerning first=239 second=241 amount=1', 'kerning first=239 second=239 amount=3', 'kerning first=76 second=178 amount=-1', 'kerning first=76 second=179 amount=-1', 'kerning first=76 second=183 amount=-3', 'kerning first=76 second=185 amount=-1', 'kerning first=76 second=187 amount=-1', 'kerning first=76 second=192 amount=1', 'kerning first=76 second=193 amount=1', 'kerning first=76 second=194 amount=1', 'kerning first=76 second=195 amount=1', 'kerning first=76 second=196 amount=1', 'kerning first=76 second=197 amount=1', 'kerning first=76 second=198 amount=1', 'kerning first=76 second=221 amount=-1', 'kerning first=76 second=34 amount=-1', 'kerning first=77 second=208 amount=1', 'kerning first=78 second=208 amount=1', 'kerning first=79 second=122 amount=-1', 'kerning first=239 second=223 amount=1', 'kerning first=80 second=44 amount=-2', 'kerning first=80 second=46 amount=-2', 'kerning first=80 second=64 amount=-1', 'kerning first=80 second=65 amount=-1', 'kerning first=80 second=74 amount=-1', 'kerning first=80 second=88 amount=-1', 'kerning first=80 second=97 amount=-1', 'kerning first=80 second=122 amount=-1', 'kerning first=239 second=207 amount=2', 'kerning first=239 second=206 amount=2', 'kerning first=239 second=204 amount=1', 'kerning first=239 second=185 amount=2', 'kerning first=80 second=225 amount=-1', 'kerning first=80 second=230 amount=-1', 'kerning first=81 second=41 amount=1', 'kerning first=81 second=93 amount=1', 'kerning first=81 second=106 amount=1', 'kerning first=81 second=121 amount=1', 'kerning first=81 second=125 amount=1', 'kerning first=81 second=253 amount=1', 'kerning first=81 second=255 amount=1', 'kerning first=82 second=208 amount=1', 'kerning first=83 second=122 amount=-1', 'kerning first=84 second=38 amount=-1', 'kerning first=84 second=44 amount=-1', 'kerning first=84 second=46 amount=-1', 'kerning first=84 second=47 amount=-1', 'kerning first=84 second=64 amount=-1', 'kerning first=84 second=74 amount=-1', 'kerning first=84 second=84 amount=1', 'kerning first=84 second=86 amount=1', 'kerning first=84 second=87 amount=1', 'kerning first=84 second=89 amount=1', 'kerning first=84 second=95 amount=-1', 'kerning first=84 second=97 amount=-1', 'kerning first=84 second=99 amount=-1', 'kerning first=84 second=100 amount=-1', 'kerning first=84 second=101 amount=-1', 'kerning first=84 second=103 amount=-1', 'kerning first=84 second=111 amount=-1', 'kerning first=84 second=113 amount=-1', 'kerning first=84 second=115 amount=-1', 'kerning first=84 second=122 amount=-1', 'kerning first=84 second=126 amount=-1', 'kerning first=239 second=179 amount=2', 'kerning first=239 second=178 amount=2', 'kerning first=239 second=176 amount=2', 'kerning first=239 second=170 amount=2', 'kerning first=239 second=125 amount=1', 'kerning first=239 second=116 amount=1', 'kerning first=239 second=108 amount=1', 'kerning first=84 second=187 amount=-1', 'kerning first=84 second=225 amount=-1', 'kerning first=84 second=230 amount=-1', 'kerning first=84 second=231 amount=-1', 'kerning first=84 second=233 amount=-1', 'kerning first=84 second=239 amount=2', 'kerning first=84 second=243 amount=-1', 'kerning first=84 second=248 amount=-1', 'kerning first=85 second=122 amount=-1', 'kerning first=85 second=208 amount=1', 'kerning first=86 second=39 amount=1', 'kerning first=86 second=44 amount=-1', 'kerning first=86 second=46 amount=-1', 'kerning first=86 second=84 amount=1', 'kerning first=86 second=86 amount=1', 'kerning first=86 second=87 amount=1', 'kerning first=86 second=89 amount=1', 'kerning first=86 second=95 amount=-1', 'kerning first=86 second=102 amount=1', 'kerning first=86 second=116 amount=1', 'kerning first=239 second=107 amount=1', 'kerning first=239 second=106 amount=1', 'kerning first=239 second=105 amount=1', 'kerning first=239 second=104 amount=1', 'kerning first=239 second=102 amount=1', 'kerning first=239 second=98 amount=1', 'kerning first=239 second=93 amount=1', 'kerning first=239 second=89 amount=2', 'kerning first=239 second=87 amount=2', 'kerning first=239 second=86 amount=2', 'kerning first=86 second=208 amount=1', 'kerning first=86 second=221 amount=1', 'kerning first=86 second=223 amount=1', 'kerning first=86 second=239 amount=2', 'kerning first=86 second=34 amount=1', 'kerning first=87 second=39 amount=1', 'kerning first=87 second=44 amount=-1', 'kerning first=87 second=46 amount=-1', 'kerning first=87 second=84 amount=1', 'kerning first=87 second=86 amount=1', 'kerning first=87 second=87 amount=1', 'kerning first=87 second=89 amount=1', 'kerning first=87 second=95 amount=-1', 'kerning first=87 second=102 amount=1', 'kerning first=87 second=116 amount=1', 'kerning first=239 second=84 amount=2', 'kerning first=239 second=55 amount=1', 'kerning first=239 second=42 amount=1', 'kerning first=239 second=41 amount=1', 'kerning first=239 second=39 amount=1', 'kerning first=237 second=206 amount=1', 'kerning first=237 second=204 amount=1', 'kerning first=235 second=47 amount=-1', 'kerning first=234 second=47 amount=-1', 'kerning first=233 second=47 amount=-1', 'kerning first=87 second=208 amount=1', 'kerning first=87 second=221 amount=1', 'kerning first=87 second=223 amount=1', 'kerning first=87 second=239 amount=2', 'kerning first=87 second=34 amount=1', 'kerning first=88 second=47 amount=-1', 'kerning first=88 second=64 amount=-1', 'kerning first=88 second=97 amount=-1', 'kerning first=88 second=126 amount=-1', 'kerning first=232 second=92 amount=-1', 'kerning first=88 second=187 amount=-1', 'kerning first=88 second=225 amount=-1', 'kerning first=88 second=230 amount=-1', 'kerning first=89 second=38 amount=-1', 'kerning first=89 second=39 amount=1', 'kerning first=89 second=44 amount=-2', 'kerning first=89 second=46 amount=-2', 'kerning first=89 second=47 amount=-1', 'kerning first=89 second=64 amount=-1', 'kerning first=89 second=74 amount=-1', 'kerning first=89 second=84 amount=1', 'kerning first=89 second=86 amount=1', 'kerning first=89 second=87 amount=1', 'kerning first=89 second=89 amount=1', 'kerning first=89 second=95 amount=-2', 'kerning first=89 second=97 amount=-1', 'kerning first=89 second=99 amount=-1', 'kerning first=89 second=100 amount=-1', 'kerning first=89 second=101 amount=-1', 'kerning first=89 second=103 amount=-1', 'kerning first=89 second=111 amount=-1', 'kerning first=89 second=113 amount=-1', 'kerning first=89 second=115 amount=-1', 'kerning first=89 second=122 amount=-1', 'kerning first=89 second=126 amount=-1', 'kerning first=232 second=89 amount=-1', 'kerning first=232 second=84 amount=-1', 'kerning first=232 second=47 amount=-1', 'kerning first=231 second=84 amount=-1', 'kerning first=230 second=89 amount=-1', 'kerning first=230 second=84 amount=-1', 'kerning first=230 second=47 amount=-1', 'kerning first=224 second=92 amount=-1', 'kerning first=224 second=89 amount=-1', 'kerning first=89 second=187 amount=-1', 'kerning first=89 second=225 amount=-1', 'kerning first=89 second=230 amount=-1', 'kerning first=89 second=231 amount=-1', 'kerning first=89 second=233 amount=-1', 'kerning first=89 second=239 amount=2', 'kerning first=89 second=243 amount=-1', 'kerning first=89 second=248 amount=-1', 'kerning first=89 second=34 amount=1', 'kerning first=90 second=38 amount=-1', 'kerning first=90 second=44 amount=-1', 'kerning first=90 second=46 amount=-1', 'kerning first=90 second=47 amount=-1', 'kerning first=90 second=64 amount=-1', 'kerning first=90 second=97 amount=-1', 'kerning first=90 second=122 amount=-1', 'kerning first=90 second=126 amount=-1', 'kerning first=224 second=84 amount=-1', 'kerning first=223 second=120 amount=1', 'kerning first=223 second=116 amount=1', 'kerning first=222 second=90 amount=-1', 'kerning first=90 second=187 amount=-1', 'kerning first=90 second=225 amount=-1', 'kerning first=90 second=230 amount=-1', 'kerning first=91 second=42 amount=-1', 'kerning first=91 second=45 amount=-1', 'kerning first=91 second=49 amount=-1', 'kerning first=91 second=64 amount=-1', 'kerning first=91 second=106 amount=1', 'kerning first=91 second=126 amount=-1', 'kerning first=222 second=88 amount=-1', 'kerning first=222 second=84 amount=-1', 'kerning first=221 second=221 amount=1', 'kerning first=91 second=169 amount=-1', 'kerning first=91 second=174 amount=-1', 'kerning first=91 second=239 amount=1', 'kerning first=171 second=120 amount=1', 'kerning first=92 second=84 amount=-1', 'kerning first=92 second=88 amount=-1', 'kerning first=92 second=89 amount=-1', 'kerning first=92 second=106 amount=1', 'kerning first=92 second=120 amount=1', 'kerning first=92 second=121 amount=1', 'kerning first=92 second=126 amount=-1', 'kerning first=93 second=254 amount=1', 'kerning first=95 second=44 amount=1', 'kerning first=95 second=46 amount=1', 'kerning first=95 second=52 amount=-1', 'kerning first=95 second=65 amount=1', 'kerning first=95 second=84 amount=-1', 'kerning first=95 second=86 amount=-1', 'kerning first=95 second=87 amount=-1', 'kerning first=95 second=89 amount=-2', 'kerning first=95 second=106 amount=1', 'kerning first=95 second=112 amount=1', 'kerning first=95 second=118 amount=-1', 'kerning first=95 second=119 amount=-1', 'kerning first=95 second=120 amount=1', 'kerning first=95 second=192 amount=1', 'kerning first=95 second=193 amount=1', 'kerning first=95 second=194 amount=1', 'kerning first=95 second=195 amount=1', 'kerning first=95 second=196 amount=1', 'kerning first=95 second=197 amount=1', 'kerning first=97 second=84 amount=-1', 'kerning first=97 second=89 amount=-1', 'kerning first=98 second=47 amount=-1', 'kerning first=98 second=84 amount=-1', 'kerning first=98 second=89 amount=-1', 'kerning first=98 second=92 amount=-1', 'kerning first=99 second=84 amount=-1', 'kerning first=100 second=239 amount=1', 'kerning first=101 second=47 amount=-1', 'kerning first=101 second=84 amount=-1', 'kerning first=101 second=89 amount=-1', 'kerning first=101 second=92 amount=-1', 'kerning first=102 second=39 amount=1', 'kerning first=102 second=44 amount=-1', 'kerning first=102 second=45 amount=-1', 'kerning first=102 second=46 amount=-1', 'kerning first=102 second=47 amount=-1', 'kerning first=102 second=64 amount=-1', 'kerning first=102 second=65 amount=-1', 'kerning first=102 second=74 amount=-1', 'kerning first=102 second=86 amount=1', 'kerning first=102 second=87 amount=1', 'kerning first=102 second=89 amount=1', 'kerning first=102 second=95 amount=-1', 'kerning first=102 second=97 amount=-1', 'kerning first=102 second=99 amount=-1', 'kerning first=102 second=100 amount=-1', 'kerning first=102 second=101 amount=-1', 'kerning first=102 second=103 amount=-1', 'kerning first=102 second=111 amount=-1', 'kerning first=102 second=113 amount=-1', 'kerning first=102 second=115 amount=-1', 'kerning first=102 second=126 amount=-1', 'kerning first=221 second=126 amount=-1', 'kerning first=221 second=115 amount=-1', 'kerning first=221 second=113 amount=-1', 'kerning first=221 second=111 amount=-1', 'kerning first=221 second=103 amount=-1', 'kerning first=221 second=101 amount=-1', 'kerning first=221 second=100 amount=-1', 'kerning first=221 second=99 amount=-1', 'kerning first=221 second=97 amount=-1', 'kerning first=221 second=74 amount=-1', 'kerning first=220 second=122 amount=-1', 'kerning first=219 second=122 amount=-1', 'kerning first=218 second=122 amount=-1', 'kerning first=102 second=193 amount=-1', 'kerning first=102 second=221 amount=1', 'kerning first=102 second=225 amount=-1', 'kerning first=102 second=230 amount=-1', 'kerning first=102 second=231 amount=-1', 'kerning first=102 second=233 amount=-1', 'kerning first=102 second=236 amount=1', 'kerning first=102 second=238 amount=1', 'kerning first=102 second=239 amount=2', 'kerning first=102 second=243 amount=-1', 'kerning first=102 second=248 amount=-1', 'kerning first=102 second=34 amount=1', 'kerning first=172 second=52 amount=1', 'kerning first=103 second=106 amount=1', 'kerning first=104 second=84 amount=-1', 'kerning first=104 second=89 amount=-1', 'kerning first=104 second=92 amount=-1', 'kerning first=105 second=239 amount=1', 'kerning first=106 second=95 amount=1', 'kerning first=106 second=239 amount=1', 'kerning first=107 second=45 amount=-1', 'kerning first=107 second=64 amount=-1', 'kerning first=107 second=84 amount=-1', 'kerning first=107 second=92 amount=-1', 'kerning first=107 second=126 amount=-1', 'kerning first=217 second=122 amount=-1', 'kerning first=216 second=122 amount=-1', 'kerning first=174 second=47 amount=-1', 'kerning first=108 second=41 amount=1', 'kerning first=108 second=93 amount=1', 'kerning first=108 second=95 amount=1', 'kerning first=108 second=102 amount=1', 'kerning first=108 second=106 amount=1', 'kerning first=108 second=116 amount=1', 'kerning first=108 second=120 amount=1', 'kerning first=108 second=121 amount=1', 'kerning first=108 second=125 amount=1', 'kerning first=108 second=223 amount=1', 'kerning first=108 second=239 amount=1', 'kerning first=108 second=253 amount=1', 'kerning first=108 second=255 amount=1', 'kerning first=108 second=35 amount=1', 'kerning first=109 second=84 amount=-1', 'kerning first=109 second=89 amount=-1', 'kerning first=109 second=92 amount=-1', 'kerning first=110 second=84 amount=-1', 'kerning first=110 second=89 amount=-1', 'kerning first=110 second=92 amount=-1', 'kerning first=111 second=47 amount=-1', 'kerning first=111 second=89 amount=-1', 'kerning first=111 second=92 amount=-1', 'kerning first=112 second=47 amount=-1', 'kerning first=112 second=84 amount=-1', 'kerning first=112 second=89 amount=-1', 'kerning first=112 second=92 amount=-1', 'kerning first=113 second=95 amount=1', 'kerning first=113 second=106 amount=1', 'kerning first=114 second=38 amount=-1', 'kerning first=114 second=41 amount=-1', 'kerning first=114 second=44 amount=-2', 'kerning first=114 second=45 amount=-1', 'kerning first=114 second=46 amount=-2', 'kerning first=114 second=47 amount=-2', 'kerning first=114 second=64 amount=-1', 'kerning first=114 second=74 amount=-1', 'kerning first=114 second=84 amount=-1', 'kerning first=114 second=89 amount=-1', 'kerning first=114 second=92 amount=-1', 'kerning first=114 second=93 amount=-1', 'kerning first=114 second=95 amount=-2', 'kerning first=114 second=97 amount=-1', 'kerning first=114 second=99 amount=-1', 'kerning first=114 second=100 amount=-1', 'kerning first=114 second=101 amount=-1', 'kerning first=114 second=103 amount=-1', 'kerning first=114 second=111 amount=-1', 'kerning first=114 second=113 amount=-1', 'kerning first=114 second=115 amount=-1', 'kerning first=114 second=117 amount=-1', 'kerning first=114 second=122 amount=-1', 'kerning first=114 second=125 amount=-1', 'kerning first=114 second=126 amount=-1', 'kerning first=214 second=122 amount=-1', 'kerning first=213 second=122 amount=-1', 'kerning first=212 second=122 amount=-1', 'kerning first=211 second=122 amount=-1', 'kerning first=210 second=122 amount=-1', 'kerning first=208 second=122 amount=-1', 'kerning first=207 second=239 amount=2', 'kerning first=207 second=207 amount=1', 'kerning first=206 second=239 amount=2', 'kerning first=206 second=236 amount=1', 'kerning first=114 second=221 amount=-1', 'kerning first=114 second=224 amount=-1', 'kerning first=114 second=225 amount=-1', 'kerning first=114 second=226 amount=-1', 'kerning first=114 second=227 amount=-1', 'kerning first=114 second=228 amount=-1', 'kerning first=114 second=229 amount=-1', 'kerning first=114 second=230 amount=-1', 'kerning first=114 second=231 amount=-1', 'kerning first=114 second=232 amount=-1', 'kerning first=114 second=233 amount=-1', 'kerning first=114 second=234 amount=-1', 'kerning first=114 second=235 amount=-1', 'kerning first=114 second=240 amount=-1', 'kerning first=114 second=242 amount=-1', 'kerning first=114 second=243 amount=-1', 'kerning first=114 second=244 amount=-1', 'kerning first=114 second=245 amount=-1', 'kerning first=114 second=246 amount=-1', 'kerning first=114 second=248 amount=-1', 'kerning first=114 second=249 amount=-1', 'kerning first=114 second=250 amount=-1', 'kerning first=114 second=251 amount=-1', 'kerning first=114 second=252 amount=-1', 'kerning first=176 second=44 amount=-2', 'kerning first=115 second=47 amount=-1', 'kerning first=115 second=84 amount=-1', 'kerning first=115 second=89 amount=-1', 'kerning first=116 second=44 amount=1', 'kerning first=116 second=46 amount=1', 'kerning first=116 second=65 amount=1', 'kerning first=116 second=120 amount=1', 'kerning first=205 second=239 amount=1', 'kerning first=116 second=192 amount=1', 'kerning first=116 second=193 amount=1', 'kerning first=116 second=194 amount=1', 'kerning first=116 second=195 amount=1', 'kerning first=116 second=196 amount=1', 'kerning first=116 second=197 amount=1', 'kerning first=118 second=45 amount=1', 'kerning first=118 second=95 amount=-1', 'kerning first=118 second=102 amount=1', 'kerning first=118 second=116 amount=1', 'kerning first=118 second=118 amount=1', 'kerning first=118 second=120 amount=1', 'kerning first=118 second=121 amount=1', 'kerning first=205 second=204 amount=1', 'kerning first=203 second=223 amount=1', 'kerning first=203 second=221 amount=1', 'kerning first=118 second=171 amount=1', 'kerning first=118 second=253 amount=1', 'kerning first=118 second=255 amount=1', 'kerning first=176 second=46 amount=-2', 'kerning first=119 second=45 amount=1', 'kerning first=119 second=95 amount=-1', 'kerning first=119 second=102 amount=1', 'kerning first=119 second=116 amount=1', 'kerning first=119 second=120 amount=1', 'kerning first=119 second=121 amount=1', 'kerning first=203 second=197 amount=1', 'kerning first=203 second=196 amount=1', 'kerning first=203 second=195 amount=1', 'kerning first=119 second=171 amount=1', 'kerning first=119 second=253 amount=1', 'kerning first=119 second=255 amount=1', 'kerning first=176 second=47 amount=-1', 'kerning first=120 second=52 amount=1', 'kerning first=120 second=65 amount=1', 'kerning first=120 second=95 amount=1', 'kerning first=120 second=102 amount=1', 'kerning first=120 second=116 amount=1', 'kerning first=120 second=118 amount=1', 'kerning first=120 second=119 amount=1', 'kerning first=120 second=120 amount=1', 'kerning first=120 second=121 amount=1', 'kerning first=203 second=194 amount=1', 'kerning first=120 second=187 amount=1', 'kerning first=120 second=192 amount=1', 'kerning first=120 second=193 amount=1', 'kerning first=120 second=194 amount=1', 'kerning first=120 second=195 amount=1', 'kerning first=120 second=196 amount=1', 'kerning first=120 second=197 amount=1', 'kerning first=120 second=223 amount=1', 'kerning first=120 second=253 amount=1', 'kerning first=120 second=255 amount=1', 'kerning first=120 second=35 amount=1', 'kerning first=121 second=45 amount=1', 'kerning first=121 second=95 amount=-1', 'kerning first=121 second=102 amount=1', 'kerning first=121 second=116 amount=1', 'kerning first=121 second=118 amount=1', 'kerning first=121 second=120 amount=1', 'kerning first=121 second=121 amount=1', 'kerning first=203 second=193 amount=1', 'kerning first=203 second=192 amount=1', 'kerning first=203 second=120 amount=1', 'kerning first=121 second=171 amount=1', 'kerning first=121 second=253 amount=1', 'kerning first=121 second=255 amount=1', 'kerning first=176 second=126 amount=-1', 'kerning first=122 second=45 amount=-1', 'kerning first=122 second=47 amount=-1', 'kerning first=122 second=64 amount=-1', 'kerning first=122 second=74 amount=-1', 'kerning first=122 second=84 amount=-1', 'kerning first=122 second=88 amount=-1', 'kerning first=122 second=89 amount=-1', 'kerning first=122 second=90 amount=-1', 'kerning first=122 second=92 amount=-1', 'kerning first=122 second=97 amount=-1', 'kerning first=122 second=99 amount=-1', 'kerning first=122 second=100 amount=-1', 'kerning first=122 second=101 amount=-1', 'kerning first=122 second=103 amount=-1', 'kerning first=122 second=111 amount=-1', 'kerning first=122 second=113 amount=-1', 'kerning first=122 second=122 amount=-1', 'kerning first=122 second=126 amount=-1', 'kerning first=203 second=116 amount=1', 'kerning first=203 second=106 amount=1', 'kerning first=203 second=102 amount=1', 'kerning first=203 second=95 amount=1', 'kerning first=203 second=89 amount=1', 'kerning first=122 second=224 amount=-1', 'kerning first=122 second=225 amount=-1', 'kerning first=122 second=226 amount=-1', 'kerning first=122 second=227 amount=-1', 'kerning first=122 second=228 amount=-1', 'kerning first=122 second=229 amount=-1', 'kerning first=122 second=230 amount=-1', 'kerning first=122 second=231 amount=-1', 'kerning first=122 second=232 amount=-1', 'kerning first=122 second=233 amount=-1', 'kerning first=122 second=234 amount=-1', 'kerning first=122 second=235 amount=-1', 'kerning first=122 second=240 amount=-1', 'kerning first=122 second=242 amount=-1', 'kerning first=122 second=243 amount=-1', 'kerning first=122 second=244 amount=-1', 'kerning first=122 second=245 amount=-1', 'kerning first=122 second=246 amount=-1', 'kerning first=122 second=248 amount=-1', 'kerning first=178 second=44 amount=-2', 'kerning first=123 second=42 amount=-1', 'kerning first=123 second=49 amount=-1', 'kerning first=123 second=64 amount=-1', 'kerning first=123 second=106 amount=1', 'kerning first=123 second=174 amount=-1', 'kerning first=123 second=239 amount=1', 'kerning first=126 second=41 amount=-1', 'kerning first=126 second=42 amount=-1', 'kerning first=126 second=44 amount=-1', 'kerning first=126 second=46 amount=-1', 'kerning first=126 second=47 amount=-1', 'kerning first=126 second=52 amount=1', 'kerning first=126 second=55 amount=-1', 'kerning first=126 second=60 amount=1', 'kerning first=126 second=62 amount=-1', 'kerning first=126 second=63 amount=-1', 'kerning first=126 second=84 amount=-1', 'kerning first=126 second=88 amount=-1', 'kerning first=126 second=89 amount=-1', 'kerning first=126 second=92 amount=-1', 'kerning first=126 second=93 amount=-1', 'kerning first=126 second=95 amount=-1', 'kerning first=126 second=118 amount=1', 'kerning first=126 second=119 amount=1', 'kerning first=126 second=121 amount=1', 'kerning first=126 second=122 amount=-1', 'kerning first=203 second=87 amount=1', 'kerning first=203 second=86 amount=1', 'kerning first=203 second=65 amount=1', 'kerning first=202 second=223 amount=1', 'kerning first=202 second=221 amount=1', 'kerning first=126 second=191 amount=-1', 'kerning first=126 second=208 amount=1', 'kerning first=126 second=253 amount=1', 'kerning first=126 second=255 amount=1', 'kerning first=202 second=197 amount=1', 'kerning first=202 second=196 amount=1', 'kerning first=202 second=195 amount=1', 'kerning first=202 second=194 amount=1', 'kerning first=202 second=193 amount=1', 'kerning first=202 second=192 amount=1', 'kerning first=202 second=120 amount=1', 'kerning first=202 second=116 amount=1', 'kerning first=202 second=106 amount=1', 'kerning first=202 second=102 amount=1', 'kerning first=202 second=95 amount=1', 'kerning first=202 second=89 amount=1', 'kerning first=202 second=87 amount=1', 'kerning first=202 second=86 amount=1', 'kerning first=202 second=65 amount=1', 'kerning first=201 second=223 amount=1', 'kerning first=201 second=197 amount=1', 'kerning first=201 second=196 amount=1', 'kerning first=201 second=195 amount=1', 'kerning first=201 second=194 amount=1', 'kerning first=201 second=193 amount=1', 'kerning first=201 second=192 amount=1', 'kerning first=201 second=120 amount=1', 'kerning first=201 second=116 amount=1', 'kerning first=201 second=106 amount=1', 'kerning first=201 second=102 amount=1', 'kerning first=201 second=95 amount=1', 'kerning first=201 second=87 amount=1', 'kerning first=201 second=86 amount=1', 'kerning first=201 second=65 amount=1', 'kerning first=200 second=223 amount=1', 'kerning first=200 second=197 amount=1', 'kerning first=200 second=196 amount=1', 'kerning first=200 second=195 amount=1', 'kerning first=200 second=194 amount=1', 'kerning first=200 second=193 amount=1', 'kerning first=200 second=192 amount=1', 'kerning first=200 second=120 amount=1', 'kerning first=200 second=116 amount=1', 'kerning first=200 second=106 amount=1', 'kerning first=200 second=102 amount=1', 'kerning first=200 second=95 amount=1', 'kerning first=200 second=87 amount=1', 'kerning first=200 second=86 amount=1', 'kerning first=200 second=65 amount=1', 'kerning first=199 second=126 amount=-1', 'kerning first=199 second=122 amount=-1', 'kerning first=198 second=223 amount=1', 'kerning first=198 second=120 amount=1', 'kerning first=198 second=116 amount=1', 'kerning first=198 second=106 amount=1', 'kerning first=198 second=102 amount=1', 'kerning first=198 second=89 amount=1', 'kerning first=198 second=87 amount=1', 'kerning first=198 second=86 amount=1', 'kerning first=198 second=84 amount=1', 'kerning first=198 second=65 amount=1', 'kerning first=197 second=223 amount=1', 'kerning first=197 second=197 amount=1', 'kerning first=197 second=196 amount=1', 'kerning first=197 second=195 amount=1', 'kerning first=197 second=194 amount=1', 'kerning first=197 second=193 amount=1', 'kerning first=197 second=192 amount=1', 'kerning first=197 second=120 amount=1', 'kerning first=197 second=116 amount=1', 'kerning first=197 second=106 amount=1', 'kerning first=197 second=102 amount=1', 'kerning first=197 second=95 amount=1', 'kerning first=197 second=65 amount=1', 'kerning first=197 second=46 amount=1', 'kerning first=197 second=44 amount=1', 'kerning first=196 second=223 amount=1', 'kerning first=196 second=197 amount=1', 'kerning first=196 second=196 amount=1', 'kerning first=196 second=195 amount=1', 'kerning first=196 second=194 amount=1', 'kerning first=196 second=193 amount=1', 'kerning first=196 second=192 amount=1', 'kerning first=196 second=120 amount=1', 'kerning first=196 second=116 amount=1', 'kerning first=196 second=106 amount=1', 'kerning first=196 second=102 amount=1', 'kerning first=196 second=95 amount=1', 'kerning first=196 second=65 amount=1', 'kerning first=196 second=46 amount=1', 'kerning first=196 second=44 amount=1', 'kerning first=195 second=223 amount=1', 'kerning first=195 second=197 amount=1', 'kerning first=195 second=196 amount=1', 'kerning first=195 second=195 amount=1', 'kerning first=195 second=194 amount=1', 'kerning first=195 second=193 amount=1', 'kerning first=195 second=192 amount=1', 'kerning first=195 second=120 amount=1', 'kerning first=195 second=116 amount=1', 'kerning first=195 second=106 amount=1', 'kerning first=195 second=102 amount=1', 'kerning first=195 second=95 amount=1', 'kerning first=195 second=65 amount=1', 'kerning first=195 second=46 amount=1', 'kerning first=195 second=44 amount=1', 'kerning first=194 second=223 amount=1', 'kerning first=194 second=197 amount=1', 'kerning first=194 second=196 amount=1', 'kerning first=194 second=195 amount=1', 'kerning first=194 second=194 amount=1', 'kerning first=194 second=193 amount=1', 'kerning first=194 second=192 amount=1', 'kerning first=194 second=120 amount=1', 'kerning first=194 second=116 amount=1', 'kerning first=194 second=106 amount=1', 'kerning first=194 second=102 amount=1', 'kerning first=194 second=95 amount=1', 'kerning first=194 second=65 amount=1', 'kerning first=194 second=46 amount=1', 'kerning first=194 second=44 amount=1', 'kerning first=193 second=223 amount=1', 'kerning first=193 second=197 amount=1', 'kerning first=193 second=196 amount=1', 'kerning first=193 second=195 amount=1', 'kerning first=193 second=194 amount=1', 'kerning first=193 second=193 amount=1', 'kerning first=193 second=192 amount=1', 'kerning first=193 second=120 amount=1', 'kerning first=193 second=116 amount=1', 'kerning first=193 second=106 amount=1', 'kerning first=193 second=102 amount=1', 'kerning first=193 second=95 amount=1', 'kerning first=193 second=65 amount=1', 'kerning first=193 second=46 amount=1', 'kerning first=193 second=44 amount=1', 'kerning first=192 second=223 amount=1', 'kerning first=192 second=197 amount=1', 'kerning first=192 second=196 amount=1', 'kerning first=192 second=195 amount=1', 'kerning first=192 second=194 amount=1', 'kerning first=192 second=193 amount=1', 'kerning first=192 second=192 amount=1', 'kerning first=192 second=120 amount=1', 'kerning first=192 second=116 amount=1', 'kerning first=192 second=106 amount=1', 'kerning first=192 second=102 amount=1', 'kerning first=192 second=95 amount=1', 'kerning first=192 second=65 amount=1', 'kerning first=192 second=46 amount=1', 'kerning first=192 second=44 amount=1', 'kerning first=192 second=39 amount=-1', 'kerning first=191 second=126 amount=-1', 'kerning first=191 second=89 amount=-1', 'kerning first=191 second=84 amount=-1', 'kerning first=187 second=121 amount=1', 'kerning first=187 second=119 amount=1', 'kerning first=187 second=118 amount=1', 'kerning first=187 second=52 amount=1', 'kerning first=186 second=47 amount=-1', 'kerning first=186 second=46 amount=-2', 'kerning first=186 second=44 amount=-2', 'kerning first=185 second=47 amount=-1', 'kerning first=185 second=46 amount=-1', 'kerning first=185 second=44 amount=-1', 'kerning first=183 second=55 amount=-1', 'kerning first=183 second=49 amount=-1', 'kerning first=182 second=239 amount=1', 'kerning first=182 second=208 amount=1', 'kerning first=182 second=106 amount=1', 'kerning first=182 second=91 amount=1', 'kerning first=179 second=47 amount=-1', 'kerning first=179 second=46 amount=-2', 'kerning first=179 second=44 amount=-2', 'kerning first=178 second=47 amount=-1', 'kerning first=178 second=46 amount=-2 '];\n/* harmony default export */ __webpack_exports__[\"default\"] = (font_def.join('\\n'));\n\n//# sourceURL=webpack:///./src/bmfont_definition_mana16.js?");

/***/ }),

/***/ "./src/debounce.js":
/*!*************************!*\
  !*** ./src/debounce.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// a klonkin wrapper for lodash's debounce function\n// converted to an node module\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = (typeof global === \"undefined\" ? \"undefined\" : _typeof(global)) == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = (typeof self === \"undefined\" ? \"undefined\" : _typeof(self)) == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/**\r\n* Used to resolve the\r\n* [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\r\n* of values.\r\n*/\n\nvar objectToString = objectProto.toString;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\r\n* Gets the timestamp of the number of milliseconds that have elapsed since\r\n* the Unix epoch (1 January 1970 00:00:00 UTC).\r\n*\r\n* @static\r\n* @memberOf _\r\n* @since 2.4.0\r\n* @category Date\r\n* @returns {number} Returns the timestamp.\r\n* @example\r\n*\r\n* _.defer(function(stamp) {\r\n*   console.log(_.now() - stamp);\r\n* }, _.now());\r\n* // => Logs the number of milliseconds it took for the deferred invocation.\r\n*/\n\nvar now = function now() {\n  return root.Date.now();\n};\n/**\r\n* Creates a debounced function that delays invoking `func` until after `wait`\r\n* milliseconds have elapsed since the last time the debounced function was\r\n* invoked. The debounced function comes with a `cancel` method to cancel\r\n* delayed `func` invocations and a `flush` method to immediately invoke them.\r\n* Provide `options` to indicate whether `func` should be invoked on the\r\n* leading and/or trailing edge of the `wait` timeout. The `func` is invoked\r\n* with the last arguments provided to the debounced function. Subsequent\r\n* calls to the debounced function return the result of the last `func`\r\n* invocation.\r\n*\r\n* **Note:** If `leading` and `trailing` options are `true`, `func` is\r\n* invoked on the trailing edge of the timeout only if the debounced function\r\n* is invoked more than once during the `wait` timeout.\r\n*\r\n* If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\r\n* until to the next tick, similar to `setTimeout` with a timeout of `0`.\r\n*\r\n* See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\r\n* for details over the differences between `_.debounce` and `_.throttle`.\r\n*\r\n* @static\r\n* @memberOf _\r\n* @since 0.1.0\r\n* @category Function\r\n* @param {Function} func The function to debounce.\r\n* @param {number} [wait=0] The number of milliseconds to delay.\r\n* @param {Object} [options={}] The options object.\r\n* @param {boolean} [options.leading=false]\r\n*  Specify invoking on the leading edge of the timeout.\r\n* @param {number} [options.maxWait]\r\n*  The maximum time `func` is allowed to be delayed before it's invoked.\r\n* @param {boolean} [options.trailing=true]\r\n*  Specify invoking on the trailing edge of the timeout.\r\n* @returns {Function} Returns the new debounced function.\r\n* @example\r\n*\r\n* // Avoid costly calculations while the window size is in flux.\r\n* jQuery(window).on('resize', _.debounce(calculateLayout, 150));\r\n*\r\n* // Invoke `sendMail` when clicked, debouncing subsequent calls.\r\n* jQuery(element).on('click', _.debounce(sendMail, 300, {\r\n*   'leading': true,\r\n*   'trailing': false\r\n* }));\r\n*\r\n* // Ensure `batchLog` is invoked once after 1 second of debounced calls.\r\n* var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\r\n* var source = new EventSource('/stream');\r\n* jQuery(source).on('message', debounced);\r\n*\r\n* // Cancel the trailing debounced invocation.\r\n* jQuery(window).on('popstate', debounced.cancel);\r\n*/\n\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = wait || 0;\n\n  if (options) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(+options.maxWait || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (debounce);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///./src/debounce.js?");

/***/ }),

/***/ "./src/hordewave_gen.js":
/*!******************************!*\
  !*** ./src/hordewave_gen.js ***!
  \******************************/
/*! exports provided: generate, generate2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generate\", function() { return generate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"generate2\", function() { return generate2; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_app_hordewave.js */ \"./src/simpleui_app_hordewave.js\");\n\n\n\n\n\nfunction generate() {\n  for (var i = 0; i < 1000; i++) {\n    var o = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Entity\"])('enemy');\n    var sub_kinds = ['goblin', 'tiny_zombie', 'imp', 'skelet', 'muddy', 'swampy', 'zombie', 'ice_zombie', 'masked_orc', 'orc_warrior', 'orc_shaman', 'necromancer', 'wogol'];\n    o.anim_kind = 'idle';\n    o.anim_frame = 0;\n    o.anim_cooldown = 30;\n    o.sub_kind = sub_kinds[Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"randomInt\"])(0, sub_kinds.length)];\n    var position = [Math.random() * (_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].width - 1), Math.random() * (_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].height - 1)];\n    o.speed = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"randomInt\"])(1, 6) / 12;\n    o.size = _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size;\n    slang_entity(o, position);\n  }\n\n  for (var _i = 0; _i < 100; _i++) {\n    var _o = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Entity\"])('wall');\n\n    _o.sub_kind = 'column_mid';\n    _o.health = 10;\n    var _position = [Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"randomInt\"])(0, _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].width_in_cells - 1) * _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size + _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size / 2, Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"randomInt\"])(0, _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].height_in_cells - 1) * _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size + _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size / 2];\n    slang_entity(_o, _position);\n  }\n\n  var wall_subkinds1 = ['wall_left', 'wall_mid', 'wall_right', 'wall_hole_1', 'wall_hole_2', 'wall_banner_red', 'wall_banner_blue', 'wall_banner_green', 'wall_banner_yellow'];\n\n  for (var _i2 = 0; _i2 < 0; _i2++) {\n    var x_start = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"randomInt\"])(0, _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].width_in_cells - 1) * _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size + _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size / 2;\n    var y_start = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"randomInt\"])(0, _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].height_in_cells - 1) * _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size + _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size / 2;\n\n    for (var j = 0; j < 4; j++) {\n      var x_now = x_start + j * _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size;\n      if (x_now > _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].width) continue;\n\n      var _o2 = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Entity\"])('wall');\n\n      var rando = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"randomInt\"])(0, wall_subkinds1.length - 1);\n      _o2.sub_kind = wall_subkinds1[rando];\n      console.assert(_o2.sub_kind);\n      var _position2 = [x_now, y_start];\n      slang_entity(_o2, _position2);\n    }\n  }\n}\n\nfunction slang_entity(o, position) {\n  console.assert(o.sub_kind);\n  var prefill_cell = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"get_cell_for_position\"])(position);\n\n  if (prefill_cell.entity == null) {\n    o.cell = prefill_cell; // this is just so the set can assert that entity has a cell during normal set_entity_position calls        \n\n    Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"set_entity_position\"])(o, position);\n    Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"add_entity\"])(o);\n  } else {// dont add if entity already there\n  }\n} // Based on the BUILD technique here: https://slsdo.github.io/procedural-dungeon/\n\n\nfunction generate2() {\n  generate2_createDungeon(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].width_in_cells, _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].height_in_cells, g2.obj_num);\n  var wall = g2.tileDirtWall;\n  var floor = g2.tileDirtFloor; // final loop results to convert to our map\n\n  for (var y = 0; y < _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].height_in_cells; y++) {\n    var row = [];\n\n    for (var x = 0; x < _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].width_in_cells; x++) {\n      var is_wall = function is_wall(cell) {\n        return cell && cell == wall;\n      };\n\n      row.push(celltype);\n      var game_cell = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"get_cell2\"])(x, y);\n      var celltype = generate2_getCell(x, y);\n      var cell_up = generate2_getCell(x, y - 1);\n      var cell_down = generate2_getCell(x, y + 1);\n      var cell_left = generate2_getCell(x - 1, y);\n      var cell_right = generate2_getCell(x + 1, y);\n      var kind = null;\n      var sub_kind = generate2_getSubkind(x, y);\n      var has_cell_floor = null;\n      var entity_health = void 0;\n\n      if (celltype == g2.tileUnused) {\n        continue;\n      } else if (celltype == wall) {\n        kind = 'wall';\n        entity_health = 20; //sub_kind = 'wall_mid';\n\n        /*if (!is_wall(cell_up) && is_wall(cell_right) && is_wall(cell_down) && !is_wall(cell_left)) {\r\n            sub_kind = 'wall_corner_left';\r\n        } else if (!is_wall(cell_up) && !is_wall(cell_right) && is_wall(cell_down) && is_wall(cell_left)) {\r\n            sub_kind = 'wall_corner_right';\r\n        } else if (is_wall(cell_up) && !is_wall(cell_right) && !is_wall(cell_down) && is_wall(cell_left)) {\r\n            sub_kind = 'wall_corner_front_right'\r\n        } else if (is_wall(cell_up) && is_wall(cell_right) && !is_wall(cell_down) && !is_wall(cell_left)) {\r\n            sub_kind = 'wall_corner_front_left'\r\n        } else if (cell_up && cell_up == wall) {\r\n            if (cell_right && cell_right == floor) {\r\n                sub_kind = 'wall_side_mid_right';\r\n            } else {\r\n                sub_kind = 'wall_side_mid_left';\r\n            }\r\n        } else {\r\n            sub_kind = 'wall_mid';\r\n        }*/\n\n        has_cell_floor = true;\n      } else if (celltype == g2.tileDirtFloor) {\n        has_cell_floor = true;\n      } else if (celltype == g2.tileStoneWall) {//has_cell_floor = true;\n        //kind = 'wall';\n        //sub_kind = 'wall_mid';\n      } else if (celltype == g2.tileCorridor) {\n        if (Math.random() < 0.8) {\n          has_cell_floor = true;\n        }\n      } else if (celltype == g2.tileDoor) {\n        has_cell_floor = true;\n      }\n\n      if (has_cell_floor) {\n        var rand = Math.random();\n        var n = 1;\n\n        if (rand < 0.2) {\n          n = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"randomInt\"])(1, 8);\n        }\n\n        game_cell.floor = 'floor_' + n;\n      }\n\n      if (kind && sub_kind) {\n        var o = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Entity\"])(kind);\n        console.assert(o.kind);\n        o.sub_kind = sub_kind;\n        console.assert(o.sub_kind);\n\n        if (entity_health != null) {\n          o.health = entity_health;\n        }\n\n        var position = [x * _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size + _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size / 2, y * _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size + _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size / 2];\n        slang_entity(o, position);\n      }\n    } // print map to console\n    //console.log(row.join(''));\n\n  }\n}\n\nvar g2 = {\n  //size of the map\n  xsize: 0,\n  ysize: 0,\n  //number of \"objects\" to generate on the map\n  objects: 0,\n  //define the %chance to generate either a room or a corridor on the map\n  //BTW, rooms are 1st priority so actually it's enough to just define the chance of generating a room\n  chanceRoom: 50,\n  chanceCorridor: 50,\n  //our map\n  dungeon_map: [],\n  dungeon_map_sub_kind: [],\n  //the old seed from the RNG is saved in this one\n  oldseed: 0,\n  //a list over tile types we're using\n  tileUnused: 0,\n  tileDirtWall: 1,\n  tileDirtFloor: 2,\n  tileStoneWall: 3,\n  tileCorridor: 4,\n  tileDoor: 5,\n  //tileUpStairs: 6,\n  //tileDownStairs: 7,\n  //tileChest: 8,\n  //\n  max_rm_w: 16,\n  max_rm_h: 16,\n  max_corr_l: 10,\n  obj_num: 40 * 2,\n  corr_room: false\n};\n\nfunction generate2_createDungeon(inx, iny, inobj) {\n  // Here's the one generating the whole map\n  if (inobj < 1) g2.objects = 10;else g2.objects = inobj; // Adjust the size of the map if it's too small\n\n  if (inx < 3) g2.xsize = 3;else g2.xsize = inx;\n  if (iny < 3) g2.ysize = 3;else g2.ysize = iny; //System.out.println(msgXSize + g2.xsize);\n  //System.out.println(msgYSize + g2.ysize);\n  //System.out.println(msgMaxObjects + g2.objects);\n  //redefine the map var, so it's adjusted to our new map size\n  //g2.dungeon_map = new int[g2.xsize * g2.ysize];\n\n  g2.dungeon_map = [];\n  g2.dungeon_map_sub_kind = []; //start with making the \"standard stuff\" on the map\n\n  for (var y = 0; y < g2.ysize; y++) {\n    for (var x = 0; x < g2.xsize; x++) {\n      //ie, making the borders of unwalkable walls\n      if (y == 0) generate2_setCell(x, y, g2.tileStoneWall);else if (y == g2.ysize - 1) generate2_setCell(x, y, g2.tileStoneWall);else if (x == 0) generate2_setCell(x, y, g2.tileStoneWall);else if (x == g2.xsize - 1) generate2_setCell(x, y, g2.tileStoneWall); //and fill the rest with dirt\n      else generate2_setCell(x, y, g2.tileUnused);\n    }\n  } //start with making a room in the middle, which we can start building upon\n\n\n  var room1_result = generate2_makeRoom(Math.floor(g2.xsize / 2), Math.floor(g2.ysize / 2), g2.max_rm_w, g2.max_rm_h, generate2_getRand(0, 3));\n  console.assert(room1_result == true); //keep count of the number of \"objects\" we've made\n\n  var currentFeatures = 1; //+1 for the first room we just made\n  //then we start the main loop\n\n  for (var countingTries = 0; countingTries < 1000; countingTries++) {\n    //check if we've reached our quota\n    if (currentFeatures == g2.objects) {\n      break;\n    } //start with a random wall\n\n\n    var newx = 0;\n    var xmod = 0;\n    var newy = 0;\n    var ymod = 0;\n    var validTile = -1; //1000 chances to find a suitable object (room or corridor)..\n    //(yea, i know it's kinda ugly with a for-loop... -_-')\n\n    for (var testing = 0; testing < 1000; testing++) {\n      newx = generate2_getRand(1, g2.xsize - 1);\n      newy = generate2_getRand(1, g2.ysize - 1);\n      validTile = -1; //System.out.println(\"tempx: \" + newx + \"\\ttempy: \" + newy);\n\n      if (generate2_getCell(newx, newy) == g2.tileDirtWall || generate2_getCell(newx, newy) == g2.tileCorridor) {\n        //check if we can reach the place\n        if (generate2_getCell(newx, newy + 1) == g2.tileDirtFloor || generate2_getCell(newx, newy + 1) == g2.tileCorridor) {\n          validTile = 0; //\n\n          xmod = 0;\n          ymod = -1;\n        } else if (generate2_getCell(newx - 1, newy) == g2.tileDirtFloor || generate2_getCell(newx - 1, newy) == g2.tileCorridor) {\n          validTile = 1; //\n\n          xmod = +1;\n          ymod = 0;\n        } else if (generate2_getCell(newx, newy - 1) == g2.tileDirtFloor || generate2_getCell(newx, newy - 1) == g2.tileCorridor) {\n          validTile = 2; //\n\n          xmod = 0;\n          ymod = +1;\n        } else if (generate2_getCell(newx + 1, newy) == g2.tileDirtFloor || generate2_getCell(newx + 1, newy) == g2.tileCorridor) {\n          validTile = 3; //\n\n          xmod = -1;\n          ymod = 0;\n        } //check that we haven't got another door nearby, so we won't get alot of openings besides each other\n\n\n        if (validTile > -1) {\n          if (generate2_getCell(newx, newy + 1) == g2.tileDoor) //north\n            validTile = -1;else if (generate2_getCell(newx - 1, newy) == g2.tileDoor) //east\n            validTile = -1;else if (generate2_getCell(newx, newy - 1) == g2.tileDoor) //south\n            validTile = -1;else if (generate2_getCell(newx + 1, newy) == g2.tileDoor) //west\n            validTile = -1;\n        } //if we can, jump out of the loop and continue with the rest\n\n\n        if (validTile > -1) break;\n      }\n    }\n\n    if (validTile > -1) {\n      //choose what to build now at our newly found place, and at what direction\n      var feature = generate2_getRand(0, 100);\n\n      if (feature <= g2.chanceRoom) {\n        //a new room\n        if (generate2_makeRoom(newx + xmod, newy + ymod, g2.max_rm_w, g2.max_rm_h, validTile)) {\n          currentFeatures++; //add to our quota\n          //then we mark the wall opening with a door\n\n          generate2_setCell(newx, newy, g2.tileDoor); //clean up infront of the door so we can reach it\n\n          generate2_setCell(newx + xmod, newy + ymod, g2.tileDirtFloor);\n        }\n      } else if (feature >= g2.chanceRoom) {\n        //new corridor\n        if (generate2_makeCorridor(newx + xmod, newy + ymod, g2.max_corr_l, validTile)) {\n          //same thing here, add to the quota and a door\n          currentFeatures++;\n\n          if (g2.corr_room) {\n            currentFeatures++;\n            g2.corr_room = false;\n          }\n\n          generate2_setCell(newx, newy, g2.tileDoor);\n        }\n      }\n    }\n  }\n}\n\nfunction generate2_getRand(min, max) {\n  var n = max - min + 1;\n  var i = Math.floor(Math.random() * n);\n  if (i < 0) i = -i;\n  return min + i;\n}\n\nfunction generate2_makeRoom(x, y, xlength, ylength, direction) {\n  /*******************************************************************************/\n  x = Math.floor(x);\n  y = Math.floor(y); //console.log('[generate2_makeRoom]', x, y, xlength, ylength, direction);\n  //define the dimensions of the room, it should be at least 4x4 tiles (2x2 for walking on, the rest is walls)\n\n  var xlen = generate2_getRand(4, xlength);\n  var ylen = generate2_getRand(4, ylength); //choose the way it's pointing at\n\n  var dir = 0;\n  if (direction > 0 && direction < 4) dir = direction; //console.log('   direction: ', direction);\n\n  dir = 3; // nolive\n\n  switch (dir) {\n    case 0:\n      // north\n      {\n        // x0 less y0 greater\n        var y0 = y - ylen;\n        var y1 = y;\n        var x0 = Math.floor(x - xlen / 2);\n        var x1 = Math.floor(x + (xlen + 1) / 2); //Check if there's enough space left for it\n\n        for (var ytemp = y0; ytemp > y1; ytemp--) {\n          if (ytemp < 0 || ytemp > g2.ysize) return false;\n\n          for (var xtemp = x0; xtemp < x1; xtemp++) {\n            if (xtemp < 0 || xtemp >= g2.xsize) return false;\n            if (generate2_getCell(xtemp, ytemp) != g2.tileUnused) return false; //no space left...\n          }\n        } //we're still here, build\n\n\n        generate2_makeRoom2(x0, x1, y0, y1);\n      }\n      break;\n\n    case 1:\n      // east\n      {\n        // x0 less y0 greater\n        var _y = Math.floor(y - ylen / 2);\n\n        var _y2 = Math.floor(y + (ylen + 1) / 2);\n\n        var _x = x;\n\n        var _x2 = Math.floor(x + xlen); //Check if there's enough space left for it\n\n\n        for (var _ytemp = _y; _ytemp > _y2; _ytemp--) {\n          if (_ytemp < 0 || _ytemp > g2.ysize) return false;\n\n          for (var _xtemp = _x; _xtemp < _x2; _xtemp++) {\n            if (_xtemp < 0 || _xtemp >= g2.xsize) return false;\n            if (generate2_getCell(_xtemp, _ytemp) != g2.tileUnused) return false; //no space left...\n          }\n        } //we're still here, build\n\n\n        generate2_makeRoom2(_x, _x2, _y, _y2);\n      }\n      break;\n\n    case 2:\n      // south\n      {\n        // x0 less y0 greater\n        var _y3 = y;\n\n        var _y4 = y + ylen;\n\n        var _x3 = Math.floor(x - xlen / 2);\n\n        var _x4 = Math.floor(x + (xlen + 1) / 2); //Check if there's enough space left for it\n\n\n        for (var _ytemp2 = _y3; _ytemp2 > _y4; _ytemp2--) {\n          if (_ytemp2 < 0 || _ytemp2 > g2.ysize) return false;\n\n          for (var _xtemp2 = _x3; _xtemp2 < _x4; _xtemp2++) {\n            if (_xtemp2 < 0 || _xtemp2 >= g2.xsize) return false;\n            if (generate2_getCell(_xtemp2, _ytemp2) != g2.tileUnused) return false; //no space left...\n          }\n        } //we're still here, build\n\n\n        generate2_makeRoom2(_x3, _x4, _y3, _y4);\n      }\n      break;\n\n    case 3:\n      // west\n      {\n        // x0 less y0 greater            \n        var _y5 = Math.floor(y - ylen / 2);\n\n        var _y6 = Math.floor(y + (ylen + 1) / 2);\n\n        var _x5 = x - xlen;\n\n        var _x6 = x; //Check if there's enough space left for it\n\n        for (var _ytemp3 = _y5; _ytemp3 > _y6; _ytemp3--) {\n          if (_ytemp3 < 0 || _ytemp3 > g2.ysize) return false;\n\n          for (var _xtemp3 = _x5; _xtemp3 < _x6; _xtemp3++) {\n            if (_xtemp3 < 0 || _xtemp3 >= g2.xsize) return false;\n            if (generate2_getCell(_xtemp3, _ytemp3) != g2.tileUnused) return false; //no space left...\n          }\n        } //we're still here, build\n\n\n        generate2_makeRoom2(_x5, _x6, _y5, _y6);\n      }\n      break;\n  } //yay, all done\n\n\n  return true;\n} // kk\n\n\nfunction generate2_makeRoom2(x0, x1, y0, y1) {\n  //console.log('[generate2_makeRoom2]', x0, x1, y0, y1);\n  console.assert(x0 < x1);\n  console.assert(y0 < y1);\n  var wall = g2.tileDirtWall;\n  var floor = g2.tileDirtFloor;\n\n  for (var y = y0; y < y1; y++) {\n    for (var x = x0; x < x1; x++) {\n      //start with the walls\n      if (x == x0) {\n        if (y == y1 - 1) {\n          //console.log('wall_corner_front_left');\n          generate2_setCell(x, y, wall, 'wall_corner_front_left');\n        } else if (y == y0) {\n          //console.log('wall_corner_left');\n          generate2_setCell(x, y, wall, 'wall_corner_left');\n        } else {\n          //console.log('wall_side_mid_right');\n          generate2_setCell(x, y, wall, 'wall_side_mid_right');\n        }\n      } else if (x == x1 - 1) {\n        if (y == y1 - 1) {\n          //console.log('wall_corner_front_right');\n          generate2_setCell(x, y, wall, 'wall_corner_front_right');\n        } else if (y == y0) {\n          //console.log('wall_corner_right');\n          generate2_setCell(x, y, wall, 'wall_corner_right');\n        } else {\n          //console.log('wall_side_mid_left')\n          generate2_setCell(x, y, wall, 'wall_side_mid_left');\n        }\n      } else if (y == y0) {\n        var front_wall = ['wall_left', 'wall_mid', 'wall_right'][Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"randomInt\"])(0, 2)]; //console.log(front_wall);\n\n        generate2_setCell(x, y, wall, front_wall);\n      } else if (y == y1 - 1) {\n        var _front_wall = ['wall_left', 'wall_mid', 'wall_right'][Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"randomInt\"])(0, 2)]; //console.log(front_wall);\n\n        generate2_setCell(x, y, wall, _front_wall);\n      } //and then fill with the floor \n      else {\n          //console.log('floor');\n          generate2_setCell(x, y, floor);\n        }\n    }\n  }\n}\n\nfunction generate2_makeCorridor(x, y, length, direction) {\n  //define the dimensions of the corridor (er.. only the width and height..)\n  var len = generate2_getRand(2, length);\n  var floor = g2.tileCorridor;\n  var dir = 0;\n  if (direction > 0 && direction < 4) dir = direction;\n  var xtemp = 0;\n  var ytemp = 0; // reject corridors that are out of bounds\n\n  if (x < 0 || x > g2.xsize) return false;\n  if (y < 0 || y > g2.ysize) return false;\n\n  switch (dir) {\n    case 0:\n      //north\n      xtemp = x; // make sure it's not out of the boundaries\n\n      for (ytemp = y; ytemp > y - len; ytemp--) {\n        if (ytemp < 0 || ytemp > g2.ysize) return false; //oh boho, it was!\n\n        if (generate2_getCell(xtemp, ytemp) != g2.tileUnused) return false;\n      } //if we're still here, let's start building\n\n\n      for (ytemp = y; ytemp > y - len; ytemp--) {\n        generate2_setCell(xtemp, ytemp, floor);\n      }\n\n      break;\n\n    case 1:\n      //east\n      ytemp = y;\n\n      for (xtemp = x; xtemp < x + len; xtemp++) {\n        if (xtemp < 0 || xtemp > g2.xsize) return false;\n        if (generate2_getCell(xtemp, ytemp) != g2.tileUnused) return false;\n      }\n\n      for (xtemp = x; xtemp < x + len; xtemp++) {\n        generate2_setCell(xtemp, ytemp, floor);\n      }\n\n      break;\n\n    case 2:\n      // south\n      xtemp = x;\n\n      for (ytemp = y; ytemp < y + len; ytemp++) {\n        if (ytemp < 0 || ytemp > g2.ysize) return false;\n        if (generate2_getCell(xtemp, ytemp) != g2.tileUnused) return false;\n      }\n\n      for (ytemp = y; ytemp < y + len; ytemp++) {\n        generate2_setCell(xtemp, ytemp, floor);\n      }\n\n      break;\n\n    case 3:\n      // west\n      ytemp = y;\n\n      for (xtemp = x; xtemp > x - len; xtemp--) {\n        if (xtemp < 0 || xtemp > g2.xsize) return false;\n        if (generate2_getCell(xtemp, ytemp) != g2.tileUnused) return false;\n      }\n\n      for (xtemp = x; xtemp > x - len; xtemp--) {\n        generate2_setCell(xtemp, ytemp, floor);\n      }\n\n      break;\n  }\n\n  if (generate2_makeRoom(xtemp, ytemp, g2.max_rm_w, g2.max_rm_h, direction)) {\n    g2.corr_room = true; //then we mark the wall opening with a door\n\n    generate2_setCell(xtemp, ytemp, g2.tileDoor); //clean up infront of the door so we can reach it\n    //setCell(xtemp, ytemp, tileDirtFloor);\n  } //woot, we're still here! let's tell the other guys we're done!!\n\n\n  return true;\n}\n\nfunction generate2_setCell(x, y, celltype, sub_kind) {\n  if (celltype == 0 || celltype == 3) {// pass\n  } else {// debugger;\n    }\n\n  var i = x + g2.xsize * y;\n  g2.dungeon_map[i] = celltype;\n  g2.dungeon_map_sub_kind[i] = sub_kind;\n}\n\nfunction generate2_getCell(x, y) {\n  return g2.dungeon_map[x + g2.xsize * y];\n}\n\nfunction generate2_getSubkind(x, y) {\n  return g2.dungeon_map_sub_kind[x + g2.xsize * y];\n}\n\n\n\n//# sourceURL=webpack:///./src/hordewave_gen.js?");

/***/ }),

/***/ "./src/hordewave_linewalk.js":
/*!***********************************!*\
  !*** ./src/hordewave_linewalk.js ***!
  \***********************************/
/*! exports provided: line_plot_default, push_line_plot, pop_line_plot, line_walk, line_walk2, line_walk3, line_walk4, line_walk5, line_walk6, line_walk7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line_plot_default\", function() { return line_plot_default; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"push_line_plot\", function() { return push_line_plot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pop_line_plot\", function() { return pop_line_plot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line_walk\", function() { return line_walk; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line_walk2\", function() { return line_walk2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line_walk3\", function() { return line_walk3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line_walk4\", function() { return line_walk4; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line_walk5\", function() { return line_walk5; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line_walk6\", function() { return line_walk6; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line_walk7\", function() { return line_walk7; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_app_hordewave.js */ \"./src/simpleui_app_hordewave.js\");\n\n\n\n // it's time to get bresenham'd\n\nvar _line_plot_stack = [];\npush_line_plot(line_plot_default); //line_walk3 (mine) is good but small\n//line_walk4 (murphy thickline) is good but big\n//line_walk4_2 (underlying bres modified for murphy, should be similar to mine (3))... is...like mine.\n// 4 is probably the one i will use\n// it's the only one that absolutely covers all cells\n// can try to find a better solution later\n// best ones are line_walk6 (almost perfect!) and line_walk4 (thickline, goinky, but if need thickness it would work)\n// was using line_walk4 for a while before finding line_walk6 in some old browser tabs by accident today\n// actually line_walk6 IS perfect, BUT... entities in cells actually overlap into side cells\n// so... line_walk6 can miss things that are overlapping into a cell the linewalk doesn't touch\n// this is actually a problem with sub-cell movement causing entity aabb to be halfway in another cell which isn't checked in non-thickline algos\n// update, line_walk7 fixes line_walk6 problems, it is effectively line_walk6 with line width of 3\n// line_walk7 with width of 3 not perfect\n// line_walk7 with width of 4 not perfect\n// going back to line_walk4....\n// i think 7 has a problem with short lines... might be possible to fix, but going back to 4 for now\n// welp 4 is jank on short distances too...\n// need debug stepping.\n// should probably use a different alg for short distances\n\nfunction line_walk(x0, y0, x1, y1) {\n  if (Math.abs(y1 - y0) < Math.abs(x1 - x0)) {\n    if (x0 > x1) line_walk_low(x1, y1, x0, y0);else line_walk_low(x0, y0, x1, y1);\n  } else {\n    if (y0 > y1) line_walk_high(x1, y1, x0, y0);else line_walk_high(x0, y0, x1, y1);\n  }\n}\n\nfunction line_walk_low(x0, y0, x1, y1) {\n  var dx = x1 - x0;\n  var dy = y1 - y0;\n  var yi = 1;\n\n  if (dy < 0) {\n    yi = -1;\n    dy = -dy;\n  }\n\n  var D = 2 * dy - dx;\n  var y = y0;\n\n  for (var x = x0; x < x1; x++) {\n    line_plot(x, y);\n\n    if (D > 0) {\n      y = y + yi;\n      D = D + 2 * (dy - dx);\n    } else {\n      D = D + 2 * dy;\n    }\n  }\n}\n\nfunction line_walk_high(x0, y0, x1, y1) {\n  var dx = x1 - x0;\n  var dy = y1 - y0;\n  var xi = 1;\n\n  if (dx < 0) {\n    xi = -1;\n    dx = -dx;\n  }\n\n  var D = 2 * dx - dy;\n  var x = x0;\n\n  for (var y = y0; y < y1; y++) {\n    line_plot(x, y);\n\n    if (D > 0) {\n      x = x + xi;\n      D = D + 2 * (dx - dy);\n    } else {\n      D = D + 2 * dx;\n    }\n  }\n}\n\nfunction line_walk2(x1, y1, x2, y2) {\n  var dx = x2 - x1;\n  var dy = y2 - y1;\n\n  for (var x = x1; x < x2; x++) {\n    var y = y1 + dy * (x - x1) / dx;\n    line_plot(x, y);\n  }\n} // my own modify bresenham to include extra pixels on lane-change\n// might be good enough... but going to try thickline next\n// overlap arg added to implement murphy thickline..\n// not sure if i got overlap order right, one is major one is minor, i'll figure it out\n\n\nfunction line_walk3(x0, y0, x1, y1, overlap) {\n  if (overlap == null) {\n    overlap = [true, true];\n  }\n\n  if (Math.abs(y1 - y0) < Math.abs(x1 - x0)) {\n    if (x0 > x1) line_walk_low3(x1, y1, x0, y0, overlap);else line_walk_low3(x0, y0, x1, y1, overlap);\n  } else {\n    if (y0 > y1) line_walk_high3(x1, y1, x0, y0, overlap);else line_walk_high3(x0, y0, x1, y1, overlap);\n  }\n}\n\nfunction line_walk_low3(x0, y0, x1, y1, overlap) {\n  var dx = x1 - x0;\n  var dy = y1 - y0;\n  var yi = 1;\n\n  if (dy < 0) {\n    yi = -1;\n    dy = -dy;\n  }\n\n  var D = 2 * dy - dx;\n  var y = y0;\n\n  for (var x = x0; x < x1; x++) {\n    line_plot(x, y);\n\n    if (D > 0) {\n      if (overlap[0]) {\n        line_plot(x + 1, y, 'rgba(255,0,255,0.5)');\n        line_plot(x + 1 + 1, y, 'rgba(255,0,0,0.6)'); // more hax, works\n      }\n\n      y = y + yi;\n\n      if (overlap[1]) {\n        line_plot(x, y, 'rgba(0,255,255,0.5)');\n        line_plot(x - 1, y, 'rgba(0,255,0,0.6)'); // more hax, works\n      }\n\n      D = D + 2 * (dy - dx);\n    } else {\n      D = D + 2 * dy;\n    }\n  }\n}\n\nfunction line_walk_high3(x0, y0, x1, y1, overlap) {\n  var dx = x1 - x0;\n  var dy = y1 - y0;\n  var xi = 1;\n\n  if (dx < 0) {\n    xi = -1;\n    dx = -dx;\n  }\n\n  var D = 2 * dx - dy;\n  var x = x0;\n\n  for (var y = y0; y < y1; y++) {\n    line_plot(x, y);\n\n    if (D > 0) {\n      if (overlap[0]) {\n        line_plot(x, y + 1, 'rgba(255,0,255,0.5)');\n        line_plot(x, y + 1 + 1, 'rgba(255,0,0,0.6)'); // more hax, works\n      }\n\n      x = x + xi;\n\n      if (overlap[1]) {\n        line_plot(x, y, 'rgba(0,255,255,0.5)');\n        line_plot(x, y - 1, 'rgba(0,255,0,0.6)'); // more hax, works\n      }\n\n      D = D + 2 * (dx - dy);\n    } else {\n      D = D + 2 * dx;\n    }\n  }\n} // murphy thickline\n\n\nfunction line_walk4(x0, y0, x1, y1) {\n  var thickness = 4;\n  var mode = 2;\n\n  if (thickness <= 1) {\n    line_walk4_2(x0, y0, x1, y1, [false, false]);\n  }\n\n  var tDeltaX;\n  var tDeltaY;\n  var tDeltaXTimes2;\n  var tDeltaYTimes2;\n  var tError;\n  var tStepX;\n  var tStepY;\n  var aXStart = x0;\n  var aYStart = y0;\n  var aXEnd = x1;\n  var aYEnd = y1;\n  /**\r\n   * For coordinate system with 0.0 located at top-left.\r\n   * Swap X and Y delta and calculate clockwise (new delta X inverted)\r\n   * or counterclockwise (new delta Y inverted) rectangular direction.\r\n   * The right rectangular direction for LineOverlap.MAJOR toggles with each octant\r\n   */\n\n  tDeltaY = aXEnd - aXStart;\n  tDeltaX = aYEnd - aYStart; // mirror 4 quadrants to one and adjust deltas and stepping direction\n\n  var tSwap = true; // count effective mirroring\n\n  if (tDeltaX < 0) {\n    tDeltaX = -tDeltaX;\n    tStepX = -1;\n    tSwap = !tSwap;\n  } else {\n    tStepX = +1;\n  }\n\n  if (tDeltaY < 0) {\n    tDeltaY = -tDeltaY;\n    tStepY = -1;\n    tSwap = !tSwap;\n  } else {\n    tStepY = +1;\n  }\n\n  tDeltaXTimes2 = tDeltaX << 1;\n  tDeltaYTimes2 = tDeltaY << 1; //Set<Overlap> tOverlap;\n\n  var tOverlap; // adjust for right direction of thickness from line origin\n\n  var tDrawStartAdjustCount;\n\n  switch (mode) {\n    case 0:\n      //COUNTERCLOCKWISE:\n      tDrawStartAdjustCount = thickness - 1;\n      break;\n\n    case 1:\n      // CLOCKWISE:\n      tDrawStartAdjustCount = 0;\n      break;\n\n    case 2:\n      //MIDDLE:\n      tDrawStartAdjustCount = thickness / 2;\n      break;\n\n    default:\n      console.error('unexpected mode', mode);\n  } // which octant are we now\n\n\n  if (tDeltaX >= tDeltaY) {\n    if (tSwap) {\n      tDrawStartAdjustCount = thickness - 1 - tDrawStartAdjustCount;\n      tStepY = -tStepY;\n    } else {\n      tStepX = -tStepX;\n    }\n    /*\r\n        * Vector for draw direction of lines is rectangular and counterclockwise to original line\r\n        * Therefore no pixel will be missed if LINE_OVERLAP_MAJOR is used\r\n        * on changing in minor rectangular direction\r\n        */\n    // adjust draw start point\n\n\n    tError = tDeltaYTimes2 - tDeltaX;\n\n    for (var i = tDrawStartAdjustCount; i > 0; i--) {\n      // change X (main direction here)\n      aXStart -= tStepX;\n      aXEnd -= tStepX;\n\n      if (tError >= 0) {\n        // change Y\n        aYStart -= tStepY;\n        aYEnd -= tStepY;\n        tError -= tDeltaXTimes2;\n      }\n\n      tError += tDeltaYTimes2;\n    } //iterate start line\n    //iterateLine2D(aXStart, aYStart, aXEnd, aYEnd, visitor);\n\n\n    line_walk4_2(aXStart, aYStart, aXEnd, aYEnd, [false, false]); // draw aThickness lines\n\n    tError = tDeltaYTimes2 - tDeltaX;\n\n    for (var _i = thickness; _i > 1; _i--) {\n      // change X (main direction here)\n      aXStart += tStepX;\n      aXEnd += tStepX;\n      tOverlap = [false, false];\n\n      if (tError >= 0) {\n        // change Y\n        aYStart += tStepY;\n        aYEnd += tStepY;\n        tError -= tDeltaXTimes2;\n        /*\r\n            * change in minor direction reverse to line (main) direction\r\n            * because of chosing the right (counter)clockwise draw vector\r\n            * use LINE_OVERLAP_MAJOR to fill all pixel\r\n            *\r\n            * EXAMPLE:\r\n            * 1,2 = Pixel of first lines\r\n            * 3 = Pixel of third line in normal line mode\r\n            * - = Pixel which will be drawn in LINE_OVERLAP_MAJOR mode\r\n            *           33\r\n            *       3333-22\r\n            *   3333-222211\r\n            * 33-22221111\r\n            *  221111                     /\\\r\n                *  11                          Main direction of draw vector\r\n            *  -> Line main direction\r\n            *  <- Minor direction of counterclockwise draw vector\r\n            */\n        //tOverlap = EnumSet.of(Overlap.MAJOR);\n\n        tOverlap = [true, false];\n      }\n\n      tError += tDeltaYTimes2; //iterateLine2D(aXStart, aYStart, aXEnd, aYEnd, visitor, tOverlap);\n\n      line_walk4_2(aXStart, aYStart, aXEnd, aYEnd, tOverlap);\n    }\n  } else {\n    // the other octant\n    if (tSwap) {\n      tStepX = -tStepX;\n    } else {\n      tDrawStartAdjustCount = thickness - 1 - tDrawStartAdjustCount;\n      tStepY = -tStepY;\n    } // adjust draw start point\n\n\n    tError = tDeltaXTimes2 - tDeltaY;\n\n    for (var _i2 = tDrawStartAdjustCount; _i2 > 0; _i2--) {\n      aYStart -= tStepY;\n      aYEnd -= tStepY;\n\n      if (tError >= 0) {\n        aXStart -= tStepX;\n        aXEnd -= tStepX;\n        tError -= tDeltaYTimes2;\n      }\n\n      tError += tDeltaXTimes2;\n    } //iteratestart line\n    //iterateLine2D(aXStart, aYStart, aXEnd, aYEnd, visitor);\n\n\n    line_walk4_2(aXStart, aYStart, aXEnd, aYEnd, [false, false]);\n    tError = tDeltaXTimes2 - tDeltaY;\n\n    for (var _i3 = thickness; _i3 > 1; _i3--) {\n      aYStart += tStepY;\n      aYEnd += tStepY;\n      tOverlap = [false, false]; //EnumSet.noneOf(Overlap.class);\n\n      if (tError >= 0) {\n        aXStart += tStepX;\n        aXEnd += tStepX;\n        tError -= tDeltaYTimes2;\n        tOverlap = [true, false]; //EnumSet.of(Overlap.MAJOR);\n      }\n\n      tError += tDeltaXTimes2; //iterateLine2D(aXStart, aYStart, aXEnd, aYEnd, visitor, tOverlap);\n\n      line_walk4_2(aXStart, aYStart, aXEnd, aYEnd, tOverlap);\n    }\n  }\n}\n\nfunction line_walk4_2(aXStart, aYStart, aXEnd, aYEnd, overlap) {\n  if (overlap == null) {\n    overlap = [false, false];\n  }\n\n  var tDeltaX;\n  var tDeltaY;\n  var tDeltaXTimes2;\n  var tDeltaYTimes2;\n  var tError;\n  var tStepX;\n  var tStepY;\n\n  if (aXStart == aXEnd || aYStart == aYEnd) {\n    //horizontal or vertical line -> directly add all points\n    var sx = Math.min(aXStart, aXEnd);\n    var sy = Math.min(aYStart, aYEnd);\n    var ex = Math.max(aXStart, aXEnd);\n    var ey = Math.max(aYStart, aYEnd);\n\n    for (var y = sy; y <= ey; y++) {\n      for (var x = sx; x <= ex; x++) {\n        line_plot(x, y);\n      }\n    }\n  } else {\n    //calculate direction\n    tDeltaX = aXEnd - aXStart;\n    tDeltaY = aYEnd - aYStart;\n\n    if (tDeltaX < 0) {\n      tDeltaX = -tDeltaX;\n      tStepX = -1;\n    } else {\n      tStepX = +1;\n    }\n\n    if (tDeltaY < 0) {\n      tDeltaY = -tDeltaY;\n      tStepY = -1;\n    } else {\n      tStepY = +1;\n    }\n\n    tDeltaXTimes2 = tDeltaX << 1;\n    tDeltaYTimes2 = tDeltaY << 1; // add start pixel\n\n    line_plot(aXStart, aYStart);\n\n    if (tDeltaX > tDeltaY) {\n      // start value represents a half step in Y direction\n      tError = tDeltaYTimes2 - tDeltaX;\n\n      while (aXStart != aXEnd) {\n        // step in main direction\n        aXStart += tStepX;\n\n        if (tError >= 0) {\n          if (overlap[0]) {\n            // draw pixel in main direction before changing                        \n            line_plot(aXStart, aYStart, 'rgba(255,0,0,0.5)');\n          } // change Y\n\n\n          aYStart += tStepY;\n\n          if (overlap[1]) {\n            // draw pixel in minor direction before changing\n            line_plot(aXStart - tStepX, aYStart, 'rgba(0,255,255,0.5)');\n          }\n\n          tError -= tDeltaXTimes2;\n        }\n\n        tError += tDeltaYTimes2;\n        line_plot(aXStart, aYStart);\n      }\n    } else {\n      tError = tDeltaXTimes2 - tDeltaY;\n\n      while (aYStart != aYEnd) {\n        aYStart += tStepY;\n\n        if (tError >= 0) {\n          if (overlap[0]) {\n            // draw pixel in main direction before changing\n            line_plot(aXStart, aYStart, 'rgba(255,0,0,0.5)');\n          }\n\n          aXStart += tStepX;\n\n          if (overlap[1]) {\n            // draw pixel in minor direction before changing\n            line_plot(aXStart, aYStart - tStepY, 'rgba(0,255,255,0.5)');\n          }\n\n          tError -= tDeltaYTimes2;\n        }\n\n        tError += tDeltaXTimes2;\n        line_plot(aXStart, aYStart);\n      }\n    }\n  }\n} // simple thickline, out of order and with duplicates\n// https://github.com/Terasology/CommonWorld/blob/438ec1b251d92071c5e727ca3136d6a1df940819/src/main/java/org/terasology/commonworld/geom/BresenhamLineIterator.java\n\n\nfunction line_walk5(x0, y0, x1, y1) {\n  var thickness = 3;\n  var mode = 2;\n  var tDeltaX;\n  var tDeltaY;\n  var tDeltaXTimes2;\n  var tDeltaYTimes2;\n  var tError;\n  var tStepX;\n  var tStepY;\n  var aXStart = x0;\n  var aYStart = y0;\n  var aXEnd = x1;\n  var aYEnd = y1;\n  tDeltaY = aXStart - aXEnd;\n  tDeltaX = aYEnd - aYStart; // mirror 4 quadrants to one and adjust deltas and stepping direction\n\n  if (tDeltaX < 0) {\n    tDeltaX = -tDeltaX;\n    tStepX = -1;\n  } else {\n    tStepX = +1;\n  }\n\n  if (tDeltaY < 0) {\n    tDeltaY = -tDeltaY;\n    tStepY = -1;\n  } else {\n    tStepY = +1;\n  }\n\n  tDeltaXTimes2 = tDeltaX << 1;\n  tDeltaYTimes2 = tDeltaY << 1; //Set<Overlap> tOverlap;\n\n  var tOverlap; // which octant are we now\n\n  if (tDeltaX > tDeltaY) {\n    if (mode == 2) {\n      // adjust draw start point\n      tError = tDeltaYTimes2 - tDeltaX;\n\n      for (var i = thickness / 2; i > 0; i--) {\n        // change X (main direction here)\n        aXStart -= tStepX;\n        aXEnd -= tStepX;\n\n        if (tError >= 0) {\n          // change Y\n          aYStart -= tStepY;\n          aYEnd -= tStepY;\n          tError -= tDeltaXTimes2;\n        }\n\n        tError += tDeltaYTimes2;\n      }\n    } //draw start line\n\n\n    line_walk4_2(aXStart, aYStart, aXEnd, aYEnd); // draw aThickness lines\n\n    tError = tDeltaYTimes2 - tDeltaX;\n\n    for (var _i4 = thickness; _i4 > 1; _i4--) {\n      // change X (main direction here)\n      aXStart += tStepX;\n      aXEnd += tStepX;\n      tOverlap = [false, false]; //EnumSet.noneOf(Overlap.class);\n\n      if (tError >= 0) {\n        // change Y\n        aYStart += tStepY;\n        aYEnd += tStepY;\n        tError -= tDeltaXTimes2;\n        tOverlap = [true, true]; //EnumSet.of(Overlap.MINOR, Overlap.MAJOR);\n      }\n\n      tError += tDeltaYTimes2;\n      line_walk4_2(aXStart, aYStart, aXEnd, aYEnd, tOverlap);\n    }\n  } else {\n    // adjust draw start point\n    if (mode == 2) {\n      tError = tDeltaXTimes2 - tDeltaY;\n\n      for (var _i5 = thickness / 2; _i5 > 0; _i5--) {\n        aYStart -= tStepY;\n        aYEnd -= tStepY;\n\n        if (tError >= 0) {\n          aXStart -= tStepX;\n          aXEnd -= tStepX;\n          tError -= tDeltaYTimes2;\n        }\n\n        tError += tDeltaXTimes2;\n      }\n    } //draw start line\n\n\n    line_walk4_2(aXStart, aYStart, aXEnd, aYEnd);\n    tError = tDeltaXTimes2 - tDeltaY;\n\n    for (var _i6 = thickness; _i6 > 1; _i6--) {\n      aYStart += tStepY;\n      aYEnd += tStepY;\n      tOverlap = [false, false]; //EnumSet.noneOf(Overlap.class);\n\n      if (tError >= 0) {\n        aXStart += tStepX;\n        aXEnd += tStepX;\n        tError -= tDeltaYTimes2;\n        tOverlap = [true, true]; //EnumSet.of(Overlap.MINOR, Overlap.MAJOR);\n      }\n\n      tError += tDeltaXTimes2;\n      line_walk4_2(aXStart, aYStart, aXEnd, aYEnd, tOverlap);\n    }\n  }\n} // plotLineAA from http://members.chello.at/easyfilter/bresenham.html\n\n\nfunction line_walk6(x0, y0, x1, y1) {\n  var dx = Math.abs(x1 - x0),\n      sx = x0 < x1 ? 1 : -1;\n  var dy = Math.abs(y1 - y0),\n      sy = y0 < y1 ? 1 : -1;\n  var err = dx - dy,\n      e2,\n      x2;\n  /* error value e_xy */\n\n  var ed = dx + dy == 0 ? 1 : Math.sqrt(dx * dx + dy * dy);\n\n  for (;;) {\n    /* pixel loop */\n    var alpha1 = 0.6; // Math.abs(err-dx+dy)/ed;\n\n    var color1 = 'rgba(255,255,0,' + alpha1 + ')';\n    line_plot(x0, y0, color1);\n    e2 = err;\n    x2 = x0;\n\n    if (2 * e2 >= -dx) {\n      /* x step */\n      if (x0 == x1) break;\n\n      if (e2 + dy < ed) {\n        var alpha2 = 0.6; // (e2+dy)/ed;\n\n        var color2 = 'rgba(0,255,0,' + alpha2 + ')';\n        line_plot(x0, y0 + sy, color2);\n      }\n\n      err -= dy;\n      x0 += sx;\n    }\n\n    if (2 * e2 <= dy) {\n      /* y step */\n      if (y0 == y1) break;\n\n      if (dx - e2 < ed) {\n        var alpha3 = 0.6; // (dx-e2)/ed;\n\n        var color3 = 'rgba(255,0,0,' + alpha3 + ')';\n        line_plot(x2 + sx, y0, color3);\n      }\n\n      err += dx;\n      y0 += sy;\n    }\n  }\n} // plotLineWidth from http://members.chello.at/easyfilter/bresenham.html\n\n\nfunction line_walk7(x0, y0, x1, y1) {\n  var wd = 4; // line width\n\n  var dx = Math.abs(x1 - x0),\n      sx = x0 < x1 ? 1 : -1;\n  var dy = Math.abs(y1 - y0),\n      sy = y0 < y1 ? 1 : -1;\n  var err = dx - dy,\n      e2,\n      x2,\n      y2;\n  /* error value e_xy */\n\n  var ed = dx + dy == 0 ? 1 : Math.sqrt(dx * dx + dy * dy);\n\n  for (wd = (wd + 1) / 2;;) {\n    /* pixel loop */\n    var alpha1 = 0.6; // Math.max(0,255*(Math.abs(err-dx+dy)/ed-wd+1))  \n\n    var color1 = 'rgba(255,255,0,' + alpha1 + ')';\n    line_plot(x0, y0, color1);\n    e2 = err;\n    x2 = x0;\n\n    if (2 * e2 >= -dx) {\n      /* x step */\n      for (e2 += dy, y2 = y0; e2 < ed * wd && (y1 != y2 || dx > dy); e2 += dx) {\n        var alpha2 = 0.6; // max(0,255*(Math.abs(e2)/ed-wd+1));\n\n        var color2 = 'rgba(0,255,0,' + alpha2 + ')';\n        line_plot(x0, y2 += sy, color2);\n      }\n\n      if (x0 == x1) break;\n      e2 = err;\n      err -= dy;\n      x0 += sx;\n    }\n\n    if (2 * e2 <= dy) {\n      /* y step */\n      for (e2 = dx - e2; e2 < ed * wd && (x1 != x2 || dx < dy); e2 += dy) {\n        var alpha3 = 0.6; // max(0,255*(Math.abs(e2)/ed-wd+1))\n\n        var color3 = 'rgba(255,0,0,' + alpha3 + ')';\n        line_plot(x2 += sx, y0, color3);\n      }\n\n      if (y0 == y1) break;\n      err += dx;\n      y0 += sy;\n    }\n  }\n}\n\nfunction line_plot_default(x, y, color) {\n  var cell_world_xy = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"cell_to_world_xy\"])([x, y]);\n  var cell_screen_xy = Object(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"world_to_screen_xy\"])(cell_world_xy);\n\n  if (color == null) {\n    color = 'rgba(255,255,0,0.5)';\n  }\n\n  _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Game\"].context.fillStyle = color;\n  _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Game\"].context.fillRect(cell_screen_xy[0], cell_screen_xy[1], _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size, _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_3__[\"Map\"].cell_size);\n}\n\nfunction line_plot(x, y, color) {\n  var fn = peek_line_plot();\n  return fn(x, y, color);\n}\n\nfunction push_line_plot(fn) {\n  _line_plot_stack.push(fn);\n}\n\nfunction pop_line_plot() {\n  return _line_plot_stack.pop();\n}\n\nfunction peek_line_plot() {\n  return _line_plot_stack[_line_plot_stack.length - 1];\n}\n\n\n\n//# sourceURL=webpack:///./src/hordewave_linewalk.js?");

/***/ }),

/***/ "./src/hordewave_tiles.js":
/*!********************************!*\
  !*** ./src/hordewave_tiles.js ***!
  \********************************/
/*! exports provided: hordewave_tiles_init, draw_sprite, draw_sprite_tint */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hordewave_tiles_init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"draw_sprite\", function() { return draw_sprite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"draw_sprite_tint\", function() { return draw_sprite_tint; });\n/* harmony import */ var _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui_app_hordewave.js */ \"./src/simpleui_app_hordewave.js\");\n/* harmony import */ var _images_dungeon_tileset_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./images/dungeon_tileset.png */ \"./src/images/dungeon_tileset.png\");\n/* harmony import */ var _images_dungeon_tileset_png__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_images_dungeon_tileset_png__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _images_gentle_forest_jungle_png__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./images/gentle_forest_jungle.png */ \"./src/images/gentle_forest_jungle.png\");\n/* harmony import */ var _images_gentle_forest_jungle_png__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_images_gentle_forest_jungle_png__WEBPACK_IMPORTED_MODULE_2__);\n// images that fail to load may be too large\n// see `limit: 64000` in webpack.config.js\n// & restart `npm watch` to see changes\n\n //import forest_image_source from './images/gentle_forest_moonlight.png';\n\n //import forest_image_source from './images/gentle_forest_rabite.png';\n\nvar dungeon_tileset_image = new Image(512, 512);\ndungeon_tileset_image.src = _images_dungeon_tileset_png__WEBPACK_IMPORTED_MODULE_1___default.a;\nvar forest_tileset_image = new Image(336, 256);\nforest_tileset_image.src = _images_gentle_forest_jungle_png__WEBPACK_IMPORTED_MODULE_2___default.a;\nvar Tiles = [];\nvar TilesByKey = {};\n\nfunction Tile(image, key, x, y, w, h, frame_count) {\n  return {\n    image: image,\n    key: key,\n    x: x,\n    y: y,\n    w: w,\n    h: h,\n    frame_count: frame_count\n  };\n}\n\nfunction register_tile(key, x, y, w, h, frame_count) {\n  if (frame_count == null || frame_count == 0) {\n    // || frame_count == 1) {\n    console.assert(TilesByKey[key] == null);\n    var tile = Tile(dungeon_tileset_image, key, x, y, w, h, frame_count);\n    Tiles.push(tile);\n    TilesByKey[key] = tile;\n  } else {\n    for (var i = 0; i < frame_count; i++) {\n      var frame_key = key + '#' + i;\n      var frame_x = x + i * w;\n      register_tile(frame_key, frame_x, y, w, h);\n    }\n  }\n}\n\nfunction register_tile2(key, grid_x, grid_y) {\n  console.assert(TilesByKey[key] == null);\n  var x = grid_x * 16;\n  var y = grid_y * 16;\n  var w = 16;\n  var h = 16;\n  var frame_count = null;\n  var tile = Tile(forest_tileset_image, key, x, y, w, h, frame_count);\n  Tiles.push(tile);\n  TilesByKey[key] = tile;\n}\n\nfunction init() {\n  register_tile('wall_top_left', 16, 0, 16, 16);\n  register_tile('wall_top_mid', 32, 0, 16, 16);\n  register_tile('wall_top_right', 48, 0, 16, 16);\n  register_tile('wall_left', 16, 16, 16, 16);\n  register_tile('wall_mid', 32, 16, 16, 16);\n  register_tile('wall_right', 48, 16, 16, 16);\n  register_tile('wall_fountain_top', 64, 0, 16, 16);\n  register_tile('wall_fountain_mid_red_anim', 64, 16, 16, 16, 3);\n  register_tile('wall_fountain_basin_red_anim', 64, 32, 16, 16, 3);\n  register_tile('wall_fountain_mid_blue_anim', 64, 48, 16, 16, 3);\n  register_tile('wall_fountain_basin_blue_anim', 64, 64, 16, 16, 3);\n  register_tile('wall_hole_1', 48, 32, 16, 16);\n  register_tile('wall_hole_2', 48, 48, 16, 16);\n  register_tile('wall_banner_red', 16, 32, 16, 16);\n  register_tile('wall_banner_blue', 32, 32, 16, 16);\n  register_tile('wall_banner_green', 16, 48, 16, 16);\n  register_tile('wall_banner_yellow', 32, 48, 16, 16);\n  register_tile('column_top', 80, 80, 16, 16);\n  register_tile('column_mid', 80, 96, 16, 16);\n  register_tile('column_base', 80, 112, 16, 16);\n  register_tile('wall_column_top', 96, 80, 16, 16);\n  register_tile('wall_column_mid', 96, 96, 16, 16);\n  register_tile('wall_column_base', 96, 112, 16, 16);\n  register_tile('wall_goo', 64, 80, 16, 16);\n  register_tile('wall_goo_base', 64, 96, 16, 16);\n  register_tile('floor_1', 16, 64, 16, 16);\n  register_tile('floor_2', 32, 64, 16, 16);\n  register_tile('floor_3', 48, 64, 16, 16);\n  register_tile('floor_4', 16, 80, 16, 16);\n  register_tile('floor_5', 32, 80, 16, 16);\n  register_tile('floor_6', 48, 80, 16, 16);\n  register_tile('floor_7', 16, 96, 16, 16);\n  register_tile('floor_8', 32, 96, 16, 16);\n  register_tile('floor_ladder', 48, 96, 16, 16);\n  register_tile('floor_spikes_anim', 16, 176, 16, 16, 4);\n  register_tile('wall_side_top_left', 0, 112, 16, 16);\n  register_tile('wall_side_top_right', 16, 112, 16, 16);\n  register_tile('wall_side_mid_left', 0, 128, 16, 16);\n  register_tile('wall_side_mid_right', 16, 128, 16, 16);\n  register_tile('wall_side_front_left', 0, 144, 16, 16);\n  register_tile('wall_side_front_right', 16, 144, 16, 16);\n  register_tile('wall_corner_top_left', 32, 112, 16, 16);\n  register_tile('wall_corner_top_right', 48, 112, 16, 16);\n  register_tile('wall_corner_left', 32, 128, 16, 16);\n  register_tile('wall_corner_right', 48, 128, 16, 16);\n  register_tile('wall_corner_bottom_left', 32, 144, 16, 16);\n  register_tile('wall_corner_bottom_right', 48, 144, 16, 16);\n  register_tile('wall_corner_front_left', 32, 160, 16, 16);\n  register_tile('wall_corner_front_right', 48, 160, 16, 16);\n  register_tile('wall_inner_corner_l_top_left', 80, 128, 16, 16);\n  register_tile('wall_inner_corner_l_top_rigth', 64, 128, 16, 16);\n  register_tile('wall_inner_corner_mid_left', 80, 144, 16, 16);\n  register_tile('wall_inner_corner_mid_rigth', 64, 144, 16, 16);\n  register_tile('wall_inner_corner_t_top_left', 80, 160, 16, 16);\n  register_tile('wall_inner_corner_t_top_rigth', 64, 160, 16, 16);\n  register_tile('edge', 96, 128, 16, 16);\n  register_tile('hole', 96, 144, 16, 16);\n  register_tile('doors_all', 16, 221, 64, 35);\n  register_tile('doors_frame_left', 16, 224, 16, 32);\n  register_tile('doors_frame_top', 32, 221, 32, 3);\n  register_tile('doors_frame_righ', 63, 224, 16, 32);\n  register_tile('doors_leaf_closed', 32, 224, 32, 32);\n  register_tile('doors_leaf_open', 80, 224, 32, 32);\n  register_tile('chest_empty_open_anim', 304, 288, 16, 16, 3);\n  register_tile('chest_full_open_anim', 304, 304, 16, 16, 3);\n  register_tile('chest_mimic_open_anim', 304, 320, 16, 16, 3);\n  register_tile('flask_big_red', 288, 224, 16, 16);\n  register_tile('flask_big_blue', 304, 224, 16, 16);\n  register_tile('flask_big_green', 320, 224, 16, 16);\n  register_tile('flask_big_yellow', 336, 224, 16, 16);\n  register_tile('flask_red', 288, 240, 16, 16);\n  register_tile('flask_blue', 304, 240, 16, 16);\n  register_tile('flask_green', 320, 240, 16, 16);\n  register_tile('flask_yellow', 336, 240, 16, 16);\n  register_tile('skull', 288, 320, 16, 16);\n  register_tile('crate', 288, 298, 16, 22);\n  register_tile('coin_anim', 288, 272, 8, 8, 4);\n  register_tile('ui_heart_full', 288, 256, 16, 16);\n  register_tile('ui_heart_half', 304, 256, 16, 16);\n  register_tile('ui_heart_empty', 320, 256, 16, 16);\n  register_tile('weapon_knife', 293, 18, 6, 13);\n  register_tile('weapon_rusty_sword', 307, 26, 10, 21);\n  register_tile('weapon_regular_sword', 323, 26, 10, 21);\n  register_tile('weapon_red_gem_sword', 339, 26, 10, 21);\n  register_tile('weapon_big_hammer', 291, 42, 10, 37);\n  register_tile('weapon_hammer', 307, 55, 10, 24);\n  register_tile('weapon_baton_with_spikes', 323, 57, 10, 22);\n  register_tile('weapon_mace', 339, 55, 10, 24);\n  register_tile('weapon_katana', 293, 82, 6, 29);\n  register_tile('weapon_saw_sword', 307, 86, 10, 25);\n  register_tile('weapon_anime_sword', 322, 81, 12, 30);\n  register_tile('weapon_axe', 341, 90, 9, 21);\n  register_tile('weapon_machete', 294, 121, 5, 22);\n  register_tile('weapon_cleaver', 310, 124, 8, 19);\n  register_tile('weapon_duel_sword', 325, 113, 9, 30);\n  register_tile('weapon_knight_sword', 339, 114, 10, 29);\n  register_tile('weapon_golden_sword', 291, 153, 10, 22);\n  register_tile('weapon_lavish_sword', 307, 145, 10, 30);\n  register_tile('weapon_red_magic_staff', 324, 145, 8, 30);\n  register_tile('weapon_green_magic_staff', 340, 145, 8, 30);\n  register_tile('weapon_spear', 293, 177, 6, 30);\n  register_tile('weapon_arrow', 308, 186, 7, 21);\n  register_tile('weapon_bow', 325, 180, 7, 25);\n  register_tile('tiny_zombie_idle_anim', 368, 16, 16, 16, 4);\n  register_tile('tiny_zombie_run_anim', 432, 16, 16, 16, 4);\n  register_tile('goblin_idle_anim', 368, 32, 16, 16, 4);\n  register_tile('goblin_run_anim', 432, 32, 16, 16, 4);\n  register_tile('imp_idle_anim', 368, 48, 16, 16, 4);\n  register_tile('imp_run_anim', 432, 48, 16, 16, 4);\n  register_tile('skelet_idle_anim', 368, 80, 16, 16, 4);\n  register_tile('skelet_run_anim', 432, 80, 16, 16, 4);\n  register_tile('muddy_idle_anim', 368, 112, 16, 16, 4);\n  register_tile('muddy_run_anim', 368, 112, 16, 16, 4);\n  register_tile('swampy_idle_anim', 432, 112, 16, 16, 4);\n  register_tile('swampy_run_anim', 432, 112, 16, 16, 4);\n  register_tile('zombie_idle_anim', 368, 144, 16, 16, 4);\n  register_tile('zombie_run_anim', 368, 144, 16, 16, 4);\n  register_tile('ice_zombie_idle_anim', 432, 144, 16, 16, 4);\n  register_tile('ice_zombie_run_anim', 432, 144, 16, 16, 4);\n  register_tile('masked_orc_idle_anim', 368, 172, 16, 20, 4);\n  register_tile('masked_orc_run_anim', 432, 172, 16, 20, 4);\n  register_tile('orc_warrior_idle_anim', 368, 204, 16, 20, 4);\n  register_tile('orc_warrior_run_anim', 432, 204, 16, 20, 4);\n  register_tile('orc_shaman_idle_anim', 368, 236, 16, 20, 4);\n  register_tile('orc_shaman_run_anim', 432, 236, 16, 20, 4);\n  register_tile('necromancer_idle_anim', 368, 268, 16, 20, 4);\n  register_tile('necromancer_run_anim', 368, 268, 16, 20, 4);\n  register_tile('wogol_idle_anim', 368, 300, 16, 20, 4);\n  register_tile('wogol_run_anim', 432, 300, 16, 20, 4);\n  register_tile('chort_idle_anim', 368, 328, 16, 24, 4);\n  register_tile('chort_run_anim', 432, 328, 16, 24, 4);\n  register_tile('big_zombie_idle_anim', 16, 270, 32, 34, 4);\n  register_tile('big_zombie_run_anim', 144, 270, 32, 34, 4);\n  register_tile('ogre_idle_anim', 16, 320, 32, 32, 4);\n  register_tile('ogre_run_anim', 144, 320, 32, 32, 4);\n  register_tile('big_demon_idle_anim', 16, 364, 32, 36, 4);\n  register_tile('big_demon_run_anim', 144, 364, 32, 36, 4);\n  register_tile('elf_f_idle_anim', 128, 4, 16, 28, 4);\n  register_tile('elf_f_run_anim', 192, 4, 16, 28, 4);\n  register_tile('elf_f_hit_anim', 256, 4, 16, 28, 1);\n  register_tile('elf_m_idle_anim', 128, 36, 16, 28, 4);\n  register_tile('elf_m_run_anim', 192, 36, 16, 28, 4);\n  register_tile('elf_m_hit_anim', 256, 36, 16, 28, 1);\n  register_tile('knight_f_idle_anim', 128, 68, 16, 28, 4);\n  register_tile('knight_f_run_anim', 192, 68, 16, 28, 4);\n  register_tile('knight_f_hit_anim', 256, 68, 16, 28, 1);\n  register_tile('knight_m_idle_anim', 128, 100, 16, 28, 4);\n  register_tile('knight_m_run_anim', 192, 100, 16, 28, 4);\n  register_tile('knight_m_hit_anim', 256, 100, 16, 28, 1);\n  register_tile('wizzard_f_idle_anim', 128, 132, 16, 28, 4);\n  register_tile('wizzard_f_run_anim', 192, 132, 16, 28, 4);\n  register_tile('wizzard_f_hit_anim', 256, 132, 16, 28, 1);\n  register_tile('wizzard_m_idle_anim', 128, 164, 16, 28, 4);\n  register_tile('wizzard_m_run_anim', 192, 164, 16, 28, 4);\n  register_tile('wizzard_m_hit_anim', 256, 164, 16, 28, 1);\n  register_tile('lizard_f_idle_anim', 128, 196, 16, 28, 4);\n  register_tile('lizard_f_run_anim', 192, 196, 16, 28, 4);\n  register_tile('lizard_f_hit_anim', 256, 196, 16, 28, 1);\n  register_tile('lizard_m_idle_anim', 128, 228, 16, 28, 4);\n  register_tile('lizard_m_run_anim', 192, 228, 16, 28, 4);\n  register_tile('lizard_m_hit_anim', 256, 228, 16, 28, 1); ///\n\n  register_tile2('grass1', 0, 1);\n  register_tile2('grass2', 0, 2);\n  register_tile2('grass3', 0, 3);\n  register_tile2('grass4', 0, 4);\n  register_tile2('dirt1', 4, 0);\n  register_tile2('dirt2', 4, 1);\n  register_tile2('dirt3', 4, 2);\n  register_tile2('dirt4', 4, 3);\n  register_tile2('plant1', 8, 7);\n  register_tile2('plant2', 7, 8);\n  register_tile2('plant3', 8, 8);\n  register_tile2('plant4', 6, 9);\n  register_tile2('plant5', 7, 9);\n  register_tile2('plant6', 8, 9);\n} // nolive\n\n\nvar _blend_mode_player_hit2 = 'destination-in';\nvar _blend_mode_player_hit4 = 'overlay';\nvar _player_hit_alpha1 = 1;\n\nfunction draw_sprite(context, key, center_dx, center_dy, w, h, mirror_x, rotate, rotate_ox, rotate_oy, alpha, tint) {\n  if (rotate_ox == null) rotate_ox = 0;\n  if (rotate_oy == null) rotate_oy = 0;\n  context.save();\n  context.translate(center_dx, center_dy);\n\n  if (rotate != null) {\n    context.rotate(rotate);\n    context.translate(rotate_ox, rotate_oy);\n  }\n\n  var prev_global_alpha = context.globalAlpha;\n\n  if (alpha != null) {\n    context.globalAlpha = alpha;\n  }\n\n  if (mirror_x) {\n    context.scale(-1, 1);\n    draw_sprite_local(context, key, w, h);\n  } else {\n    draw_sprite_local(context, key, w, h);\n  }\n\n  if (tint != null) {\n    _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_context.fillStyle = 'rgba(0,0,0,' + _player_hit_alpha1 + ')';\n    _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_context.fillRect(0, 0, _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_canvas.width, _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_canvas.height);\n\n    if (true) {\n      //const prev_op = Game.entity_context.globalCompositeOperation;\n      //Game.entity_context.globalCompositeOperation = _blend_mode_player_hit;\n      _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_context.fillStyle = tint;\n      _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_context.fillRect(0, 0, _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_canvas.width, _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_canvas.height); //Game.entity_context.globalCompositeOperation = prev_op;\n    }\n\n    var prev_op0 = _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_context.globalCompositeOperation;\n    _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_context.globalCompositeOperation = _blend_mode_player_hit2;\n    _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_context.translate(Math.round(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_canvas.width / 2), Math.round(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_canvas.height / 2)); // draw sprite local draws at 0,0 centered, translate around that\n\n    draw_sprite_local(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_context, key, w, h);\n    _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_context.translate(-Math.round(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_canvas.width / 2), -Math.round(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_canvas.height / 2));\n    _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_context.globalCompositeOperation = prev_op0; // finally, draw to actual context\n\n    var prev_op1 = context.globalCompositeOperation;\n    context.globalCompositeOperation = _blend_mode_player_hit4;\n    context.drawImage(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_canvas, -Math.round(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_canvas.width / 2), -Math.round(_simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_0__[\"Game\"].entity_canvas.height / 2));\n    context.globalCompositeOperation = prev_op1;\n  }\n\n  context.globalAlpha = prev_global_alpha;\n  context.restore();\n}\n\nfunction draw_sprite_local(context, key, w, h) {\n  var tile = TilesByKey[key];\n  console.assert(tile);\n  var half_w = 0 | Math.round(w / 2);\n  var half_h = 0 | Math.round(w / 2);\n  var sx = 0 | tile.x;\n  var sy = 0 | tile.y;\n  var sw = 0 | tile.w;\n  var sh = 0 | tile.h;\n  var dx = -half_w; // | Math.round(center_dx - (size / 2));\n\n  var dy = -half_h; // | Math.round(center_dy - (size / 2));\n\n  var dw = 0 | Math.round(tile.w / 16 * w);\n  var dh = 0 | Math.round(tile.h / 16 * h); //context.imageSmoothingEnabled = false; \n\n  context.drawImage(tile.image, sx, sy, sw, sh, dx, dy, dw, dh);\n}\n\n\n\n//# sourceURL=webpack:///./src/hordewave_tiles.js?");

/***/ }),

/***/ "./src/images/dungeon_tileset.png":
/*!****************************************!*\
  !*** ./src/images/dungeon_tileset.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,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\"\n\n//# sourceURL=webpack:///./src/images/dungeon_tileset.png?");

/***/ }),

/***/ "./src/images/gentle_forest_jungle.png":
/*!*********************************************!*\
  !*** ./src/images/gentle_forest_jungle.png ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVAAAAEACAYAAADlZi4uAAAAAXNSR0IArs4c6QAAIABJREFUeJzsvV+o5FZ6L/prn+Kih/2gPm7bMnSHNWf6QRzPMIKxQ5EJiZj4oSDGKTwZTnFzQnYIhGbaD80kDDsPQ9o44MbHhH6wfRqDyR5CYA+OTd3BgXpIjGIyl+KMD1eHeC566JBFbIgm08Hish9E2Jy6D0vf0rc+LalUu3dPtyf9wWZXSVpLS6rSr76/v+8c7lIODsINABytQyRRDQDIy8DuT6IaeRnY/3w7AMTK/D9ah87xPhmao2/8YlrZtcnjYlUjqFIAgNbmeKV2u/7rt5bndhsBzKbJRm4rqsq+1oUePSe//4C5rlpHAAAVh1itmwuLumPpHtD4zudXmn9xGLbri9qxALA8Kne+/m1ybX++UXHY2a6LCkudO+sv1u1nPUsTFLpErLoXW2hzMQVK53tT6MBe77VZ6pwLMPdQFxVWWe7Mp1QErUvEU/f7NlcJ+tZ+83D378oYufrqy5tPyhI/+NM3TjX/89++uvln/Ql+9N4PTjX+mRee3/zRi3+IF77+K6ca/94HH27Kz36Cb33jm6ca/+a772x+Wn2GP/693z/V+JfefmvzL//6E7zxne/uPP6R05yQS6EDFLr9AuVlgMW0ch5Geg2g85D6xstjF9PK2UfvgfYh8I1fTCtnH38t3yvVgqfWLaD2yZhjfKJitTH/Q+dvNlWIw9A5Zoz03T8Vh1CRwmzaXFTZjuH3b+j+x2GIK/PUro/P0/cjd1aSJJH9k8LXP180QMdAs9AlVBxivojt32xm/uYqcb57fM4sX9lzzxexBU8CXzoH/Y+ntTN+l2s4K3np7bc2AE4NnldffXkD4NTg+fy3r24AnBo8n3nh+Q2AU4Pnex98uAFwavB88913NgBOBZ7AGQAof5AIPPmvujyOjpH7+Db5Wn7RSdvKy8A5lw+ofesc2ga4YNonY46RMpsmmzgMW3BbtH8qUkjT5FQg6oBe3c4fp7AgGoehBb8qiLGYVshL93PK8wAom3tXAmmaQJcaKjIXGochIigvWNxrIe3T9/mriO6Z+a912RlPQKbi0AFR+oE/WoeoSwVdVMjz0o4hUSpyNNuiuZk0z9E6xGJq1kja689CHgvP4/FHnwBgwODqqy9vCNTGyOOPPoFLkbmul95+a/P8t69uCNTGyKUowpPqEgADxs+88PyGQG2MPKku4ZXXXwNgwPi9Dz7cEKiNkVdefw3ReXP9z7zw/ObNd9/Z0I/KGInOP4HHwvMADBi/9PZbG/pRGSN3DaB9wEfCTWoCtUIHzgNMIMn3A12A5PuSqLZzcA2Va7g+ICfZVYMijfM0WicgNM8G3EiKDIhT87criDr3tnTnL7Lm3JGCikMLoqusRBXEzhxXpqnVMvPczKlLbf/rokKgGjOYfX73WgjMgijz72/WcHCQevf75iKg5SAaowVIDqKFLlHXiZ1jlprXi2llXSVSaK00x70UAoD3Pvhw8+N/KPD4o0/gB3/6xrmxQEoA/Oa772z+54//Fy5FEX703g/OjQVSAuCX3n5r8z/WP8KT6hJe+PqvnBsLpATAV199ebP/3H/BK6+/hm9945vnxgIpAfDz3766+d3f+m1E55/AH//e758bC6QEwM+88Pzm7/+xwGPhebzxne+eGwukZ2LCy9dSKwUAVZmHczGtrNnNAdOnycqHVAI0Pch0Xnm8z+SXmqkUDpIcNHVZQZeV3b6L+ICwyFqAi1N5fGhBdKzUOrJjCDxpXgJC68dsQJTkyrTxAzeaUwQFRMBqbYBztdZ2bBlp++N0L2V5VGB5VNh10Wftk4PrM/vaB4KAATNdVPYvFk7h2aw198l09wGgikPEKuq9fvo+0r3k13EvhADglddfw+OPPoH3/+p9vPnuO5vHH30C/6w/wTYQIACOzhsg/LWnfxUvvf3W5lIU4Y9e/ENsA2EC4MfC83hSXcLsaymuvvry5kl1CeVnP8E2ECYAfvxRcw3P/fpzeP7bVzevvP4aflp9hm0gTAB8KYoQnX8Cf/PR3+KZF57fROefwL/860+wDYQJgJ9Ul/BYeB6rH2Z474MPN4+F5/FJWWIbCN81gALuLzkHMwIrAk/fg6cqhbwMnP+qUtZMo4eGuwbkfFyL5WP4OL5OfozUKsk050ElpYB0GiKdhqcy3YeEA2mRtWBn17ODKZ+mCWaLdnF8Pgccwe5RgxF03GLOQCqC0Tojs53/IN0r7fPa/nwjgazQpf2sfZ8xBzqpqeZ5ieVRAV1UDkByc1wCMzfd6zpBXRWIVeQEh2odoQgqZzytz6zVADb3xV7bn4/+LHcRMoHJFI3OP4H/+eP/hed+/Tm88Z3vbtUmyQQmV8Bj4Xn8j/WP8Dcf/S1+8KdvbNUm6bzkCnj80Sew/9x/weqHGX703g+2apN0XnIFXIoi/O5v/Tbe/6v38cLXf2WrNknnpfvwpLqEv//HAr/29K/iW9/45lZtks5L9+GV11/Dj/+hwOxrKf74935/UJs/Mx8oN52lH3Q6MxFMAknax7VTFYVQlUIYF/Z4bq6TcPDkoMuBlPxRco38NWk0PkDkGufdmO2AHwB1qS1gkZY4BHbbQJT8niTcJSClhEYEhaOluUdxGFoTHTD3pYRuLYDGL3q0bH2o90r7JPAkIZ8lBzv5+QGttllWS+MTVZEN/HDgJMnyFYIos24g0hjzvHRMd+nL1EXVjk2bH5yeH2gCXA7G9xJEn1SXLAAcvv995+H/6lNf2RokeuX11ywQ/tlf/LkDvr84fWZrkCg6/4QFwi9/IXbA9/D9728NEj0WnrdA+NQXYwd8/+wv/nxrkOjxR5+wQPjVp77igO+XvxBvDRJdiiILwL84fcYB36e+GPcG6c5EAyXpM8kLHVhQJJ9oGiRIg8QAZxRaECOAJS2Hvpx8TgJb+k/Cv8zSvJcypEENaZy7ACoBXxy2JrlNjxF+UAmeZDKrcObMJYX/UOhSY3XUmOuNZss1UqAFZS78nHkZAJEJihwtzbpv3kydQBSB6lkEk67tzzf0J9N/WlB0Azb8NQdRez0siFRo14zP8xJ1aX5wKYWrLpUN/uiiMhqrLo3/sypQ1RoFvdeR1TRldgh/XWizdukGUHHoXPMpb5sjZMISAACtNvXUF2P88e/9/qAWSiYsjQFarfKrT30Fb3znu4NaKLkQaAzQapW/OH0GP/jTNwa1UHIh0Big1SoP3/8+fvTeDwa1UHIh0Bi6J4D5MXjh678yqIWSC4HG0D0BzI/Bt77xzV4tdOKbcFfhuZZAG8yx5nZkfEBhXNhtGpUDnFobYESpkEO3Gia0OT7UFjQBOP912ZqUfJxvjVwKHSAJuyb8kOxqvlPUXRcViqpq04HQmu7SbOdSVwVUOIOuVlCx2vhyRIuqggLdD+VEzovMBRfSQAFz/YEqkedB1+daNmlM1xM7L6CBAqiqECW00UqxG4hK0JBa2vKocLVpHSCZFsA6RhBpJ2+11fxyxHWIoA6ML3haoi7h+CHb+UoEjR/XbkOJxbRCFLZrkXmfqGskqTbfoeb7LbNDaL11qZBMCxQ6QJS0LgbShukceV527seuuaIEnvT6n/Undt+b776z+bO/+HM8/+2rm68+9RU89rUUT6pLTs4ngSe9/qMX/9COf+nttzZf/kKMZ154fvOL02fw9/9YdHI+CTzpdfnZT+z4q6++vHnqizHe++DDzeH738elKOrkfBJ40uufVp/Z8bTuWXMdT6pLnZxPAk96/S//2p6f1v3crz+3+fIXYrzyV+93cj4JPOn1J2X7g0frpuv4tad/FZeiyMm5vWsA9ZkwBFbc3Kb/aZBATV3QIpOZhMYRoDr/0dUIOfCSGwCluyaukfKEeq39+Z98m13XDuDJo+4EnoAJzMymqgOaHORswKYBu7rqD0LQvSd/21qvEAWxBVEZQIqgUDY/LvbzmlcodG3vmQRPoHEHZAq6yDvzjBVuolNQRwrdL12vEasaedkUCEwL5wdQ/mgXQQWUAWI2F2mf3HzP8xBZLq6/+V5E7eXi1q0Frlw5Qhi0Hzp3DdG5pf/dvC+sxRSTWyGYehPs6ZrbH5H55iwS7jkYXooiGyD56lNfwR+PyBnl2uiT6pINUI0x5wE42ugrr79mzeLD978/KmeVa6PR+SdsgOrP/uLPR+Wscm30sfC8DVB9+QsxXhiRM8qDS48/+oQNUD31RdcdcKZReKD9MnIQ5L5KEgKjbG18jWTK2/0eTdNrTpdsfOUinM+0ki4CPh/Nv23bWOHaJkkchk40mP5IiqqyCexX5inCcLw/lOax/0uNsm7Bl+aYLdwINPcf0xrTtEWTIgNWR3pQU94mPv8miTRzC92a2TxrgwevfD/agAHSWkfWjOfpTXleIstXneIOun7pBwWAqtZ2XjpWZgS44Nn+SNNrcy3uNfJznIWflOdzcvCgfRRlJ3Nejuf5nNyUpX0UZSdzXo7n+ZzclUD7KMpO5rwcz/M5OXjTPoqykzkvx/N8Tg7etI+i7GTOy/E8n5aDN+2jLAcy52nfmZjw/ItT6ABVEWM6y1HoAFkZII0SoDQPr9E0ORhKrTJkxxlfJIkvWk5z0Vgy50kT9Zl8wLhAyN1qn0ALZm1up/CFCg3VOaYBLNL0fFpfXgZIkhp5TlH1AIkqoQszTy60MiuROwfQlIOWAMLm3Jl70bTOCCGipECZb7+HPjDggRqbk8nMXDKx41KhaK6Xp775/Ne8XDcKU9y6lTm+UJpfVrpRMDNG5Hw2uqhsuaazdma+8x9lmo/Ak75fdals+agu/CWmed5o2QxI6b6dVhvlgMZN3KuvvrwZU3XDNVhu4j7/7aubMRokB0HuYnjmhec3u2qw3MXw3gcfjhrPQZD7eN98953NmKon/iPEXQwvvf3Whge0ziQKz6PuHDytv7OkwElofZbZurLmM6UN8ff2WGFWS9OaxpImC3TTpqT2Iitw+qRP+xxKqueBI1uHDla6GSn7nu+zOZyNhppleQd8CTylFkqBnyQxyfR5GaCoKpR1gbh2zcYS2skBJeEalQRw7lOlOeicQyJTkpZHhQOU/D9gouNcUytQ2s+qryiCa5J0HJ+T8jB1UWG1KpxjuRQobSknrfngIHVKRLmPf6hAg2eZUMUSYMCSzuG7B5RytUvqE/nwCHBI2+MaJfdTEniSFkU+VAIc0vYkABOIEHiSFkvgRIBD2h7XKPn6yPwmLZbWRmslbY9rlHx9BJ6kxdLaaK2kbXONkq+PwJO0WFobrZW0ba7R8/UReJIWeyZReG4C6lB38jW5ec4j3EAXODtA6jHbvcdGTdS8OVcYF16Tj0Tmge5S/95n0nNgI1PcbG8DPHEKp3STAxOZ/LJOHmhB1BdFJ5GgRkBKkiz8tdtOgI0l0Jd1Yd0AMk901wg8pSStVoUtyyxgIts3VxlurjILOHXpZlbYa0PXZPfdg6XOMUsTXLmSdurhY0S93Ap1qXBzlWGV3bLzHRyktvqIm/6+CryhNZImmpeBvd5ClyhQ2gyA1aroBNVOIxI8+Pbnv31189Lbb21+7elf7R0vwYNvf+aF5zdXX315M/taf+WXBG++/b0PPtw8/+2rm+d+/bne8T7tmba/+e47m2deeH7zNx/9be94Cd58+0tvv7V574MPN6sf+ivbaM0yt5W2X3315c2b776zef+v3gdwxon0vEZ5Ma0QxgV0qJ0qHi5D/kUJbD62JD6WJ7+TGS9LRgE3Wkp5oDRmW96nzz8qJQ4b4o3mvpPWKdOWeJ4mgSkAXLmedGrkZfBBgqifyIL5+BiI0rpkrqw4gU1pWq21/Z+k5scRkZuH6RPp8yTNM25yNO3ngLIzD2dM6jsPrX8IUH1+1lhFzrXzYBQ/L9eWgW4FG63Ll91B8/I8Zq6J2v3NNnNsyyLFz7uLT5QDH9BNMOemqPRT0vEccCUIcleA9FPS8XxenwuBziP9lHQ8n1eCIHcFSD8lHc/nlSDIXQHST0zH83nljxC/j7TtTGrhJYkHkTNURezkenLTHfBE4kXJpGOyN2P5+MGxLGmfl5H6kp5PW2nk+EhZ1J3uAwc+mdROeZqUVE9mciF+GC3IsrmCMLbnk7munVJV9j2RprsvV9aOp3FEX5fUHTN6bEI9N9tbzbMFoMH1D5yHVyVxOj95bn5+S2vHrp18pzz3OIiyTjmn9L9KJqtta5aBK379XBPl92xX8ZmwgKuJcgCQ4jNhAVcT7QNgOo90IdA55Rp94nMh0DnlGn3icyHQOeUafeJzIdA55RoB4Nx8EW36+DR9Dnv+i82d5dy8oflssrvHhwicLrLdN7Yv/UiXxq0g+UDp+pJweldryCuTbkNJ5wR0K60xU+TCUF4ANesTpZvMpKeadp5kX1WtP5SXXco8XJ75FMbDXKo0nraPLdNMorqXD1RqTUN8nJ3v3+0J5l96GmPG37hR3ROOzbFycBBu+DPASUm4LD/+CNhrY7byHmwb3xdM2mzuLhf/3Ln7evs+9/KIBBWZ+kO/koCfX1M+bFLrI7MYgNUggdODp/R/kgyZ17SWXUoQfaQivvXL+wcY8JTBG17vzsFTpjJxQJXaKEkQxvZ6pBZUFTGqAkinCfYXc+wv5k5612n4WKWM8X+O5ePs+/7tyud5v4SD31wlmM3iztq59eC7/7uM75MX/9ufjELS3/iDF73HjaXA66tmGkuB11fNNJYCr6+aaSwFXl8101gKPFnN9MhY82kodUNuAwAdatcHqv1ReCmDEe4e/6dvPEXlw7gbefWV4PnOxf2rTmYAW798iFda2/soE8U5IPpyKjmI0t+tdb+zW0aDqyJGwvI3ASBMgCRNkGVurqKch4vc3xdwGqupAv18nJ3v3/HJTuMfBCHwowBQbxCouTbf/R81fkDIJP3v7/3l1qg90AVSzgk6NJ7McgmYnBN0aDyZ5RIwOSfo0HgyyyVgck7QofFklsvr5JygQ+PpPtN1PjI2NYQfxwGIAyntk2WVPAle+hsBFzT5cT4tsE+8tHOhtv9llZS8zs48PQAu12/vS9QGa+Q95YBIf2VdYKW1E23nASSgBdSV1g4Yy8ok0jqBBjAjhWzdliKGhKnNA0wWQt/nJwFyMOC0g/j4OHcBwj4+z/spXGMGhn2XyeWT3uDmmPE+Ic3zsfA8Xvxvf7IhIOFASmD5G3/w4ubxR5/Ab/zBi5tLUYTf+IMXbX33448+gee/fXXjAxgCpWdeeH5zKYrwzAvPbyink/bRdgkwQAtK733w4eZJdQnvffDhhnI6aR9tJyDnQEpg+ea772xeef01vPnuOxvK6aR9tN0H8HQtL7391iY6/wReevutDeV00j7a7gN4uparr768eSw8j6uvvryhnFonkb4PTKWGSV8AabpKSrn1KoEONaZJhWyV9PpD3Qg9y4/kdfKe/E/+nuea0nuqief+T6kxerVgAuCynY+fc0j4/SqCCijcAJAuKhRBhSRqWJSI7V1weALNuMJQysXK1J5HdH8oyl91F5WkCfIjDa01FJQFVY3bAJofNsAAKvPL+chX6Hq2Rd2lEODzum/+IxAj6kSm89sTs57jk1ONv18SI+pYG751+yy1Xcb75PFHn8B/f+8vN9H5J/DTRz/DK6+/hvKzn1gg5WBJwReeVwnAAgpV+9B7AA5YUvCF51UCsIBC1T70HoADllTSSXmVXOskMhTiA6X5OVhSgIjyPinRn9ZG1Vb0nl8b/X/l9ddAxMsktLbf/a3fBgd4fm30n+4z3R/79PiAUmpoHIgo+EAiNdRCB9Chdl6baiS38shodeFg1c+21CEAbl5p6Tc5JcAfrUPse8p0lNqNzBho7h8ajaIEioixAzWgSX5Ry5MaGyo5yeEphWu5hBm0/lCFqHSFJFLIS40kTwxgZkYL3Wc3rPp0gvDiCdTJ5d5z+HzaQ8HEbcIBgNfBAy5TEgALnvHexdONP2MZS/Qhqesocb/juzw+sVoov5+jx3uEJ5ITAND7v//HYsPB0gcAfA4CYAIYalbHS0R9AMzZkPj8RIws68olAHM2JD4/ESMTWPYBMGejeu7Xn7PvibiEl4j6AJhXKtE8nLiEl4hKAJ4Aww+Dz/Tl6R/kUztah50AFNAGmnhQyUgXSHcRXzSewJNKONerpJOqI7VonW8/t9RS5fHO/WuIOIKotInscUjEE23eYFyHoBrLvog8L/HMYe53WZoIPK1/vaoQqvbcJEmaABmsFppeS5AfaAc8CVCxN/EyWPlE3r8bPS5aKtMkBiIuWb5CrGoktcvhShH4Xcafvjq/KxIw5XmBdj+BaRLVCKIMWR4gSfadcVRVREBP4MkVkV3G+4RX8kgA4A/+v/zrT7wAwOeQAEzJ7o8/+gQ+KcudAZgD7z/rT3YGYA68AHYGYA68v/tbv70zAHPg/Wn1mReAH5FmG4+6c/D05U/KfT4Tz/GDNtVCY/It+yqEfNVA3P+potCanNNZ7mhWfdHmPp+n44Ml0hIPeNp5m+95krY+1zgMLcEF4I8c9wWUCHypCikvDdkxoj53i8Lh0dLZVunK2Q+gBVw6pofsSUaMfT+Q22QbH6fPbRCzGvQxfJ53K5yPlLQ+CZ7Lo8KJjBPYUhpSXaoOEYkldeZ8pswPzYlShsbznkxSeCmlBASey8hzL33gyflAOQD7kt994Mn5QHmLEV/yuw88OR8obzHiS373gSfnA+UtRnzJ77JYQPKBcgD2FR/w/NSJDBDRryJpBb4vOI3xsdDL92E1BaJ+H6ZPuM+T0oZcApKuELGILisgdAMUcl10nYUOkAgQ7k2FUq2LgO/zpXL5QLIIulUr3EzzESonidFabUqUUETkeUIVIoFClZvAUaiNeW99oY25z6X6dGKBlftEfVaJ7CO/LY1oLB+nBehG+1RxaLTnEeO51rgr8QaNlWBpauZdd4EUM2a+KfS6eRY0VqsG/AvXfWOlAU96dtwc6v7xddXvA5V8oIBbgfRHL/6hw9FJwrUzDlJPqkudCiTO0UnCwVhWOskKJM7RScLBWFY6yQokztFJwsFYVjrJCiTOkUrCwVhWOvEKJMmRSkL7etmYZNDAp3FIDVW+r4oYVUOcPFRDTuIDV87G1DfGRuxZFRKZ8eRaIECQPlAiVPbxf8q1+N470vgorfbZAF9cGy2Uzk3bKchEr5OoRlE165t73CqR64cGYPyeDTgqpQAF5FmONEmglIKGNqAp1h2qsGlh7AIrL3WVIv3c23ygY/g4pZ/98E/+a8fHOTQ+nY3n0vSROftkNotx40aG2cycl37oZLtjFYdYrgJnHE9BunHD1PoTq1N94QSLZ4/td1L6lvvGA7tlGxCxsK8efYwQsTCZvn1VP31CxM5k+vZV/fQJgRa5Hnxll0NCxM7kepCugG1CxM7keugDUYClMfnA0leqRh+6j0+Rvw+rqRMRl3XmPrN5TBllX208pRfROWXkWDIy8evq4//0pVnJdXTuH/usC6E52HOL7UVVtdpdBIcd3knIL93rMp+DCR6ZNZn/SZogu5m36Uv22lywTCL/ze5jPnKuYZv2OZKP057n+MSCp82H1eUoPk+S+SJGtjrY8JYZ/I+b4PNF3Ilur7JbzvmJOYm7EbJ8hVV2CzcPD+02eiayfOVorAcHKbQuTXK8ihDcmTglnGPG13ViOUmHhHe35KWYvtr0oTp4moPe+2rTh+rgaQ5676tNH6qD5/5J2eajj6+T1sTdCfTexw0wVAdPc9B7HzcA32Zr4bnpzkVqHfx9X3lgXgYO0TEHNtIW+yqKuPQRitDcrXnPjheUdtxM4oEvWvcYFiZf6pUEe3n/LBlGZXyZvJpLShy2flsAjrZKcwBwwVkAmDTNkzRBvtQWNH2SpImzb/HscecYyXUAjM/fHMPHaV9fPhmMrveNX60Kr5nNgZLe+46hevflkWGRpx5MBUrEqrYgenOV2eBVoQ3DvLwG64rwrIfKM4u1G1zdNn6oG8EusqsWKmVXLVTKrlqolF21UCljtc8+6av9n/RVEvH30sdJ2zpaRCOqUpjOcpR502980LfYv+h+f6cLCA5wsrzNqInEI+w3GWUUv++8fWseun827UgCXwQUqEy6EyonSERRfPJ98l7uNI88j01hgjHZkzmpzu0xYQJUTW49aaHhHFBQVnO162tEumZOI9J/SUKfhf1Buz2BCtzUHaWireMB18+YJNSR00sjbcZ6AjXGt9psYwxR5trLzudcw10LyWpV9PpByZSX93Ro/Dbtk2udPl8j4JIj875JXGMkc9cnvNcRn4trjGTu+oT3OuJzcY1xCOB4ryM+F9cYyd3Qd4/o2vhc/N6Ru8En/J7xuZ5Ul7o+0D4wkD5OmbbExxChcsVAbWzwiIsP3OQ+O2+TpM99ohSJ100wjK+Z+/D6kvO3rdcnnftHD6U24Jh7/FlFVTk5npxL1Ir4Aab1U7O9dJqg0hXiOEOV7yNMjMmutdFC2+txATNMYIHWF2wbsjiGZJYmTm4jYPyXWLX9jTgILp49xtFff4Q5njZm78jxMYClzjFH4vgp2zHGj0is70CbBkWfvwVm4YbyXbfNkZ4WOFq3/snFtEK+jjt+TErFWmW58YEujp1CFP59HBpfHJ5lwtZDOSvx+kBJfOYF0C3t60tfsqWUvLyyx5cozXO+nxN49JGGOHygjUbqmMUiKMavwTenzx/r84XudP84CPLnPGrGR2gBN2gqlpLacnv66NDM3CZQFNpMAW0j8cncBUySPrOeS6GbtJvjE/OA3544terbKpPG8HFKQF5+/NFO46kaiejnSIOjlKAsX2E2iy0bvS4qp9+SvBYOlNJi6bv/NrfXw+dJ11BfaNOXpH9+zPgx4vPhkRy+//2t430+VJI/+4s/3zre50Ml+fIX+i0CEp8PleSpL24f7/Ohknz1qa9sHe/zoZL84vQZ75hOIv1YLUMGaEh4eobTXRPdoAzfRiLNc56eRKWVfZHxjlbKksOXIvhgAAAgAElEQVTzsps3WGjT1nib+DRUjkmnuX9J0kbTJfmu1FL7MiAoj/JWEVoTvggCxHGGut5HlTeBpWCNfGnAtMpbLZRAliTLAkt9Z6+t8YsWOnDKPu22LcLBwMfHecSsA+wBOD6xYLPLeANMefP9A3S9tvdJsaCQzZAoFaAMqHbuf49lJbfJPFZamy9iD6C5f+21ySKPreMfygMnEw54vmDBNvGxOZl2tA2IDgDeWOHlnmPGEugCgEKCrM69ZakkQ7X2vvU6roVb+pypxmk0bHbckNGVzOebGzeW565d29+sVzmSNMHy6OY5OWZovhsZMF9Emyv7FW4dSr+wOTqOMxRF2vpF7TUM30jSlChowpPAAQB7k63fDx7R5qQpxars1dyTyyc2H3TMeJ3R/W+uG4BMmL3p+SQ0NFbN59Yd73/fd/9pLZT2BKAT4Qe6GSzOvR0x3ic8D9Insle83C6rgqT0pfDQdlkVJEX2ipfbt/k/Za94uZ3nofpE9oqX23keqk9kr3i5vcPG1JciAnS/7Nv4QG0a00j3jS/qfhp/ZJ87gKLwtE7fvGNSqXaVa9eubXzv0yR1tvP3ckyf0P2+sl8hL7V9T/7QTrJ9o3ESwFa5O5+vOEKa7gB6aedICl3a/Mn5ovXrZfnK+R45qXLHJ04p55jxD4osppWN2CdJZHk8udYs/agyYLdt/EN58OQRoPvBkmnCxZc4Lcf1RqMB1GG2NV0JYDmjTdkkT3XaRm1H26tw7QAnUbfR2nZ9APsAfReZz00S97Vr1zbcJ0mvtdaWy1MC61gJ4zbVzPKg1tOt2ialOiWRsryhgAgcPnuMxbPHSC431Up7k94fWi6SVaguVVv3Lr8ve926jjHj76eQwnG0DlGXymkD0jG/G38yH7vTeI/w6h2picr3Ulvk5ZXSZwp0U4+ktsjLK6XPFOimHkltkZdXSp8prU9eD9cWeXml9JnS+uT18HvCy1ulz5TWJ6+H35NLUeSvRCK/0lA5JzfBpCZq/HiGxm69SpyovM+P6SuZ5LLNBVCHWZsyVVaYJjUKFKiK2DJChdoFBpu43oOlEih9lHvjNWITCefAKPM2SdIk3SRp4g389ImNDHs4PX0SJm36klLKicTTfJwoBnDBVObS9gmlE3FTPFYRoIG8dLUyC4h7E1Yvvn38gyAmG6BtxcGp+Apdojj+1HFN4Pikk8Y0NN7Uwq9/dhf0UEaLTaT3meeAn9JOHicfYG7+aZaDCZgUJ97mwydjNU7aV+gAUZIZ8JzlzvlUpXrz7oaCILIiiUhQdm08B3TBstLG3O5ei7stjNRWTZR+6Mjv3HdN+dJ/A+mcQ1qq4wNtHv6xWjyBH29TwX19UnxN4XYZf79kNnNbcMiGdI54NO2dxo8Q3ueca54+NiOf8D7zXPPkbE9DwvvMc82TsxkNCe8zzzVPqm7aVhjA+8xzzZOqm7YVBtD6eIUXzcffPwJ0o5AAnIfR91AOPUBcK6XXlFxf6MDRQDlI2q6bZWUBkVKS+tqAcM2QzFa+XgJwuiYCHA6oY6uhTiNc68xLQ3IswZPSkNpz6l4NVYqs789vT5yKKy7c38mj75Z8pDHjefGL1wd6fIKjv94bXJcWfjtpjg5VvAEuI9OY8fdTOoEwtlYt/J/J5W5bj6HxdZ2cWTXSQzl7eaTPBCfhfiqHbV3UlvNj+Xz0msAzL4OOBpqtK2R1brVH+g/A6WskgZfm8IG9qpTtxskDYxS04F/abSxPvrr4XYSAE/Bro3SM3JdO+2nM3PkDHP31nrmuZ48d7bu9jjZ1iW8z19RqoQSiHUCbXEA8ueBsG+MDdYIoTW6m2ebmQdpr4YxMI8ffT7GWVqMx8nLUoUg6r4k/zXguvnp1+VoK91n66tXlayncZ+mrV5evpXCfpa9eXb6Wwn2Wvnp1+VoK9xn7+ALkaymk2Xb6wvsAsS8PDnD9bjwZmWuyvtxQoE14V5FpgXy0Di140vGc0zOrc6czJu3nc9r0lsb32VdJ01eiOCYTYBfznQJDPo3Sp4nuLCwwQdonjk+QZYEXlLlQtRKATk4oKT357QniyQWkaYI0TRwQtT69ASl0Ca1Ly7JOveHr0pzX8a8313H4J/919PgHQepS2Z7uuqjMWnUJJ3reUAX6nqmh8XVVjCITGSMPaj35WHkQ6/kf6fNhklC9stwOuKYymZKSZYaP6/hBG/Ak3yX5K0msyc+0SR1qO4bWIP2s3HVAIn8Y+kz4jsbpYZK6GxkDkn0+Up9IApCpmmH2pcvglaBa60760jaxpvzxxNOaoonCXx5OZeImOPfvLaYVCpTe0lHJyDRm/C7Sx9REf7vOV+jA1s5zPy0JsTAB/vjBtvG7iOTjBLo+PKAfSCUfJx3ri977RPJx0rG+6L1PJB8nHeuL3vtE8qHSsb7ovU+4n5Yf64vek3Q0UC59gNrHE8pN6b5qDh1qW6MOwIKnZE3i//kcSVTbMdz/KROzZe0+H8+3AX7aOvLFEpP+3eSHcso5KUNa6Bg/KJntOJ7gyrPP2u1xGFoQtfR18+4F8Jr5KjfHhCq0pZ5VZcxozpofQXUiyUNy69aiu+ZpW2rrkHELRiaty8HxuwintHNISxhw7Qqivh9rwFyzpLLLb0+8z8/Q+IfyYMsjEqAAFzhlYj3/0vOxHKT6iCi4EIjyqLnUJEnCuHArhxgIyzVwIKYxvra82/yg2yLuYzXSXdKRSHY15Yc0MZorX7YA6YvIS8IRoOULLaqqA6IAtibTAyyIwvyXMluA/9j1+f2Gxo8RAk8Sm2KkSydocxoQtb594cckofQk0kTl8zM0fpv5LrWxPs5PqUn5NCs+n5xXarI+zZbm5f9JpCbr02xpXv6fxNcfyZcN0Mf5KTVZn2ZL8/L//L5wTZbeP+LzYZIQF6Tvl95He0av5RwkEph9UX46pq9LKF8Lryyi93w/r333gX6hg518nFxDHauRyvSgPhJjuS+dJqOA1BY/hGHbd35E8EFWIAEuCQnAovJVC6JFVZm+TCNEqchS0vGSzBiR1xe4ePYYy48/MmDdMLkDGBy/TXymOYHUbGZSonygt4tJT3mcPPBFNHxEYkLX0lZadfNA5Xga81AeXHEIlTnISC1SaqESiOR7wN+MTs7DKb36CJppTTI45XuIeGRXainyS5uXwU6muYzGjxUCIvmaA+YQsG6TvAxaLbEBuaKqgL1WQ6TeSOY63Ig8ASbfLoFfBaqdc2+75klycJA6fr0sX3X7wYu8XM7IdOvWYuv4PpEm+/LIJV+m+2XX0RArn8akL1DaUkwaS66HVZajOP4U9QV/W+O+8QcH6WgQ5WxLvMeRrDCSLO8knG2J9ziSFUaS5Z2Esy3xHkeywkiyvJNwtiXe40hWGEmWfRLOtsR7HMkKI8myT8LZlniPKVnhJVn2OyY81wqHGGr6/KB9FUvydR8FXt+cEtB9boIhrbZv/bsGh7j2OXYcTw/ir6WQ3/FUYBoBxckdFCd3WoA7Nm2LpSYr/Z5S/GlNugHPpuncs8fehHCSWZo47ThW2S3cXGVO9F0K/4xOM35IksRoeKuV0WZvrjIsdY6lznFz1VLhSQ7SMUJrqUuFm6us05Zj1mRiEHjK9Y8d/1AePOlUInHTSvo/h/gQSXxgyiP528bz9QwBcx8n6dD6ZT7oYlp1NNC+NKYxLE0+GfKBck5O2xSOyVggtfdhb2KDSbOpMqTMxy7IScCUZntfbihgOnja84wU0urM9dQoGnZ3/vnZ9Xt8qmPG+0T6PDmfaKHLznen0KWXj3ObFkpls3xtfb5QLjwP9DTjuQz1OuIi/ZMy6r4tTUj6J2XUfVuakPRPyqj7trYf0j8po+7b0rTkfZJR921pWvI+Reef6K9E4jKUBypNZZ/vcsiH6RtP+4bOz48Zu/4+gmiAASVjcJLpTLZS6hTpTAREpP0NaZu+9sN9Iu9fHIaIU0BFytt1kgO6BEu5nb+XSf1jEtkp6BNEmVOZFqva5gY76xepUWPGjxECIsohpRQonsheoLS5mHzMNuG8Cm1mQWndA3we6YLadfxDefBk4kvx4TLknyx0gCScIgmBsHmWVIhBkuLOvsqM3W+UBa2BNPDP4593bR8uToBxtDbJ+WEQ2rlJaK0Be/5bUmY/mUkfH6lKWb260KAWzx6j0GtA9hRGa0Lz94ALqLouoOJoQ+xHZn/tfCaFZvyrJXDlZtfck91BSAt1yERGSBIp5IVGuGOaYl2myMu2QIKCe3lpmrPlZY65SrDUzcL2JuY13R7dXgAnSUmiGrN0uilQIkZkNbi8DKDrNVZZZo9fTCvoOgDQfk9UMLXnpO++c95Vu50+57lKbK36UueIVeWsy8zNkuhprubzo4BRrCLUJaACk7J11JCj0HgeVBoSXxRZ9kP3aYbEx+mL4st+6D7NkPg4fVF82Y/epxkSH6cvii/70fs0Q+Lj9EXxZT96n2ZOfKi+KL7sR+/TzOkaJ0M+SxJpxvvM47HN2XzH7GoWy/X63AM+PlLeeK4vNcknkvHekQY057/8m80cGvmnH9l15GUAFbUMSIDb4G2rRAFQ1p1KFhLb26cEZtMm7ShDJ+WI949vr8uAeJK0F3Z4tEQ6TbymfK7dRY/RAOeLGPs3jjBXCXS9dqwSAiPqZ3QtTg1lHYw5zY/nwtmmiJ0pVhFmsUF21YAbHUtrzcsA12apc8xcmV8PfjyBPA9w0lrtvWvWbX4g+X3uWmMx6+Uie83TXHHRHpPO2I9EEo3Kqngo90cmPrNiqK0B1/D6ZDxr/DiRwCbH+taWxAUqAEk4ZUfyPvVwGtHZc7Hk/HTaJYTmxysFqJPLCFXoaJPJxadNNdHt28Cxv16cAFWCUkeOT4DI/CCEF0PkRfPACjCNwxAqUig4u3rz4EVQqDypR3lmmPAtmUgC4KhJvG/uMfVasj3nGy0UUb9rBTCR5xkSJEmEw4OF8WWuAqtpckCSwKTiEDdXGSiWw79v/HVeBhZsefAnSSKo3MzBWd8PD0xUPM9LC9gkcySOq4DOVZepnTvPS5uWdHCQIkki3Dzsgrx8PpJpgSicO8eQFivvAaeyo7WeFaHyWF9nn4z1dfbJWF9nn4z1dfbJWF9nn/h8zQ6hMiD64fREvk9TCbIrq1GH0o4RLct5eLqT1Ip8uZs8SR7op60jkeWdjm90chv5px8hL9bIizUqXZmUocntzjX1mcpJ5JrzvEEcjk8MeDZ+0SSeIomnDrUc0DyQjdbpywWVZjxJnrkAThF3Wg+vp89Lbdc15rM33TBbcmCrcaqkA3gOg1FRYa4SG3EfChhx8JT+wrlKvOBJ53MANw7tsXOV2BQ7Xa/tcatVAaUCKBXgRtMHRPrXJcDPVYIonDvASH/Ul55v54n9lkS6fhiFf1Cllw8U6EbKZbmlT3w8njI4MwZEx/JxEpCTT5Y/2FURdzp8jhFZ0kmBI994ztCOKICe3DbgKdjHufD8y6HumEncas8EYrYsk0CU1tw8iNx0L6rKlF02QmDIwZrAssobQpFmPdk6t+DKQbTSlWmhPJJhTQI5AUeSuAn2tI+0MhWHmM1ia3IPBa0IcHj0WrbC4NtJeM95muPwwOSdXpulFki5qEiZPxV0AFv+gJN7AGg1TjlGVkLJtRKhyJDICh+Z98n/c+G181w7k3mf/D8XHsXn2pnM++T/ufAoPl+nzPvk/7nwKD5fp8z75P+58Cg+X6fM++T/ubzy+mvdrpx9uZj0no6lfdLf2deczRecIRnymUrzWQqP5OZlYJmZcmgo9Ps7h+Z3j2/Nfv6+M2fT4oL3G8fxCeazRcfP2L+WRoMMNZRu/ZW6bh8gFcQWzFQQQzemeVFVQM9z5qsc4iCarXOk6Ebfef4of62UAtbbnbhtGWfbfz3Pu9oiaYXLowIy9Yi00UKXKNh1ON9ZAUoEPFqXqGF8kNxc5vX2DshyS6wBtTmSNoqvS2Daro/MeTk2RuSQPnNNl4M2v87OvSPwrBP0frAP5b7LxGf22nYXaAMF9J+bU0fr/mDMVsBhsss+Cbbc/+m0UWZ0Z2S+nyaXs+8HwHKR1p4fnC3apw9QyWzPS41wcmJBNImnjt9TH7OHaW8CYGLBpKB7HsE2piwjbV7vnQDVpHMukmydIxGpU5QRQMeFMRBGBQCjWS2mbkdLLoXW52JlItccvKym7GmWRi087PmFZlbotg88/XDWFOx2Wh6XDhFHEGksdQloVyskofXF6LoB+DFAq+EbbgDjK+ZKhWzNwf273J9p7we7Ziph1UXbyqOuCqyL7Jx3UUK4liUZiUj6umzSPllr/ru/9duORtbXZbPvPD+tPnO0z74um7RPzvUv//oT51r6umzSPjnXJ2XZuS++Lpu0T871z/oTR/uUXU69GdE8ys5TTkicunePVcXTfug9F186EN/nk75IOPV+p6i700zOeb+7Jurb31mHUA44R+Z8Zvxula46fJuAYIjnuZ824m4i5wDa5HWW0oTjE9dsjJhm1lQjJdEJ8mNKgTL+zb4EfR8zVBIpO64q0PSsP0ISxTj669vobSrFhMxXDmoEcqpJbAcMmJA2SkLaKpn1cRFhqQ2JjAkQlQ5I6XqNZFoDiC2QASayfXPVov1qVXjPv1oZv2peRCjLFWZpYqqUshxhoFAUMcpyhTAwZnwyLez959F2As+hCDrfJ38AdgXPh3J/xPKBEnEIF+nrlEEl2ucLEPHgD/kQ6T9pg3m17hzPRSn0Bo5I0qnJ96Sgj6Wea1KY0mlogZQnwdP5feQgnQCWKN/k63D8ckLrXK6OdmJjainkAuD4BGFYO+Z7R/YmHb8vVbVQqSUnVLGdOrGdKo9rn1TOmUQKSWj8gnyuIdGsPfEsTUBEwZqBFsDo61gi+/KosCbvzVWGLF8hiDInmEljaE76zkpCY11UFuAkmANN9J+1EeF+R5qnqrXdzlmS6PkJIo0CZacVswRR6w8t2v2njbSP6W/kkz6f5Vjp81mOlT6f5Vjp81mOlT6f8Vihe/YIffjyQeRgSdt5t07uA+UaG2eMp3YcYVw4HJ5k4seqdgCMtvN+SASAQ6QfBJayRp2Or0ID1L7z+/JQfVF3uZ+EHuL9/Tn2X/zNFkQbTTEv1i0wNhqnBC/S/Bwf5HFbd66CGMnFp5FcfNrkmw64CPi66DOk6h5jVTS5qHGxtVSU9pPJH8YFlFJOm+gh4UQYFDyapYmJnDf7DGOTiWyrKLSRe11UDonItVlqwXEoCyRGZKP3QaRdEG1er7IcaaqQpspu41pvoUsLkNIdUNXauS7pg7fPTe5q24DrvsiLyIIx7adoO2mfZ8VE/1DunTwCoPPhy2inrIHnD2cnFSgKHdO5KmJHYyEQIxLlrHZBbTrLjW+VaY0+8dWnd9KemtdJOO09/64itdO8DCyYVbmJjicXn3bG5MXaMd91qK0vVMr+guULUquOJgpOEXRK2rfnh5+PgBPC8HbB/BgASFOiEHQBNVSh3WfHZbnhbR3BBUrC05mIGSkWLEMqUkjTBKhrC54kNggjWrLw+ckcj1WEIKIULGNiL3Vuat2ndXO9ykbTuRD5MQGmikKk0xj7iy4rUpoaE57WwtdFwSVyPQCuFkrgGbLn6m6bx3F+TmJgksxFvMpICufnpLGSuYi0TZ/GyPk5aaxkLiJt06cxcn5OGiuZo/i1SeF8nTRWMkfxa5PC+VFprGSO4tdG4uSB8gAR93P6IvNSYyWRQEr9jvg4IkS2WmyovaBmvsDdRnJ9jEiO9ijMdkqol+cfm5vaZ+oDwP6Lv2kBsdKVCfowTXT/YMHmMb2alvnS0UR5epEF0UYDJVOegDTPcgPSDMSs6T6V2q3Ii6X81OOTDisU+TzTtHb8oUR0YqwR7WrZPXJtf77hgNSXYlTXCeK4qXoqW63PrqkZQ/5L2ZNeqcCCXDqNUaNCrSPMFxUC7X6nyWcqhcA8SSJXOybwKzVQ14inNZSKkE5jC76+yiMCcMrtJFapnFUbEXhKYI6iGYDtRMoP5cGQTh5oH1Ey0CVEHhIJZrI/OwWpaE4OaoupmzQv5wT8EXWplfKE+Gxdec8vTXInd7Xn3M774xMHPK3PMnLvDz+Ga/CVrhBePLGvrVZK4BQF5m9vYoFU14WNzPu6BfD39J8DK4FopY2LpU0GV/Y9Ue/lZQClFA6PlgBg17pNyM/XRs3bHMw2PadZT1EhCGGANDD+yxs3MpsnWlZL53rGSKEDzBcV4tp8/gRqQeQnnHZ4QnWJ+aKNuuuiQpLq7o9R4cYEuGT5yk3VKrpaT5/JzjVRymToE6519kmfj5JrjEN+wD4fJdcYh/ywfWvjGuOQH7ZvbVxjHPLD9q2N37shP2zf2p5Ul1o2Jp4HSkAjtUxe9in5NH2anA0cNdqlNDc5EHMi50IHbR27AFGf9tmnlY45v5yDzkn/t7EvJRefdsFzb4KER9v3Ji7ATm63gY4m6X7x7LF9TRomjbXrbRL1edK+r6kbB00uhQ7cCD5gW6jg+AT7i3nLEBUmSNLEruPwaGkIRHYw2wHYks1a0RrayhoCCQ4WHNgODlIbeY/CeW9VnBPJpgqsoEvwXevI+XHRpUbGqrB4krvxxQYIo9yCZ6HbmnY5lsRJqQuMxcMDYXVV2Gvn/x/K51e8TeXkwzfE52k1Qk+0nEfDudbl4/Lk+aZ5aXyj3J/KI/gkvtLKzvYt5+8r5/SVfPp+JKiEU09uOwBlQQ/A8u/+EvmnHznlnXlpAM0wNrEHmyqZ4K8OkyDo84GS9NL3sTQo+9BnedMNNLAgbkz62midIjiWXD4ZpLPTRYVrsxRLnTsRatmqt6q1BVbyZVoCYhbYicI55iqxIEafYaDKTiuTWEWIawOCRdBQxAUMgAPTfyhQIo2J96CngFXALJe6tua7ikMgaO89T2GiXFMKnMkumxTN92mctF2paGciZZ8Pj4Qz1veJz4dKwhnr+8TnQyXhjPV94vOhknDG+j7x+VBJOGN9n/h8qCScsZ7LI31mOjCOzxNAB2wcwCkr6FB3zEsCNFmCybVczp5E73fh4xxzfudYoenK83hTmQjQGLDRubygJrRGe+3EhcnmGuJLpfMArgXhoyT0SXL5xLZEXjx7bDIlmtbRealN+hJ9ZxloynNvExmhDiKNMnIj2Ty1yfYOYjX0xI1J5Z0EVsSatNIaWtdAECCOFYpCW+DkkpeBMenrGkVgsjAKlOY9pT01+/g12nFMDE+pdvhE5yqxdf4qDu015Hn7o8HToJSKOu/DqLbBMJJtZvxDuX9y7uAg3ACSz3Dcw5FEtWA7MiJNYe5n42O5EHDSg0Z8nrIUc6js8zTnXx6V9zVReb6INrz8U/J9ynVzBnNiGgLc+3eW0jfnmPt3bX++IUo6yaUAtJqaBE/AT/vGxfJxNjygkg9UltVyIKdjOAepr4W3b7vkA6VjeOWePBYAbt1yS7aUA5CGui9WNeqyZYhScWjHFVo/TKh/AGWQD7Tv4RlDZ6c10xyLGIsmPUnyiXKNk8TH52nn3BJEctYx4vz3W5zaeXS5CIao3KT/mI+Vn9G2zwwwVV0Oi9TeBFURQ6GtlOKtp7fdP8MFmje17GsLWtZtElOAJ0MBo11yM5qnM3FWedLw5k1J6f3kA+VjebBOBdM2kMYi/1K7XOocQa3Zd3KNNJk5dfNhoMxFPpQHTiZA91d36OGTD3Ef+7wk5FivEgticn4ZLe7j8+yrYXdMbw+f57bz30/pa4fC99N6+9bMjyHZdp3cHwzA8ggAgDq5bF5UrDpqZIsRKZIL1NenqNAG2LgflOrBqU6cAEWC2GpV3Fc+UAD2XNdmKbJ8hWv7+3ZeHuQi8Cy0aamcJBGWN/LO2mjes+IBfSj3Tv5DfeHCdcA8vOXxxHnoyqaG+uNPzQP68acBvnSxxsefsof+gpsioDVQVYZ/UmsgLyrEv7zG392pMTkBor0T3KkmSL90jL8u9iDPXegA5fEEUVPLXZcXUVXtnD4Jw/ZPXQzs35jzV7p66Wxv6W5C9x8wayuPJ/Z+0LY71cS+J+HHlMcTTE7QOWZyAqRfOrafGx1D95nuP/GN1lWN8H//RwAGOKf7MaI4RFCHKHWJvNQILrTzl8eTwfuXfOny9SjaQxTtQe1dQHWnRn1ygigy542iPZTlMZb5p4hOTBVSrCLc1iVOYHyjFy9eQFkeY519ivkiBs1XlsfNNU4cgKO5y/IY0UmI23dKL0DxeZIkQn1ygo8KbbXk7NM7+PjTAEGgMZ/9MgDg8PAjKBUgDCd4//3b+OVfVvY61N4FJEmEaZI461i+/7G5n+GeBfrJyQTps80P1qcTHFxpgXydfYr65ARleYzbt++gqo4RTEJ8ekff1+/pQ/GLE4XvY2YC+vkYfWlMFOyhKLgsveMBndPweW4LIjlpTVvO/yCJdJ/IbVx4jXvfcb6An7zPnKw5VKFJrk8TJPOmjDOHjcg70fgRIrtLUrSdtkm6OvJ7Us08zWGvh+VVUnCJ82neDz5Q+pOE0Py6tXZZ83096mmN3H1B92BXQpHbn3yy4a+PvvdD+56/3mUeOZbv65uTzu07v5z787p+q7L0Pah9wQkb6PEEc4iJiaLgXHOUfr3T8Hn2me88JWns+R8Ukd1Mt/kXfWZ733EcjJ0+VpzpvkmZ4SWnDnjGgKpa097mkPbItf35hjMl6aKyFTncFCfAIP8nmdG1ChDodj/NxX2hNuUod4/5WfKB0rp9wrcXusR8EXfAnThS++Q0/s/Lly5ZwP3og39y9i1+52uDYHz7k082H33wT1j8ztfOXb506dzR9364oTF8LD8HbefHHn3vhxt+jDxWzv15Xb9DqDwmgETb6AHWeTci7tSjhxrwaFbynBw8+/g8fecYop4bc/4HQXxrkcGkvuN80iF2JqHa+tsTqBNlQROqC5xAC54ADAN91PpElVZbQZTAxbTLaP2Z80VhWz4AACAASURBVEXcIRZOkghltXRydHMEDpEHp4iTkXvJpdnHB0opUA4F3gAfKAdloC03JT5QLSqMaG00v0mUX6Guk841Sx8nv4ZdpQ+M5DauTUng4ODjO2Zo3tuffLKRoERampzTN8fndf0OoTI9oNKU91W35GXbnpaDGWl9JKoyD1pVxEhYOhGN3ZXPsw84neR9BUtCsu3891vkvR4CSal1yvc8w4Brm87r2xNLRuLr0eTU9DdgkUQGbKnMlPb1+aSv7c83vgh0H1kxVePM0iso9KFzPS1lYpdLlLa3ASd3n1JRh69T0tjRGD6Xj/yZ5ssybbM7hqS9dgOGJt/T1br9x7trGmu+bwMaev/013+hd2wfUPjGSsCTmiKBmTx/35o/r+u3Ufg+0JQPKAHP0dr4FolYncomAdfs1hqONkmASa/TaYhsbf5T6pMZy6KtDZDq0m/SA570Jt5xc+D8+j6nh0i/75Bpzj8TGkefR18n1SQyLZHHACfQBU+HHQoMPAcKQ8jXR6TFZl4XnMy1dsGVAj5EIHLtSoqbqwwBG+NoniwJ/0oTjFmtzLEEnjZ9Kg4BxB2w4muRbgC5n7M18X2Oltr4PCXDEgXJ6BhJJELaqny9q9DDLsHEBz5chsxjOVa+l9okB7Oj7/1wI4+XgPV5Xf8jPj5DrpFKUPXxMZKJzck7ZCBHRaHJKWTsTHSs7IApCUF8ZZUkkvhY8omOOf+DJGMCXLKiqtdf2gCn5RHFdvDM1lTCqSx4aq0dYN1WF0/+QwKLyrp9Sq+/sK7a5nJkYidJhGuz1P6/ciU1VUiWRzSwdHKkwRL7kXNcU5NOoE5BHIetfhqbv7RhhXL6EbWg3Z7blFk61VSMKIX/l6xKfF763wfWuyTPk7nZBz4kHLjGBGR84CHP6RN5fgmYT3/9F7xBnc/b+h0+UP7aR7Lcx8foC/I4ZY+iJJNY5H3RdB+fp9zPQXMXPlF5/gdBuFYptwEtD4G3rr2H35MIlwk4lVJt33cm1ImTADJb5y3zfGOyE3BSlD6dJsbdQrmifdeVtxqbrfmuEwuitm0FB6nGBygj5jzKXujS8HMyGj7S8nj5p5kzgIpDHB4sHKb71arozbEkjdYhPKm7vzo+TlPJMkXj+T3g2+uq1dCltrorN6gvKHL7k082MooNGDDggOA7xgdOQ1ojFzJ5JRjSeemPA9vndf0T7h/jlUF9WpA0FbcFczizETeruaZK42XyvTTbu2xJAMImIlwqL58ozZmtK+e9ikIvQN8v6bvfvKzTgqgPONk2InQmhvshXyfAWiUL4KR9vPWy0yO+r9d8A35LnSOJasynNZZHoQGFMEGhcwsYQRijqjWCeoaiqejhgSeKUPPAEY+EG5Pa1JFL7TYvA1xjSel57prZ1g3AAkMkVLseIoJLL9f6W2XPIw6C5D6o1obUOYgC5KUpOeVEKrQ2MDKSu+nEKYMmBExklvLj5DEk3P8HwILF01//hV4QGgrk+HyQEgQ/r+v3ViKRSD+oL71mqJRSap59LTJ8YgA17Gwz/1kVU2UAXYcaIdOe1ys3+CTN9aFa+p+lSIJg7mcG2kohee/N8S5LUtIgJQGn1trmc3LhgSK7jiYiL4GTN7tzSJYvnqCnJ6EtwVQNYB2tcyTTGsVaI6wAhC3/ZdgsgcAVWPUGdez8DPDSNAGmsbOtjfoLnk8OwmjBUAaGeBAKaIk+HD+nOE+hS+ggR1AD8wWru5+22RBURrpauUExuv6q1pZQ2axPbU5bA//013/BAR++XW4bEgKqIbDjr33g4zOhh8Ds87R+5wnwRdsBN7DhCy5JLVQGcsaKj/1o2z65Hs4nShR72zpyPkgiI+jcleKAqAc4CSzzpXbek48zTNrcTpIkTaDLI2jtglQYF0A9Rebp/76NVJlSlsiUvhabQBAUUGkDmtI3WNUaKLWlcFtqA7pBlEEXqUmYbzS5NqWo6pw3Zpoo1blz/6QER3rNt6eNhqtLw/Ikgz0EvBLYo1KhVC0xeIwIeWkITqi+HWj7ydN5pcbJKe2KuzST+qLX2wIy5ONb/M7XzkmtkIPYUOBmG8htW8PnYf2WUFmKj+DDmVxwavY1ZuPiI172VTHJ6iMb3e+Zdxc+0QdNhrR/CijlZWD9mnnZUN81Teb29+dI5soBS6Xc91prhIkBVgLPJE2suR6r2vo54zgDgjWyLHB8oiQWPPcmg3ygJEkSIctNNHkxrRBPa6cXEAfSWZrYjpaHBwvkZYCjddiAaRtRp++IUlGHC1QK3x43wR/OsxkLIEXtD8jZAJLIHwUaTVmX9roo6h+rCDEiqGDqVCrRXLx9iBSqm9+Fyo4/8B998E87Ve1w4SaxnMMHXL7czNPI53H9Exlp70uH8Umh+8lEuPg01D7fqd9s709j6uMTpQfN9mXakRLvZym+XE4S02f+xCH4SK91nZo8ks410UpXSK8l9nUYF1DRwvV/Ni5F2+gva7t3ktnu0zr7/LarbH1uNos3QNPaohOUbDRFkRrEAztJEtl0JmN6rx3/PAFPlmk7h1lT6Q3uUCllnzgRde4TDYLOWFlFZc/dcIKquCUXIcKT5ZELvoqBaF7wbTmCCE7E/zRaaF/uIhcZ0e6r1KH9ffNwbW+XNQ6Z8J+X9U9u3KicQVr8HxINILmCjY9mzh7TVAMlUY06dKtjkqhG3igI3DylKhpemdSXckT+Qu5DtCAKDU0KRdEFp6Sqcf3KfOdfOQ7A128t74qnkQfsVKWAMHR/lMLWH8m1Slk5RIDIwTNb50inidVKoQBdFo7/k0AzL40PmWQIOLlwPln6/GodYbXMEccmXYxYilw/b4FYGZ+gL4WHhPyWBdpczlgtUWjzWV67knZSiPhcBEScBcrH6mRTiYIAmr40QZt+JWn1iFKP1gjA0ukBsOxSKg5xcJB2qpA4KOt6aX5kGh8praXVVNVGRSGKoOrwwd64UZ3jpqqvdJF8gDIIwqUvgMKlz2ymskbvTqATcZfn/zyv39vSY1cZMt8p7xLwayw+bXe9Spw0I26CS/Of8lJ988n+TTJlqE+zprmd/FLt9rw/K+3VyWgI25Qh/pekiQ0M7QKe1BiOouqmNDMwZroQal+cZe16CDyvPPssrjz7LOJJQ8XEWorI+19rZhI3KUR0nXOV4NosRV0qHK1D6HrtTQeScnCQ4vBgARWHyPKV9cWTj5PAjMhIhmR5VGC+iDvkHzR+NotxcODmnHIhEhPKKeX8pDztilPrmfvUreEnoR8ZPo4HukhbldaizdcWwZBtZYu8woZv30VrG6pRp/xKWenD//j+z/P6+/vSnoHw1KOqiG3ttIzqy3p4WSo3FKnPq37i4SSqoSqF9QpQMAAlj0OPG8+fKcAa3ZXorPO0kpeBDQRVVVsFlE7byLhSqg0OJW6wCGDpRQw8k4GeOtNZjluHoc1coM/BpibtteBprlmbqPO6AvbadQMuc1QMIFAlalb9lSQRDhMDpMsjQ8AxQ4ybqwwpDADOkGCV5eA9imQNvQGsKa4duNogSZ8f1HcszUfaKNHhyZxTSnfi4/maaB4aw4FZEoU4fKe6xAxGoyZtldbAI/u2cqmsEPS0vpEyJgm9T/rKKyWwDZm7vpxOYLfIuW/7g7j+ewagrp+x+RI1uZp97SsAYmFKOqDpY10C3DLUJKpRFTEKXbQ19mhLQU1rZWNK2THhuPPw99JPe7eShEknVYjA05xPWbObQLFiwXHaTn7OJDIsSzJVKVQhlDb3wEuHVwJxg6AqDrH6+LYN0Dg5j27aoqNFB8pNGwJagMnz0jGlr8E1WQGRn8kS6+k9H0+A49Pq7L1rQNjHxuRL1CfxuRLoHvA1SfFt59R0XFZZbkGUxvp+BGazGKsVUKxLxFGIJNUd8p9tcjfBnbOa427GP6jrv2cAKn2iFFl3/H1Rk3TcgCe1j9BoU4/keEqA5+DWocIrA6QNo5OsrddFDLAe9KFHaeGJ+lzLvFdBp7zKoaA64Engd7heOhql1DwlWEoW+VCFQGB67txahwhD8xmEF0+QZYGta4/DEGmaIE6BIgOw1litm3MxF14EhVJ4yWX9Pk/14YDFwdSXXgRQxVLeal8e8KPtNB5owVcGefjxvvSjPk2W1/GTcFNcJvtL+j7+387dA/RyfikEolqXCEZSGT5IcvXVlzdvfOe7dw2CD9r5z8QHKn2TfJtMSyKg433a8zJAVTT9bCK3np63GpZdPwHYunYecFKVcpLnOeDyWng6Tv7Rufj57mXEfjE10XGKfGfr3NakU106gSSPnhN40msS/t6CaRGj0AGu7LPked4htGzKExty9DgFZlNlNdKiqlBUFSJ0bwR/mGsdodZtvbnU6iThsS83k/qlO0nqZP6K+VozO0Caqg5AkfbHgWmbptmXL1roEkGkm0R5dy3yNZ9DnkO2LJbXRj8EtG5KA6MflGJ9OjLwq6++vKH/9HrXsX3vt8lTX4zv+vx8zK5z8POfZrzv/MAZaaBD7Ehk7hKYEr1cyH5FzX9DaScT38ekHEkqPK6l+jRhzjdK6xoiFhlK8L9bccikPfulNkqACsCpEvKJ1ESzLEAeuz608OIJUE4QhyFUpFBksBqoihR0wXwFEVAe37ZBJN6wDYBt/XtwfeaQFgMGnOs6gS5Kq7nVdYKyXFkwCaIMQRQ4FUvEpUllniQcsPYXjSuAVUqR/5DOb5LVu1VJvvcFSiRTqgirAMQm4V3Bcssm0wL5uq2Wsr7NoptC5dNkuaxYYQNP7zL3xLQZUYxSzwCr+fx2SXB66osx3nz3nc23vvHNnTUxAqA3vvPdc7uCHwB86xvfPPfmu+9s3nz3nQ2932X8G9/5rh3/438o8NQX453m4Of/8T8Uds7Tnp/kzE34vpQ1ns8JtHyiPLI4neVYrxILou247vxOTTslVgsaPSdi35yXaPP4WBWFyNZdEJXjaaysqz8LMVpxe8IkMu+lb5S0UQCdfbI2Xel2gUFQ4WA/RZblbd/z2+7HbwEoU+57NGZ7qYFo0qyjG8AogsrJ3QRc0Kgr87lSJU5dFTZ5vqyWbZ4oq1ii4xAasCWtlpvtTm181PopCYyUilCVBQpN7WncXFEOxuk0RgpTGnq0Nul3QaQxb0oyqRWy+QHSgA686VN9YCkroIpCY3+RtlVPTUCNzxnXoQVZFYW2VHRXOQ1w8rEcQE5jDt/N+R/U8WcCoH2EIKQFctCZznJM0fKJxqp2AkE61NiP+6PHfuankLkL3GR7yVHqIzghFidUaWfu9nXYGcs5S08rUvuUCewSVH3gSWOCoMKV6wlWRybwU9ft+IP9tAVEEQQisYESD7mGFNmT3mrSjeYZRBnytQE20v6qWqPQUZM8HqGqV5gvFk3kuS1/BIBgatwXgYZTMy85NQEX6N1726YCrXSOoJ4hCHKvRtsbhAqmts0IANvNk8hSCMZIQ9X1GkEEzKc18nWMAiUCuMDJc0CLQrf3u4nucx+tISAB4mmNWkcogjYa/7Nuy323AHQ3cr99qH1ypnmgvCwzW1cOJ+d0ZmjnJJ+oryfSUKnn0Bp8VUcdjlKmiabTFjwLHXTyPvl7uh46B13PWQj5byV4cqF95N/k/lGSK9cTa3oDgGZlkh2Q4XyeeyfWxymDHz6/J09bklVGbWDHsBABRoPkYFboEnVVWFBJkghpMsNcJZjNYgSRKS9Nohq1MuDTocTzAB4PKu0vUofjU6nIoZHjtHOFLm3uJy8NpcR93lOe52raWvsGPBfTyioE/PqVimx+aWfNpbnnHfZ7lh8bqNKCJ5ddovCfd5E+zNPI3Y73zXVmJrz0NXJzWGugCgNroodxAZkQzANB29jnt61heJ8bWJrOjCaSlwHSANaUdwJPTMul9VXaXE/W5drYSXy+TzLf+eshUAUMWBYe0zsMAeydYLXWNiBkZW/CSElOgOMJiqqyEfeiah/YEtrRWn2fnwHSNVBMzQPf+BzDqMbBQeqY9kQV509RmtnKJcqRBBqgYqxN5A/Uum5r2IOgU89OWutK5wgbOrkI3aR7mfwONN08GXjSNq4J18rtXgu44NaXkA8ASrs+T5klYPzKpQVPp9Lu3xGA3q0PE2h9wKdxQRBgPvXF2K4HOAMA7fgkfQQiZQWUMQoUCFlfIqANZjgN5dCa/tuCSNv4SL1jWJrSdNZ+6Ukb1XlqTXQemIqSDOsV11zu/gtMJadcVKV6tVEOmnx/GMJrepuUo9tWywRgwNIBz+ZrsAcbZ3HAM+JuhLpjPtLn2RLMZEBhMh0WiwqzdOFE3n2RcpkwD8yQsn00hpvzJKTVUhM7xyxumr/NZjHACrDqqrA155QdQMdzoKQiAF6Kye8vaZc3V5m9F9xPSsArSzm5qCh0ckzhAXegmyq2axDp8y730wfaB7h3DaBDwCZN3KqIDU2aENLChnhD5dzbzj+0jyfCH7IvJJnyVWnSinRTPWX4RROrda5X3X7hZylUsSVZ8zl4drg5jydOviSZ3jZfc28C7Ak+gD3Pxx8BBaqOj1Q+vPL6aT/5tWlboQNEDDzTaWz5O8l0pYi8r2UxYDTP+aJ1DeSltr3kSZwyziDw+m+5H5I0YHsOT17nalU42qhcG88JvTYzlH1UujqH6TwqSzn7xPSbB7Is7+S31jrCItXOD/b98IE+lK6cuQZKwgmRtQaiJDMPoIdPFIBllTcyLgLvyz2Vaxizj8RGgZtWyElcAI0/i4CzQNEpCb0b6QNiisr3aZxAl+ijqCpTatlIuXfbvNibWOAkHx3Qgum2a/Fpm77SWb6fgh21jqADBp5CZBsMrnG2EfqWyq49X24DTh2zV7mtjSVbfV9jOC68BQjfL325fJ4kqq3WSma+ZdQX4zg7vu+e0BgiEQk6179bJdJDuTdy10EkX+S9E4xpgkecP5LzidJ/0rwoLUkGj3y8o2fFJwq4YMab5gGwGQJdc/VsxM/J2prx9BdePLF/jkSev72JBU86B2kxkvm+e+7xfLBS5INtAYECNMTfGbR936mxHIHSrVsL6xMtdAAVTBEjcq6hLxUJMBopb/xGPkv6k1FxZ528Zp35Xzl4ymomPpbcFZptI+GVSjz/07ocyqY3vC4RT+s25Yzd07P+7j2U08t/uNsJ0qfj60ATKKoMOFWV+dNlheq4hg41yuMJvnSxxseftl+EyQmQfukYhQ5QHhtlWKkS9R3D+lMd12b8pzVwEqCq3FxHCvSEYfunLgZQF1tSjDAEcNKQ8Dbz8Dniy4Vz/iSqUR5PMDmB3VYeTxDtndj3fP3Fx8cv3c39C1V4nUChPJ7Y81dBhSqooFSJsL6M+mKF6ZdqlP/2fwD/9r8NofGv/H/40n/6N0weeaSzfi60/jvVxD6I9F7efxrPr7c8nnTmpOvvG0/j7kxqXKgnwMkJqju1/ePgOTk5QVVrnKDV1C5evIAo2kMU7aEsTHO4y5cv4KNCWz+jikPcuVND6xInACYn5ryFLnH58gWEFwJMTia4Ux1b0AsvBAgvBLh8+YI9HgAuhHu4Ux0DAO5Ux1YDLnSJyckEt3WJxeJpXL58AdWd2s5Naw7DPXx8XAOVWUehS1TVMS7shfY1vX96ehHrj7TdVh3X0LpCdadCuBegvFDjJIT3Oyfv/d/9XX1X37+HcndyX/KqVBx20wliIIx5QrOrJmZr1wavll2TUxfVA5cndq9lvog2xJ8KdAla+nyVpIHyqDFPT9omnI/ybtbPGddnaWK1MjLfuV8XAG6uMtbj3Yjkz6SAEslqZRigyB9JlHayBp4S/M262h5Icj4uN1eZo81zVwNf52pV2KR+vs5Vtv539539eZJ7SmfHRcXhpgXJygBg850M4wrpVDUpRAY4l4eVBdSqCDHfV8jWGulUmX3zdh/NkQAb2hbGFaoihF7+fIMqB0/ABT/ybwJw0sfSIAEqIKhg2aiSsHW3JE2mhE0rEzSEJGeRhTBfVFgehdakluz0ksxYgicAh4+zEGazJPdIEirvjB0KuzwvTQlnA4bLoxJKu/3tOfsTATBF3OX9VsG0c27ArcwKon9PMfSfT7nnAEraZjgncDRfqmXhAmQGBo5xhTBGA6oaYVxheQgLomHcAud8P0S21qiKEDcPUmRlbufKoKHm5vw/r0Dqa8fCgS+oUuPqiGCzCtJmiM+/bPJdp0gDNKxYRnyBprMIYlADQABOl0ufyDxNX8dNwA3Y+KjkOB0dRdqTJMK8aNtxLBYViPV+FscdEmVaR5JEUHnbwiPLV7i2v2/PxXNGYxVhleU28b6/3u6hfF7k3tHZxeHGaIlG27w+nwOAAbi1BmC2ZWWOZVHZ/djPAYRYHlbIoBvtMwSmQBolSOfma3d9ubQgSmAJmGP4sVmZY3lYQcXh5ufRxPeBWBgXqIoYaZC4INmQqGjBIk3kK/Y9I4LRGkDZ8qgOnfe0648Bm2hPwsstJdExB1IfH+iVps2HTIXiYstWGZiStnuYmLzVozKzeZwUHKLj8jx01nENVKW031kv0GrCVOeeTAvkmQInOPl5l9uffLKRrPEPmuy6xjMp5ZRC4Hl9Pnd8mQSeZGIDBujm+6HdT9vCuDHzi9b/SftJjGZaIY0SC8aA6y9NI0ZM7PO9/hwJgVpYTR12KqCbncAj+zbrodlPrUsso1UUWrrBe5F7eHCd90JvKe2AFvjyvMTyqLBJ7/R+tSo6midv0VHARLPnC6OJrrIcV66YNsl9nJ2AAcUYkZPHKSnraB0cMOU+mepEJZpn4f7wCbWj4OzpPiZ1Oq7vGLmfH+Obbwzb/Bhgul/r32WNfPyZa6AEnlURttpmHOLafoabhykwhTWxSbK1BqbtHNeXS1TLEPMbjbl/0I65vlwCaM17Al/AgCVppteXy1arLWCDVOGh2lSlfqB/BU8j3Hxflk0/pKhtQQL4a+y7291xuqSy3IYCMGoZ/c+K0JcDUBBlAEIn0V0GkmibpcpTTSWZRgesiB0qy1eYL5oAmujPLtdC8/P3ADpALUUGsyTg8mvw1bbfjVAzNgIA3gSNmNS5diWBQjZN4/tpHM0jj+Xz9oGTbI0h2d3v5/p9axq6Dmpgd/nSpbPtiaTm4QZFa1IvD2HZzm8edokUCGAJDAHybbbgmUYJ0kPg2o3MmOYN8JKpTvNwTZMCSNf2MxOoEhH+MPr5AlECM558zzVQyejEhdfck/DyVcBltNJN14BCF1hMK9zo9qfbWQhoiNKOAkmcG9PNzWyT2NNUWfKUeFo0AaB2bvJT3lwZkKVKIQA2Ks6BURdR2wakCTaRHzWKZtatwFnzHQb8ukaNCnUVIopC1KgA9kOg63VDlAIUZ8gov63fOdCvXfVpZgQoQ33W+f6j7/1w8/TXf8H2LuJronEEQA/S+vn5+X7axq9HAv2ZmfAqDjdhXAExsDwwASOKrpNwwAQacJyq9n8zhguZ5U6KEwPLbK2RRsbXeX25NFrqfO5opmFcQR8qnPu//k984fwvndUlPxBCOaTbwDOJlENMIglKfNuXed4SUAMt/V+orUl/FusHupHqmuH8WL5NYkGisk/ApCwtjwpcm6WGPaoxrX3ap527qGx1FF8XZ3EiFwOP+vM18YIByioodMOqxBjJzlI4kFArXv43ZMJykPAdf/uTTzZkFsvmbkff++GGwJPmkMK3+czrs1o/v4ax6/et1Qee9J+uFzhjH6gFwLgFR8BEyq8vl8jW2prVBIKkeaZRYsE1jCsHJAkY+Xsy5W0gqTmezzu/YXyo+lAhnFZ48sn/jH/87P8+y0u+78LzDoe0yz5GJxICWD6WxnEQJdGhPhM/XqEDLHWOojDz1TpCPK0dcOEUdmmqoFTQXU+pEdehBVFfG4+Ya4ICgFUcOiWeBJBmjS2RCW0nej3UtRuwaurw7R/du7pGMi1QBG2F21n5Qelh5qDRB2Ic6GgsB4xtx/eBmW88Byp67QPBs1q/HDNm/TTHRx/801btVL4/+t4PN2dnwjeaJ5nf5Iuk1CIArU+yEe6vBJh5zjTUrMytlio1WIrmcxOeou7z/RYMwqlJjfp/l68BCPGF87+E/2cATD6PokPdaW2yi0hTngB3njSaGAPRe9HQrAgqoInIA0AUzs05GzZ5hAnStLDmOsCZp9rPMkaEugQA07+o0G1gikz0VZZbntAs01DKmPmklRa6RFWzfkwMbKtad2rpi0IDQet64Ps50PMSTCpmuFvxAcSY9r9jWwwDXe2O/g/NQeuQGhyfyweWd7t+H9iNWT8d51vnkJxNT6TGfK9gND7rn5wa3yX5JIHWjDd5oHAAlgsHVa6NktA5yNeaxUsWWDL5pDx4lE4VDg+BL5z/JTz55H/GZ5ufj7Qml2BCI89dPlFzzPgfC6m1chLpKlybiqUz7AopCTKKoEKsIyT7bb6lj8KOizWzg8D4Tes1YDlKCxytS8Qwmi0Ax2/KwZd3vgTQNDg07FHZunBAkwDYZCpQEKtuQZQBZ6DKjtbJa/rvRvoeeJ8fUh4je6X3gQh/75uX9vm0RnksP8cQYJ1m/X3HyfX3aZS+sT7hx5yZBmqrf9Ca1NeXyyb53WiA12zEIbRj6FigNdV5gAhw05t44Gh5aDReAsjlwf/P3vvHSHLdd2KfEcdR6TAr1MIboKSs5UeIiIs07SsKTNymNlCHUIIGz0DqZBkey3fywGKMgcTEbUsx5g70ZW0rh4HPlMcBRSx0tDB2bN0EtnVtnEM0bILowCLVdyDEiiwvi8kafD4txAKyh63IA7jkjNL5473ve9/36lX/mJnl7pLzBQbTXV3vR9VMf+r78/Otke/qL4YGT5Rqnf19dfg973ngtC75jhJTntlrMB2ffD5uwlNknpd7nnYaDi8vTWIVcDSVPLLSJnObMFqkMQND9VkjE+SbEqODGAdQWl8xTRQT1bQygEfCK42czpi0fiWBRt3bphKGVYr2wcGYgzmaxvRwJ6F7yF0vILwL1gAAIABJREFUJ5GQdsU/C4GJb077oDJvznka2nE0uNBaIdM/NCa0fw68XaA+b06+Dzo+77pOzsZkEuatD3S4NTHmOflCCWD3dvrIt2weKGmavpBPlIT7Sum9qWQaxaa8c7RTY38bRvOs6xh1HZvg0dVv/Qaufus3ujhr7zrxqeaINcr3hx5/ft1KJJ6aNfjvk88f2L/Oo8wy3R5Za47Kp7i4XxMAE0yiTqFUNhklFuQ4EDtVTdLyj1IgKOsrYOYiy9oB4zjRjd9EgiiRyDwOT78VymnKvMCN7x8MpQiFwHbZ9UKAw4+H5u7SEkPXEvqMfnftv+taQv7SedfddQ10/FSCSHWpTPfRfu1UB/FkeaDtAyWhoBBpn/w9H++M0Un6FLQyifcaGM+/9hjkvhpPZnsc105a01sxsZ6+mDJWJa/9vgWoeMmHBo0pKqnnaXcRuFV0akWlgkqyrDE6KFHV7gOW9w+KhJfczmjyfCpCin63zmXzEoiKRBFDx0lhwLOUkdIq9diJJj0hUJeVRDERyPq6d5NeL9R9AQjTFx5XukxnXwMLpRjx/MeuYAzN1SV8na7fdF5onpDm7H/WBaKL9k9rLlo3FHkPnU8/dM7JAZRyLHmupQ4o1aMYW7lKL+JpSK1qJJ16RMIrmEx0XSfR+zmfgAXPuo5RT2MDmIAKIN38gefwrf/8SZtMT+lVbwEtlPsQfaEva5yGwXN7q269JvCkMVxD5K9PKw2na/8jWZhumI1U/J2yUuBIQJaKRoEo5xiFMsnTRoEgRb0dXk0dKY+ElwfKoukm3SiyDfPQNOj3UsUen8ZAFBkQdzTixvJ40n0L8aveKZyefiAK6Na85gHRsj7QecLTl5aVefun1/O04a5x847T+xP7QE2AqAT6W8LUr1M1UkzMSwCGpfWBWgYmaSqR+G+fzg6w1UfmXFjtFykgUgm5L3DzB57DLP0Stv57RV7CAZvmUP7Tt4bwgI5PYeebigSkHFwpoEGf+WNC5iax29/K/ZPGSGCU6nSgMqqBCIh0+5CDqVQpSjqIVJbSRPVbe25iAGqOTdHgoKo02GoTnoMfc1eQK4CEADgVDQ4qlSJVokIkPbCG1Tz9v81p+5FXMcFXlVUCLYuCUX5kfJ7PlZ9z3Ei5v69lxobWC8mxotCO6ZtaEM23YpNuBIQ1TePLZKlIDpMSq0ziEXg/1cmff5X1nbUZr+itjspnO5gZwCfRgS56zf26b0aWwM5OPOPgBQA/9s9ewWc/+aOtc32gS0WDpupjJAtD67ZKt8gsaTCSKVKeND+tgSTGsIPxnSjnAKWB7k6sNTLUFUShLphd47mZPRzYajlOAkLs8WXAr7zTLxxO1RRJeP1SYlwBSGKApZntbKrvQ9cDMCR8jd5/+T+Y4z7ILQKARcDVFXH3x4bOWebzUBS9CxwXAfgq++fj+R6WWdufY2kTXqTxTOTxLNuBCRrxFKG9nX4rKf5ynjvgBVg/KNcgeaI9r0wCYMx2mqOfZIqpiSfdr7g+ab3GjE8V3V62g1m2A3OdRIV3GpLtYHY5z1UQbVf5avf2dUAtVwGwfCs2PmSlUd96H61vStKX98lnvqr23WG2U8BHpLHh6BwO+qb1Ri6yzjzHLtO15IxQaYx8MzU/g4H6yUXmaqiBnFfqkbTUeLanSaHSF7IsQb6ZtjhGW1LVDnhSX3t/bZHGGOvME7PfJAa0r9VvFkdigB6J+RkO+obcWaQx5tV3c22ryxRfJgjTFQDiJZldGh2fP3SuX9bZlTnQ9X7V/a+ydmjv/vuFGk6bz1MJ8Xa2SEHg5m5a+joEKO2UprW33w+eR4EkDrYcELm2edz1af4uLZgA7SR8oiKPZ3s7fWdtx+frBdDqUWwIo+W+wK2s2xd9MfO1nsff/wqSTzf47Cd/1GhEj7//FTz7Vw+1NCSutXEhpna/aV2rmWAjXBBMYqQC2M5EqyMmAENfR9ruaJooMAKwlwvD/L693V9qPO+xTpqdSC3hCDFAAYBMIgvyes95r3JajHStORxJZxwJjefCuwbQ/UvidgBWljX29kctDQqwGh69D+VLLkueEfo8RAayyvyhenh+jr9uSAO9lftf9t51fjF5ehKBHOBS0oWS4DlwdR0zFUZJpnJDKWcTcACSQJqzzvPjQT/piutzc58DrF/ZhHJ1E1/kusBAM0vxtCz+kPDXHW5pXzHlsdbxLQPREIA++cxXUT0V4fA/vteA3ZPPfNWY9RwEiS8TaDMZlVKxvPMxPoBGzCwm870LQHmqEfVhlzJ2xgxHEmklgwAaGk/im94Ehru7EzRNhglK42ooJRQQJjFEJM19IAmtOxxJMyYVdg4hNDlzR4dUAmZic/Ln7g92g8nkIYC6E+RTv/5rs64e6/NkGQC+HRI04Vfl8+QSAi7zmSb+oNeTqkCc1sh3YxMdr0tlxnINFbDAyins+kl24vVvBZ8ouQAoiZ/mvJznuJznpnzVACUUkI52auXr1W4FlErzj3s14kTcMnO+qCJjsgNA9VSE5NMNNv7v15EljQFUAHjii5WbDsSiz5SITi02BoPUAMuiqDNpdgQuPK0IsJoj/aSspzv3oZLvdJXxgKpC4ia3P55L6j23UyTO3KF1B4zEWpWXtuf1q5Ny4fzvde6JGI74D//8U7/+a7NP/fqvdf7/0Od0zqLzVxE+z0nmnHd9pyGhvS1zH1pR+OPweQJwtTmuwU2lcz43kXllEdfI6lFsykLJz0oA5wehTrz+lgu4J+UTJUo/qshCgPQn34ox2ldz0lo8cwGA8zBBqev5Ec9uZWuSJ5/5Kv7kVx9C8unGgCh+1QLq5u/W+Mo/jVuaEiW9U7M2EtM/SGRaG7UPJlO6yU3iJHb8oHwOAE5vJKDN0nSlkFqLFRisMN4Hdl6R5GufRigYJBA0+33+zzFixWpH1zl11+QWQIrEaWLHme9HB2EWqZA880d/MAOAT/74T8z9nyGN8Jk/+oPZMmOe+aM/mP3lX5XgmqSvWRLw/OD70+D5i4TGH0dbXWYOf798nz/4fnvv/fvgj3M0UAqaUHCGp/p08nnO0fhorlBUvcWexAJFe/t9B7T8+R06uxOu788BuHyiw91JkE+0tRAseO7t951gEe2D1iLGfarI6veE0arzrdhS8Wkt9IH3fgbnX3ts7trLymiau6ZQr8YTX6yMhgkAn/2IBdGigHkNwAnAqJLEymhGPqBRJRGxsDeVcMZv9moFKNwvWFnzH4Bp4MaBeVKMESWTdm4lA6U9xjY/bzxpfZxFntaXZY2J9wQsp7Vap7Kmd5RMTAAKgFmPuzIApnXyQBLgBOaaSgQJmQHbXylUheVrSvSeA8Azf/QHczWqT/74T6zRT2jeT/36rxmA7QIl+v2D70/x+V/6ZTPfovP94wRiXfv1tUP/NQHdD74/7bw3oWvnew49RD7/S7+8xvdtNFBOCEI15abRm/6Dhfg8udZHxy6PRk4tO+9TBFizln/O+TwnVWGCKKR5UhoTD744AaRjrk+mta+ZTqpCs0tZPtF7zz+Ce8+jmxJPm9yAS8GnjrmsUVwDNw8RSOc1PUS+lT6J9/67zwKvAeg9B0yPRwg9muazvDdynefTGJlskIp7UT31On7sn72C4iMPOYBKGuif/GpkfKFuXbwlJPbbW1DfIgOkZYKRLEwe6SCPISvXrzhMY93eODUdNAGrOTaVQAmp8lCn86954Xj9foQCOSwHqCUOIcDXb0nz1L8pFaqphJmftwEZNzUgK8CQPsfG1wu4Zjt3K5ieTXNKVvlnn/+lX17jGlToy//JH/+JNQ6iBGpdmhoHstDnXLgWG9La/PEcxPy9017pPD6e74mvQxokv1Z+zfTZqppwaP+0X8Az4YlJvkbsmNeUZgRYQOOanEP2AQ1QeqxvSpP/NMTAxCPuBtQYFZ6v8Z7G+pzQxAGwqUS+qwhK5FTziX77Abx09dnOGx3nuoEeWGAoVfdNPZTUWo57gAkfS5VVW1uWEf7m7Dmcf+0xnD+PTjo+0jB9oBxN81nonhtALIAnv2w1zWdfvB+Pf/BVAEoD/exHHsKTX35FDaq05pcEWN110zduOlOnS8od3UygzfcIEmiZ7SKNgYkFCG62llLR1DkJ6QyQOMAtPR6VjnSzdh+T9r1qaco6DUk9TCTGY9sJlEuZqEyDEnFbC4UtjeVdQHlTOt8dYPyhpevHXWSqd51DgEAgBqAFZMvKPK2NA5x/btc6y7oX5u1zlWsIAXtoDnpvAfSYfJ6X89zRIG2AKXaqhvxIOkkLAHttU7xFvuwlxJ9kfSAcdV+VT1Tk8aweKRD107DIFcL9sZxEpZ9rrRmxAVFirKJrvvqt3wCgQXTtsc62JHlvtDYciVkISPfy9vnVU1ar/OxHHsLjH3wVT375FXz2Iw/h2RfvN+fw8wEASQRA0bcZQg1d0VMUsTGdAR2FHvSdyDf5QCVZ4SxCTUKg7PpVY0wKdU+c9J9APuheWWMQLR5PWiD/t7tyZRP9y1N3bz3Pd1nVKCK7h8EgdbTv3d0KompQIjLAXpJim1AbkMiszzkGuCZPea28CV5RJg7p80llVaBcVU6q9Z10f8v6VH3AXrTuOnAyPk8CP5VaRH3abaI7Tw/yCUIuj0bo5+1IOomZg1HXoYRZm/ZzkvXjFKfDJ1qGwZOkrnVZaxmra85VCle+FVttuGaBpxTY38kAZAZsH3jvZwyQzpO9XK5hhBlgzfaQ9gkAz/7VQ3j8qVdUnmd1vwoc+ee8eD+e/PIrqJ6K8OyL9yPLgFQoACRoEomASIDJpHDAE7BmPM+7NNHmAPDJUmlrkBWuXLE9jKg5HM/dbEnFtFGodsmLxhN4CS+jwJdStk1woLZzFWMAAzN2Z6eP7e0DpD3hjm3NG3l7KTEYpMb14fs9CTxPmdP6torvl+xyQ6w637yA0DxZ9lyjgR6Xz5M0KgKZfpJhVNamrJJ6swNoARpF+mk9wGppfH5A1WwT5yegzF3TC/4E66u5T8YnSvmeftdQc03pCPXURtQBXZrK0rXkvrBsUYAB1n6SGZap/3TrWby0HWs/aNzSQslM38vl2l4u17IdzNBTx7toA7Okccx18nc+/sFXjQbKj+NFoCiAooiABBg3EfZSAeXqU9cS8jsqEz5Qqpi0UWAv4PejefxKHen7JqFToaYukHaNJ2q5FLY5XIschLkFfHeDT8fXB1p+YLMnDqJ6Pu5Ltg8YCSBtRd+LMkEUqeuYNlqheIvIPHP5uPOdfFeLZZ2nLZEPdLg1MSk1/Vxpo5S8zgMuNIZAawIFfqTVYctlTiI/Ize1RztQSeZMQ+JAQ4DuR6YpBYiA8rjr16Uym0cl8YlqbbGng0dTS4n3+s2XrAbIa9iZXM5zpX162QVxr0Y9tT5Q8nES2QqBJ91jGkumPd0r0sJ9IfCcTCWGIzHby+WaecDlmcoqGMUz2heZ9oW+7QSWz754Px7Hq0bTpHOeffF+4EW2YOLmgoo0RhoLSKkqgXZ3JyaaTK2KOVhwGfRgA0lMhEha/ksSZ64ACJv7ssx4KD9oVEj0s4HRnnPAmvFAMFsAwgXl8bgM+kHtHtgbnQYV0qQnnjbL/Z1+ZsBbRW61G+FWyJpI4xkHJUC9psoZ+jIPdyfwyxFNNJuZryEiD66NGS3Wqz5yIvPe/4efH9mqUvLW90s/561Pc3A+UaLEo2g7me2ciNmcDxgw5dVaALQvNTa/6RgBadyzUX5OcOKXdVLw6X//J2pPcVzj/NpjeP3mS6ZCiUfYsx3M+j0B0kL53MUunPNFX8xQNXjiuRo3vhDhYKQb1GXApX+u8z4LaLO9wYWfU6Dz9M/qIIdun0lEHuNG1adPrgycpO+qHjkVNtYHKpwKH9Ieh33RqryhbppZrzRzSemBpwbToY76LxrP90KMSpu9GoP+tvl8dFBibyItUDMgpUoixXqftvygRVGp/FSvBJTmokomX3gFEhAw22keWdx1oPNWkneclM+TyDAITDh5cr4VO6Qg5E/lAOkEdUqYz/JdNW++G5u1COz6SWbmXrQ+VTVNqiK4Pu3hRHyiGoypsogqnvZ2+i3avDitIbbsl4aAlcY4BQWsismZI69xc/ac06KZB4ucSi42B4Gnfz6BZykjo3Vy8ASUFnowivCVfxrjxhciPPFFDY76i7xX1gY8h7pfEAeSJM6Ri8yk6vAGa6W0mhnX0HwgAlSUm491hExtytFcYjyvO+dMTaODsl314xGBkBgAFm5JK+1hELVBngfLNntuZRRVIBGpCWnEymzX+aRztO4zefNk/aR8nry5GwFUq6smO6ffExiNaqPpASoo5GtwXf5LXsbpz+0HvPpJhhEmNh+TtFdv/VPhE2W+TW6Ck4uBPqPxcWxLYW0U3hWjte6o66tnNbauxADUNdycPRf8o8pRvabKSetZXdoH3nCkCyWSzAFQAs/CizOZ9wm1TW6s/5NHMFhepB2r/IC8eoZyQTFWJrPDpsS1u4DvEnAJjyl6vcvJSAIBqUXjqSAgFY3mFlVrp2ICWQaIUrz98TxOmlukcSsn1NmfTmlCVWNzU40vURngJF8s3cOiqNDU0hmbCuhAW3uLZ/LmyTr3N/pN2kwwB7FjLpPmNdqvVYCkjLG3Q+azm0jupyAB1j3gmM+B9sQcuCZTC16msdxU+fcAm8Pa7wkFqBp4KQ1Lmc4qkk7+zXoaGxAVqQ5WxbUL7NAkxLo8cwLpmPo0hh449ShWzjNYvtH+vtqP3Fd7pD71TpWVzjYgur69HQvCgAoyKc1VB/B0xD7fjGb8i2+DNHruMkKNWGcnqPs5SUcYTfPZdDRBTz+kRA8oKjv+977QIN+NMNqz/yxFFWEztxobAEhGNDzsC4wnBcaTAgOWlM5zGPfGE0X7lqp/opGUbuoSU/r8XFL6KceWwWgQNSiFJTSm/ctmivFk4rBAySZCCRuBF1EPRSA7wfYsKpA16jopVYub1qNIOhF0Xn45t2eT1+qYKqIAxcA/Gtu1SOKkARpK3u+e+kzeXLknRnQ5zms0iJTv8zMxiueB7UEPiBsUzytNSF6vMfixBOX1xgBs1VQmkLP//BTyOtNKY/WPt//8FIgb57O9p0tEFxozR78nsD3oYf/5KfppCrGRYP/5KS7nOaY3rAYKAFsP95215GGFyVSa96P9GtuDHuRhZcB47+kSKIEoatA0EZrrEepCBW6iqEEUNaimiSo6uQE0TYTkwxWaG5EBuaaMEF/Sr6GO14X6IkRZo+5N0SC+VGNSlhjtVmhK9UUYjySmf6gDBVKdb8AzbiA2Euw9XSLNIuw9UQIXgOi+Wh1/ojRgGWc15PUa4mKM/+fFR1A338Sgf2hAYm83Q9a7iOjBCpXua96UG8CFI/O3QhmhKTcwyC/i+XGF/SvXkX54HZOpRHSxhqzWEWfq3DSLsJ1niA9LfOO61diqw3UkG0cAgLK+oDSrjQi9CxGOANT1IY4ArB+to5QVPvrRB5EkG6iqQyRHsVsjXta4QIaABLARIRXA0fUa60frEGmM/oeFGT8pxug/eIhvXI+QbBzhvgspUCvTfNBLIZL7kBzFmFy/gfUjoP/gIR68aImTh4O+OYeIoNM4weT6DVSH69js1WbcN66ra60O1xXo91LEF9TfMb4QITmKUR9dN+NeLiVEch+yLEH64AU0R0dG6712tI70wQg3rjfAhv5f2IiwdZ8we32+3ED/wUOsHwG9Cw87WQE36kNcO1oHNiLcqIEbNdR9r6tfOQkAnMnJ5J74QnR5sJWgatQXfvsf9RDdV2Pv6RJVU2HwY8oE2Xq4D3lYGcCjY+NnJbb/Uc+ApLxeOyDIq4uK54HpjcKAJwdaeVhBXlfgg7jB1sPafGLzdh2blKWZb/ysxLiUqJpKAdmoMkGmpoyQbFZABDTXI0RRA6TqoSG/UgMXoEBSAnRP5L4ApNb4pALPehob8ASA6GKD7UEPg0vC7K2BAtwGEfLPxKgvSMSZflAB2H18gH6aYv/5KSZlieZGhPKgMX5Web3GaLcy4Ll1BRAX1YOseBpo8H+haSJsxEB1uI69XaVJ0gOlLmM0NyLgxjriSzcAQL1f3wA21jF+vkKycYQkASa/d4TB1gUUz0MBLNYRpzWKpyOMR9fxYHqE9SPgRr1utC0C0bLUmXAbETYvJbh27Qbq+hBxvIEL8QZu1Ie4dEn9vyTJBpqjI2RZYgBxXNa4UdYKWA4bpA9qgDo8woV4A/0Pq7GkjVbX1zG5fmQ17dol80iSDaQPXoDYuIBRcd0Bz/2dTbNufCFC7z6B+EJkwDBLS3Mugeh96z0Mein6HxZqv+MS167dwEc/+iDSBy/gyrhEljR4vtxAfHgR60fraI6OkCQbSJINlN+4YcDvQgxcuBjhRlkbEN19IjN7HQ76eLmUGG5tIX3wgtnr9GUJmUS4EGvgBKw74AxAb6vcE1+ILpfXG/1lA8alRFkoUIsuNAY4xUYCsZEAcYPJVBowG5cS42claI7oQmNAsHgeRvMhba7fE+Y4gSeJuBhj6+E+xEZiwABQQN1PU3OMgJf2MClLBTijSoGgDgqR1tggMtpzdEFpi/Iryg9KfsbyeaU91mWM+JICsHoUo2kiRFmjNFJP87z3/COA+CYQNQo8oR4E4mJsHjRVU9n9a6BECQxyZbKLi7E5n0Cb9o5UAf0jDzyOv5h9GeJijOJpBeZNo3oYVYcKwAYfTrD3hET5/BGi9BDRhQbNV2IgVddM2ic2lLbEtStsrKMcNYgv3UBTbiC+dAP1SPvuEgUmRaU0PtK2aHxdRyYo8nAS4+lvHOLCYY0ouoT68BoAYGMjQpJsAACmk+tIH7ygpk42MJXXceFipIDlSIFEKYFr1w8Ro8GlS8Ix5S/EG0ANfONQ/e9cEvcZ8CyKyqxD2u61G5UBT8D6FQngquoQWZagOTrCy6U05MiT6zfwjesRokgiH1wCAOzvvwwhIsTxOv7kT67h0iWB0Ve+gepw3eETrW80BkRHf/INFVyDAr8LMXDjKDJa+1b/IpJkA2LjArIsQS/LnOuYTq7j96ojo6UbED1slCvgujwD0NsoJpGeVyKRj9IPBtExni4Upzr45Ed9ofx15C90+TxVcn6I/Lirzp7GOi1BqN6dpf3Q+9GoNsQeJocUHg1eafNbkdpoP5+D7g2gWiXjNeDe8yqh/o03rjo30+kY2kMrEOafS9dI55u/RW4T++89/wjeeOMq3vvvPovR6DdstRIAHB4BG+pPONyammBPPUoQ59aZaMAzibC3q9br5cBwR/uJd62v7TJGCjx54EhrnWIzggDQS/roaT9vvml9mFcKqYhAKqCpS0S6Vh5IDQhSqSfg+glNFD6QAO+TCReF8oOS8LpxElorSuw8dJzTzpGZnGUJJgUM0ApdjjqS7t9OGAJo6QSoePoSB3wjPBHfC7bxa/Cvg4oKOIdoKlxfMcm1b35zdt/3fd9tT2virYZD77vkTtk/4O553v7fQV9IquZBCtOTiNJ/QtU15j3rNWR6EJVwAk6UHO7UwAf4PEl8Pk/eF4mzNvWTzAA3JwehCDmtQT2U6PVop3b6w5tr9/ZG96YexabHPGDBk7My8fxTLiYndMcGzPLdGPvbbmCNpzHRteW7MWb/zZfw+s2X8NLVZ3F+7TE88sDjdvLDI/OS0o/inkScVwoE00YBZxkhzivkQ9ucb7hlE8Tp9aQq1L3IK8Q9aQJF+VDNS72k6JoIgLnsTSTKRKBu7LWFAioEcDyFyYhOhZKyDZIkTh8nRkPH55ayMlVGTimkPr+UKi+U3jtVSpqKLxeZ+ZzvB1BJ8/5e/L36YwA4aVCchHl0UGJ31/IFmD1XFkSdORgQH/zOiwZ8OHv7tW9+c2X6Q5/9fdU5fLBZBjzvpP0D4b5LIXkHoKLJ9AUHVLI5J8DgidhdHKC3lc9Tg0+/J5xc0v1tN5mecjg5Az4HcsoKGO3X2Nd51FQhRDmXfinnZq9GFkWmxJSuyQD7VFrABgz5ShzXBpQvj0ZY++OPtcYClpHfXztm7o+93QxiM0I+tPuK80qBp37NHyx0zwkgN/PGgqj2n9ZljK1hD1vDnnOMxAAw0xZ5nXeZWF5LwAU1/trkbXp9kXgAhdKDDJCVdYvh3szJ59YSJRIjWbTaePCxgKKTM2Dq5YAaIg/Wg17KaiGfaFC8dCu61lJWQNOgQY2mBsZNO+JeTmuXWk8L/5LzL38IlLqEgMYHjGW0woPfeXHGf/w5F+3hbt3/etzTGmMdI6Y/OKvQAWDMUF5L7gPf7eLzbKVKpTYtK45rk36EXrutMmlUfK79fZgcTUDdl3tfswnrZLa3OEGTGPUImPSoh1KszeG49SCZVAUeeO9n8MbaVVwefQlrf/wx3Jw9h0kVm1QyAtW6fslonS9dfdZJnseGDR75LhQubg5rjdFOYzRWk8eYRBjtNIYHlnygD31PH/VIg2Wqk8x3GmPid6bUVMotAqDVapgDXIgP1GdkkrJySjJHskAKAYjSMBWRyGaKrNdg3GROa+T+IHYAlJrPOVR8sjKUdEWZoKrGGPQz09Y4jgTKMkVVjRFHQqc21Qv4RLVwHlF9jSIB9qY19nRalJQVhAbFfUm8Au2xzj3WsghgltECebfJZc1uvjYHPhrPAXDefHfS/vk8HHxD81kfaFxb/9pUk1nAlmv2k0wnqsO8b2mjt4HPE2jnjNalrjNn5Bz724DYUufw/E6fGs/cD1a77pd0ck5Qkwd4eIS6jvU62hVCOalTd9+jnRrn164qV8Affwzvec8DeA8ewP/5PwPn36Dj6je5C0j7vDl7AXEMYGMd2X1H2N+b6oR35fdslcWmbqCO8mWLqTCsSMZ01SC6t58DOZW9TkCkwoDyr2aZyhm194At4JmWZSKQNClKWUDKCn1dpYQmhqzqVg08gaevvXFqvM2kxsEUiHQCO2md4yaCYGb4Xlln+uWbAAAgAElEQVQ7PZKo2kdS1VQiUOrbM0hjlKUApFTs+YwqjgC2biTiGqY//ED//efxiTq95FmxQMmIQIw7IxHq2R8qdfcrj+aA58sv/PvODpf0OuRv7NIC+fkh/2bo/Icffd/SIHbS/YfA9yT7f/jR95k9LNr/uvljpTAaKAWRiCGIKnwIPE1JJOBoo7eDz5PXjJuSzhS49zVVNy5S9hDouYnsxtdJoFoCQGxLNGFJRHh5J/+sqF6yfI4A6uvrLOmduUB6iuBkVGpQf01pszd/4DngtbZrwAfOEJGzIcRgwSMjaeMEkvi9HpU14p4FUSOVSp4HlOaJcoq9ffUks1Veri8yRM8GKNahsS49nKBEv8nQ75cmCDNppFtJ41X47JU1UiitkFPaAbaKiNPpUaRbNsIyNFU19mAbzY2bCCnNzTtsQgXAAA14k0IDn0BZ1kirygVCtqaook4+UYfKjtajIBlxgyaxDhS1CUX8PfL7lPbUNV3+FRc8fODoAoJ54BMCDTo/1H8+dIyOhwBqHviddP9doLfq/ulYaD6+f0uorH2WpvRQ84HubyvTvi4tsPBINRD2XQJvDp8nMQ0BcMzl93z7AUW2wXyIyq9p6+7JJ8grivh7Ek4s4mujN/+/l5gWd4T44pEBUZUJYO8FStvv/SaeUw8lAHgNuPru3wBK4PzaYwY4X7/5kvmt9qfBTmufRWXzMk2TN2KLLyMDdgSKJPT3y4fAaI94ORV4EtcryinivMJD39PHK/+vNX3z3Ui7AGx0nr7MQDuKruauMUlKtTUpW591SZkIpJoij0fRffYiilS3QErPv8dLTdO40+1AlHMcLFMBQIhWySTN0VSL+UQNlZ0I8YkGgJJF7FMRvkd+Z88uECM5+J0XZ/OAzj+Xft+KDpghTfBu3f86N3VJ8+OydQUA4hadHaABaOv28nkSryYAU175wLc/A8ACHwGj46bw6OiMua/dfRw0CcRIEyVgIzFf6I114PCIBXgiwyUax23fJMnNH3jOZEDcHKn69tevqrXJ73lz9oJdY2MdReU2VD2Yxoh7zA+qA0hIG02DB6NN1qME+W6kuQLUvSWQNZq+1l4/9GuXHevDtjpRICqbuPVl9l+HUm6MeGDrgIb+zK+lT2WColKTjpuou2Om504AXO2zc7+yfRxA0EcLYC6fqKN9BoI//j58n6f/MOD7oPnmgQ+ZoyGZB0r8nLknBITWe/jR9znrdwEandOlCd6u/Yfm8PevovB1bFKPRvuqNzn1Sych9iMesNjb6RtA5P5NUxOu5yTeUAAtPk8CTWIQIuan0X67bxIn5fCJS3ig5o03rhot7t7zj+D8mupo6eRQ6jEmVam2dfG+uU7mMz/+xhtXHbOaIsLZfTY3ExvrZs661mxP+n7U09jRjrmY0s24QXzxSIGnBk6eugTASTWie6+uTR1XwKzM+eHW1OSLjnZU5D1LGqBq1MNKs1ypQoREuQQ0EFM2BA/aqcZwarlgOpIn/HP+etBzO1byz65c2XQYiSbFGCXmITKTKgw+i/bpnE977dACzWtUpjMn7ZdcDy0T3M86WHb/PIjkzfHyC//e+eJ3gQ6XzZ/54FrXeQRo/McXApbQur5P0R8TAtJl9j8PzE6yf/7DxR/v7/8dTlRXpwAR+PlA2uooCQApDDvRaJ8RjrA5CRBJiyV+Szo+3Jq0ckXpM5ODygJMtAYBfpyrgA/5bLmGSJojAFcT1UQidEx13GynKpHWycHTB1inR3oVOSAax43zU0/t/SFApfdyXzjgaQCTA2diTXaSfGj9y5SexcW0TN5lY5PIIUUGVGrSaKexifT6px4lGO00GO00ll9g36ZJGI0x0PPc7yHkAG1FqUFsE1r7GvYFJpftGuPJFeyNJ2gq0bp+Lp3gGND6FgI+pQz5jFHeWNpLUwnsjScYT66YzyaXezYbgBjze3FQO/bXSntK2yX6Ov6ag6kPPPQ+BAiLJASAJDy4ArQBrGsffPy8NY+zf//zk+w/NI7PH5pznQMNmbiU2kRBFwNiun8RaZumEqknWBBGCa9mGu1b7dCw3G8VgE4vItYi5Iw1XrsKRvu6qomx4nPNjfcr4ma4n+hOnxFlHT9272uPOIDrVxj5wkE5JEUVARu6iucaM7UPlY8U2DBkSUZD3Y8dHycO4VQaqci3nYs4LQ+mMbaYq2O0Y4NCWQYUo8R0FegnGUZJgYOpDcIo90PjVDKZ8VSFlFg/KeV/EoDSl578oGSCGuDsoKnj0tLQ+L3UeZ+RaQeiGJfo+ncPakDEzjyG6o1raV1glcRhM7tjP041kHT5RGlvgK1yavVW8tuCeBF5/7ib0hXeF/9id33hCYxCZnQIpLrm4Sb1tW9+c8bBrmvNkI+yy/+5aP+h8SfdfyiDoGteWh9QALwWJ6LlI6B0Hx6hJ+Hajc8iTwESJzfTdLm0gMo/42WiPA2J2O+p8Rpgg1KUmM6DPSEG+ZeuPmsfCrEt7STyZH4u0AZd+swHVO4L3d6yHRWBQM8fLQ6Y+lolCT/G3ABdQmvt7WYG2BTQenupGuzt95zKIeLA5EDs77+7cZtNwN890N/weQS/Ic5PXzygJUZ5BZ4T+F0riYNzNE2c8caP2GUih/YwJ0XIP8cB2qpG3iOiZnVPCExT0aCp+uYaylJi7GvafK2ARhrcG43Rx6/9wf/S+rjLn0ifbf7MB00QpCsNic4lCYEcH991DhcfmDZ/5oNroSqhN3v/8/yooTn4+LU4ETMffIzJqzVR01KDt/0ADMCSSe5Hzn0fJk9jAtpVTFZjrdvgTX7TaWy4NEmTDOVnUrsMAm7TtI0La98BuBF2AA6w8vn5eqHWwqvIzo4iOeYcm50A7DVEA9wvbui8eeI3RPPXpxr5UMkmgYQBUMAN3kClD41kgeGgb7ph8rFN1VetMk4w3gAUS9YvZeVwc47HpVOrPjookW+mrWojKs0ELMMTzc3n40L97v2HDpGL0Bx7ZdjvubedmWsbDpTSwK/HabAXGH/tz/9N69g8M5Z/5p8XAq4uAPGDO4u0ti5ZtMfT3v88YA/Jout5R13JNQq2AAB/TZFh32QG0AI4U0oJlxyYB6LIx8nr140WyrVTAksd3OJloeS/JECMe7WpFaf3VIEEWNDeuqIfBDqYw+e7+QPPBU1yHoziEurMeVwpZWS0KUvk60qoERtvg2taBANBkPX9hU4dubceASknGKHX/jx8XQAtM12ksWVB0ixHw0EfTSV0P6TpqYwXaWwAzlQVeZ01qdSSn8O7XgIqEBQlElmvVMTQ49IBZk5aQq+Hg74Bv+Ggj342UOewXu6lX5UEOLmcNJ4Y/Gk8AKeaqmt8l6zqA10lx5NrYV1zLQriLJLT3n9orkWBNJrDdwPQ+3cAKspMDcroNaCDGlNd1aPBVO4LB+Ao2AOE80FbrENMOMBSFH4rL5yIuoles6h13NNAmeueTASasKAPwIAoT5g3WigFyzzFwk9f8j+je/TGG1dPrH0CFsBe/8HfNj/zzgPaQOaDYAjo/B5AfJz/m7RaQCfUe+OcdSnYwb/MnqaUZQn2d1Q0XZY1BoPUAM+Jx2vhQCVl5QKpfk8gKqWtdyetM8sS5CJDPxvgYBoj36wRJRIlLBDSeXxfgAJRAlWah++JkvyNJK7PlsYDMCQn6vPKFCN0jb/v+76vEwBIuiLMiyQU2Z+nHZIsk69Jr9/M/S+zRz42BJz+HOsADBA8dP/HZr4mZvyAf3wVNX1GtfJTy1K0lReIezZ/09EuWYqT6WE0laY3EeAFg7zeRYD2dzJgrOvYoanjrZlNtQ9sLiqBL897rae6SKC2Zjy/ZsCteX/95kt46P6PzV559Utrr1Sn14ymqCLge4HnvvYUHvvAp03DNup86QMkr8Qh4WYk12j98b2871DZvfCvFGA/+lOfMOeoeSfo5SqJfjqatLRNM6cfBKlcrQ+AQ/NG6UgAMEQfwyvFicbTeVzL297ut475telEkUdgCijAyjdT7GebKIoKB9XEaIa+BlsUsTnOa/FbJCSJqn4y+Z2Ba+Q9kEIEJE5+qDee5LjR9mU+X8Y8X3X90x4/b755Zv1x1ueugnfQwTgRM26++35BnsJz/rXHDHsQoKLZYkt2aqN+GpQJGOW1MdHlvsD+tq5BL2OH3Yi0UZOik6rziAzEVNZs2fQo42IobbCLJ9GT+c41UF/j5MQhr7z6pTUn5euUhcCT5NNP/W+d5xZV1A1oCPtQKQDzI+/+a+f4Pd/6CwBhrXU6mmB/zzWzW+4ErxMmCbU5BlwWJbMfen/C8WRmAxYkCZQGgxQlKqS9Bvmm0kTHkwLb232HLSkEWlmWIIU1qX12JQ6o/p5Kj6QECCTl+8QgWoLmftd4LV3pOPNMz0VBFz5mkSxb7dMFUsvun+9nWRDsiuTPW99fN6QB03tnIEXk60quPfboZ2d+VNo5l0W3ATgRbvOaRdM5ITPgcmE6PlYvYOX3X+edMbk/1RcTjAKcvEtn30y75TXv/m8ATg/205R8M5kVVYTPf0eB959/SJWG/rd//QE89oFP496/tJohaYu/+As/3S5n1H7KH3n3X+NHP3kTX33mPP7tt78fgNI2KfACoBV5N7X8VdQKiHDhn5u+7h192VMB086XNCwK5gDMvJUBQF5hPGAbvk0mtp6d94UvCpXkTlkH+zubxnyXssKgrxrFhean92TqpyLBeFJACMtAD9jAFd+XMd39NC99DIBpAU2+VmKfEiJRrodEzB3P+8LPiyj7AZZ5OZqh4EzXOSFijlXm9Mffafvvygig8U6OjA8QVMLI/YKAjc6bcRTsAZwe7YBLPFKXscMUT2DLAZeCQ3UdQ6RuG2ReeUSMTSGKOp9ZySan2zzRuo5N2SZgNW3+uyuN6VbIp9551WiBqWjw2Pd+Gs997SlsfkgB1Qv/6reNtvi53/x9fOG3frzlk/yRd/81/vYFqyX98Mv/B77+8N8373m6FfeLOoxMcN0BRRUFgTvYVthL9VHn2Va/TZNBlsqnWMoKTZMBSXmi8WmqCEr2pUTa05kBE83EBBi/5J7udElBKQCGkUkwDVaWKnJOBB8DWD9qkgxQaob6pslQysIAKgAzlu97YToVLHOTuvbEdTcsU7GE5UoWQ2DAmY7mje3SBOfNNQ/kuurXlxUCtzdz/6H1O5MMKWWnruTaex54fAZ4HJjE3qST03k7DJ90xARrWFBHcXfa6Uwb5ZJpiqPY8YMCitldAa4lCKZkfoAxK8GuR4BMoEnvOUD6+Z9+NdOtEtI+H/vAp4G/Af7hf1Ag9V985yn8+YdeMulN93zrL/Bn7/pJAMB/9a3/1QHAg2mM4U6BFz66hubLf4sXPvou3HziDUQfeZcx2SlfFFAaqSrDDEf3/XSme771F/jue3/InEPzTEcTTbZhW1X4keFxE5lSo6ZWfzfS5pq6RJqdbDxguTNpvzv9ArsTtcfRQYlxUyNKBIpKYntfPTV5UjqxNKnjYSJlRTVXAvrcpi4xiSOglNja7ENWEsRNOm5qlDxwFEieT3sxRAKUUzteyka5HpC5+wiMp+M+yUkoxWgZ8c3YZUCEn+uDT8jvOC+/09//smvfyv0vM/YdXR/UlVzjGimBCS+D5MIT7Dnbe78nrM9Ra5ukMZLP0tEqYXM4nWh6aRPgObUdjXPIkRkrPQDX1cBMd+7z9H2/FG2nXM9bYb6TPPYBpW0CFgQ+9c6rKKXS/j73m7+PP3vXT+ITn7+KT3z+Kv7sXT+Jz/3m7+Pnfv6PnHke/UP1EG6+/LeIPvIuPPqHM/zoJ28CUGb6D3//f+ecTylQvsnua6M//y928ehPfcI5/tD39NHL+3qe9jWV09rkMDaNzrRopDFVmyYzbT8WjSdTODR+wp4BshGOf3ivrJ0otmy6G6qLNEaZiLZLAXBzMaHAlP/7Sx1QlPN8ngEiEDrdHy/SWOWQMhdBsKKKvV5UmcM/W1RhE5pn3jgOPotSlpbxQ3adswjQTnv/XUDO5+ouc2Hy3AtPOhVLDqsRBWk0FZ1p0gYwDdFWKFEAiUfQDd8n83vKqVCaLWIneb7ej52qp3oaG+5NUyPPfJ20X8O0FM6HdrRNAstbCZq+EIhufsj6I7kGWD3zAUMZWT0V4Z5PKq2QR+S/+sx5/O0LNd71aIzf+t3X8cQXFRhQNJ+b/bwEkQvXUrsAdTqaADmwvzdFKVNbnePHPzRYNHWJUlLiv/LzNXUNIRKMeRllx3jA8oPy8fC4NoE2H6hfDgmEGZKIDxRQfZ0ouLXXsR+SMWIMmJbK5zFMVJwZijMtBSqmKABm/L5ShpmlaB+8Jn+OFjjPD+iPnyfLaJGhMcscW2b/80D0VuyfNNGudZcCUICDiQVSrtmZqiTN52lMci3cL0nVQcrsh5N6xLVb0jhJ6zWSwik15ecBrokOaBNc+zs54xL5Njl43nv+Ebzngcdnz73w5JsGnk99+h/g/p9+FABw4ecaXEKD4met9vHd9/4Q/vEnfwf/0zM/AwD4x5/8HXz3vT+ER3/qE8gSm7b0b7/9/fiRR+H4QZ9m8/BqJT8XlL9+6Hv62Nu1qU6+TxQAMJqgqAJR5GndIsuIkwY7O30nkl43EjGSpcYDjJdTS83Sin36OZ8CjoiLUdWAWMAHisC6aGvJfI4xC6T5gO5kGdCe2LUJz+fptygZiEhpxQtKPjnjOhD2+flAMI+haF6Z5Spugq68UX/ssvtfJLdq/13SacJ3CdfKHN8iYBiX5nXf5Md9dnkOkn7ZJQdRAllOT2dyO2v3uG+m33v+ETzywOOdKUunWWW0rDz9swn+5fd/DX/+oZfMewB44osVvvy3/wC/+As/bUD0Y5/9Gn7+X+ziF3/hpwG4ADjcKfBbv/s6vvzYGwCAG1+wnxHIZkmDf/29v28S9nm1EvlUiUB5s1d3lobyNCrDsEQJ3oyBaZjGDnj6Dd/mjtdgwQFpj9pxMDEsRSReSai/li8tLlNat6PSJwTAnb2h+J789/qYSGL0+wIiidv5qrLCQLDr5aY8A9Jl2wFzE5XAIRSA6epkuYwP03+9TIXTcfZPcqv376/N97C0BsrFqZdnIEotQWwXShspNylFiFlU3Z5Lifk0JwAnUMVzO4mGjnN5GhO/g9PTz+HkOZ48SPRmap5cTBXQF+wxAsBL/1zdDwrkpKLRmqoCWw5wF36uwdM/mzimOYHlvdUnnKT91z/w2/iH/0EBsTHnRxOT5sT3FdRC4RIQd14bA89+LwV6qelsmYrIHT+HlIS0u2W4RwG4pi/nAw2Y9fOEMze1jjNJhQZ/jx3K0Rr9TAONlyIREAkwmRSMjJmIShJlyrPxy0bnSXzTlWtgoTzIZebzhcg5Tjspnta7nfvveggcC0AJmF559UtrcSJmphUGo8Ijf6YhBmFEyiTU/A1Tr61G6gaISFo5oaVdl5v+xAnqR885IYgfYb/3/CN45dUv3RbwJPE1PeOvRI1flAroCDxvfCFqpTEBbvUSB9HnvvYU8E77mpL2uxLwuYZJ4MmrlvxKKGPqMhq5YV849eD9XocDGh2mMgMtbhrPA+25fKAhSrs5wvsXzV2nsqAZnDfgw2yZ+s7cNq2qEToPdgKHDd93NRynfcWyvsDj+A352GXkTtn/qtH4lU14QGlpr7z6pbWH7v+Y4w8F4JrWLBrOSzF53igXqm8n6feEitwzUz/OaxM04ozyZg6vjzvQ1kaJ8zPENH+7JWQuH0xjpKIxEeanfzZxAkC8ishnWAKAe//yE/jUO91c1ue+9hT+ybkfN+99jZOCWH6QiXJRKXhVTmuXKJkliPtkGqanutY+EUWd47nMBTqfOR7MDOefzyEvDjLld2h6HMSDwoGS+T6pHxKfk69rIvGVyjmVUlVQ+de6rPbtm6LHIfMgWQSI3FyeR86xityu/S+zH37sWBooybw8yVb7DLSbtbV6EtFrv/Om95qXb/J5yJXA+7jz/fl17fz17dI+eRUQ0E1H59e3c/BssSLNmSdLGnyqUmCaSctQz32kIYYmwE2kb+WRBljb1b4ZzRz/5keR9vfFc8dz7a1VM899psflA+URcf9aQuPMdbE9+L2LvH07Y2gu/bkpP61qiKSGSGKUUW2o7Uyjuo6SVxICCc6ReRztbx5HZpdPM9QemfslQwDYlWR/J+zfl3mR+BODRoiQGfBSneYdY1VNnMU+VKJJQEqpUk6TOjYv1z55orxflhknYvZmpirdiSL6YsbLPDmY5yIzEeHhzn7wPi07/sqViRNxplJIEaBry7IEowNb4w4AO7ok2K8/r+qR83AhHk5fptNaRf4jYfJPk2SAqhqb/VAJJY3nLEx8n3tjFWTLkgYiImZ+d1/+HLysFNC19GWCKCpa53LfJ39N9H38/spmat4T6NL8fE6Hj5Q9RL4oBN6Z2Wv7TuEC9HpR4UjzAdB5dM56UeHjqdvUjx4knBB73v0bHVR39ffvWCY8FwIgrkHee/4R5aPkWqVH3NGin0vd+viQBkq9l4jabrRft6LuQJsABQAeeeBx55wz8FSSi8y4BshVkCWNA34hso3jjKfk8EE/a4Gnz81JyeQ0jp/HqeM4eOYiw2CQQqSxaeyWb6ZmnSQZmHn4a19KRn9Hc9G+JsXYcZmYTqEMeOnaiH6PgysnJwFc6r0sS5zrzjdT85qAUkQ95CJz7i+grAhqapdlibluB5D9rAJPq/5OUWNdAzwHVTr2naLGd/dLrBeVA6z2vsG4K5a9fwAw2N+b4fJw5e6ZJPHmYDbY3zv2eFwezuLNwbHGn8iE5+KDGBF01HjJfq5zMTmhB+WLUrkn1biT8CqlfEt9NmKR+Xk93EOpSU7Q6BQp6e5WyTdTiCLG3nhimN+HW1vmc1/jO+544YELYDVNTlFHY3jKUyqU5uaCjx1D4BnsQTRHVIK/XEuFmDVNBiEKo4WScCo9WdaKzFn3PiqqCKTzcTDztU2q4af5ZFmjaTJTiupfo7ov9v4WRYy9caWAk92roqiMn/pgGiNF4lAA0lpc/L7060WF7+p9rgMGFEnLpPfr3v/BPVsp7gGAae2krfkgvej+AcB4a3giRaY+GK+ND8bHn+Dy3tpqOQ1WTqyBAlYL9SnwyGwOtdIAFKiOdmoDnpQbur9tq5hG++o9Sp1nulObqDtxkZL4wSDekoPM+LqSt5SW7m6ULEsM7+Vwa2shaJ5kPGlFIaDzOTf9nEhDa8cIkelLyDk1QxLFKZq6NOZ7U5eYlhPzxW3qEgpErZuB0+lxLTqFTR3zAauUFujpIaCA2hI607FpOVkrpfru+NR9/Fro/vrXZ8DJc13495HyZkNpVUdZosBwKzVgee7jMc59PDZa6DuzGEdZYj7nmicFx0zxg15nLJul7l+XhDTKeHOwtKYa1CgvD5fXVAPrDPb3WprqqWmggJve9ND9H5uR//H82mM4f153/vTyNY3mOtWaJQsUOH3TWYmnL6R18tSlLq3zdWB2u9OV7iThWg+Jz3vZxVG5ynjSPHlfoi7QI/YjEl6dwzk86RjXvEh8zQde1RMHT6WFYpYE6nxpPN97UcQoxy4Jsz+GRPEAlM71KLNdOusLkcwMyXPHPZ/3d+A9n4LEzB3lo75f89zH1fu/+7o16b9bVAD7+9Kxoywxt5XA2Q+mLbp/XRLSSuuD8RqwnKapzvXk8t7a0nrq5b3W+NCeTkUDBSz5BoGTD2T0njRHP80IcKuITD8mlh4V0jhD2uS95x8BEYH4WueZ37MtXOPhX/55vs/jjPc1MyfFKXBMiARxJFpz5Zv2XMD1OZLfcXRQdmqjHLy4hLRQf+8kTl+pogpeO2mapPWSvzO0PveFhrRvWdbY2emb6+vai79Xfx4AThXUd4raCRz93ddd8HzX51K863OpAdojD0iDaVUaoPna8+5fUOZomsv4POd+voTPc97n3Gd7qhooB6e6kmsv4dmZ/zlF7TmwhtKhfLAE3G6YvAkeMSZRh1HiMeV7OtM6w+K3pDCM6j6v5SmM9wHNB086FvzSs/NS9JH1JiimKpIbJRNMighZpnyvpBGSllvKCpVuKdMFnqSFxjUQse+63Zvt4inLGrJRebDKV2lJmIlTtJQVaqcwQflau66NrydlZdqS0P3lft98M8XoQPlPKQWtiVgucJbM/7uxFDDu2zzKEgOc5A/9u6+7Q1vBI8nQM1Drv+j+7aqAPOLNwaxOU6v5BTRAkqDP8/JwNhDCaIlz/aoBn+dgf282HY+N5hrUYLXwuU8VQH3hgFlXco33XOItiAE4oBeSUDI8/029ioi79EzTXE04uJWokGoQaJrMpPqcdLxvnhLNHdUzOudqyjpu/vK2xaWMkSUSqWgUgFTC8RnSeUTEvIzpV0q51ktVQInOJ0AnwAKAkSyQQgDCHvMfArR3RcFHfs7u/0ky40upGPLt8e4HEElTCYxQIJXKDzoel+ZeDfoZBoBilWJ5q6kARALc00udtKSjLMG7Ppfi774OHGntlECWB5nemcX4j34YGHw9hqzaubfEtA+o/4fd3QmiRDLfp5tHvIp5HpRVzPOAHDeQdUsBFGgDGZVMzgPTkIRKM/mc73nPA3jl1dtXy/5WEN805JHi0xjvd85MEhiqu3lrKTO+MeOEUJ0vR5odXkWiJcZjnS/p+WAVEfN8AAteD4vIk1ZbFBU2kxoHUyCSNpDUpfGtsiatR/5CajlCn3HGezV3haiJUKLSpbVw6O2crISD0lLzsaKE7wQS832tMxSJV6DLwJNJKsL3C4HmiL4M9vdmYynnaqDzJN4czHqDwfEj+5eHs7gs52qgXE7NB7qMvPLql9a4KX3v+UeQJSuwOsyZ9ww4TyacwCJLbASVa1DHHQ9QCwylmUlZIY4EqmqMupEGPOlcOp8Dqp8cX8rK5KCSDAapk/9J560idSNbQH7lyqbznspYbXsTV6MOXc8yUkq5JtLi9CYAACAASURBVFkUn665Zuv4DynqT0VgVMJeL/c75pup6jHPK7tY+hE3zb/jaZ4Ulb9nKzXn0nk+EUyKGle2WB4iu18pFMmNXzbMZbw1XPPBc5Ucz/pgvOaD50p5opf31lrgOcdn+qYCKBcC01jEJwLRM1P99KSUlTK/hdUIV9GgQuNJKEBDxxyw1GBDASMuMavF7wJDyimcFGPHzN3Z6TvM98tdg3u9pAHyzqChrqirauuLhOfP+g8hE6DSgO33tCqhAlJ+YAvQpjUz5SkpHoDzGrCaJw8s0XFzbkd5aeh+lajM64VBJCankid6kjlCoKrltgEoiRDul2YemPLPTkNzPRNXmiazQYljaFDzxpNm58/JSyu5RFHhvO/q8R4iT3HSiDSorWq+Awq8hFDJ/rwkkecxCk8zpgqnVe8dSSnlGgHPSBaIEol8szbXwjV5uja/Y8Bmr0YJq60WRWUKFvLN1PFPUn4nz/P0gdSP1PNxJqLPgHTe/bLX6WmfK1YD+RrlqtVM/lorVzPdiij8cSUWMTKopl/8daYbgQFngHmrhAItpawgowKx1maiJU33eeN9WQZUCFDJzKdgDABzjLTSUlaIEhdAKIDCme9XFT6GavABmPbIJcLaZ91IJEg914OYrex7LWtT4SXLGgfTAlmvQTmViGsAcdhF4BPBjGSBXDeoo/bMgDLn97bHJmp+7uOx0TBJu6RKIx5gAtCqi4dm0xr2RatKalKMg2Z6MIl+xWogX6NcVcP0NcqVq5m0m+G2a6CA0kLJlOevfYk152KWCPP6TE4u3K9WVBGiFTHnuONDJrvzOdMuCTxJyD9IX0bysfl+0O3tvhPVXlYG/cwBz/HkCvbGEzSVMOsBPJPg9MSvjR8O+iiqCI0Ia/IhKkI6TkUMVT1yNHOuhfKgka95dtW9+xopB8+ue8Vlngm/lCa4IE900fBFeaKLxtMatx1Apez+tnGQjEW8krl/JqtLyqp1jmPypoEeR8cVAkvflCdQ9Yk0FJGJrcQhWaU2PiRk/gJKwytRmdpzA6Ker7dupCFNOalkWWJIQjZ7NdJe4zxY/OaAPs1hicqwOHEQFanN1eQmOpnmPIh0lCV4ZxYOIgEWjBfdq8zxZys/aKg8MqRNtso4tQYYKu8MVyG5ZZxmjVB5ZyADwN8nrXFHmPCA0kIlJOIMEFCvAThmPEksYtTyuOX/Z+KLyV9EpcoisVrk+iTjSZMiwPTN0lQkKFGhlgo8B4PU9IVPRYIsKW0EWlpw8HNCV7seuTZANiNfZJRMTKCGa07k66V9K39og9ij1FvVjB9PpmuDQToDYMxglzdWaZWqekmRiaRC/VCXAAItmymgfvOE+xR1yzQnIa2znboE93jcAPp+L7pXXAyRyO5ypndXnujS+aNdeaJL5o92uQhOHMHON5MZ/8NxP0yLnPfwyBm7+eFDlDKCSFSaiJQSWS5Qa6VDSola1igqia3NHABQTAoDoLLRT/6N9dbcRpIIqBp1TuBc+fL1t3UUX/TFLBdKU+Lcnct+4fd2t2Y+5+OVK5Ol1uYBJB9A40ggilPkeWOizuTH49VPvp/Np3kjkWWN8UT9Y/mlmsvylFJgh4T4QCn7gB/zq7NOykdK6xJYEkjJRrh8nF3tRBBom1LVgCxO9v/f689u6/q3WU5swnPwBAI9dg6PgMMj5FmO/NJHkV182HzO0y/izEbk41UsnySygEggmUT29eGRe87hkfpsYx3ZfR2g+zYSAhz6spJ2t6zwPuarjl82wEMcmVybXKa2mkhOQlqo70/1o+nzxvp8oINBajk6o54zR1eS/SI+UpJ8M1XBIJEZhYS+N/Tgs+NgzHKn5QhrIUItVLq6lp5Ebvf6t0NODKB+8zFHDo8gju5DdvFhSCmNvzO7+DDE0X0orq0r7TAgHFDnigZIEaUKnBML2uZzBprYWF8pB+2tLkR2a4g+Osgu5ok/fhWZF0hq6rKVOO6DKD2AyWQdyaI1hostEXWFQHReHf5IFk4zPa4s0EOEXvt8oCR+/ivd6xCVHl3H/s6mckto0OT8p5QQb4CJUcoBCKYZAZqC7jRCCKe0/t1KqnxiH2hX352iUlqgPLwGXIcBNBFpM2z9Wmtcl+aZJQJSSgOotaxVgKmEAWky6zORATFQlFPXbId1uJMDO9TV8u0sq1btnPZ433w3hMNaiysKS1BSFN3kyVEyAZA7JMwkPOXIPCgmmHUFfAgEo2QCyLBZz0smx2NLEG0ZmeqWth3iI0Xskjrz68yyBHmpQDMHI4/mnTr1EgOtBFOZZSpg+0mdtuZ3SuvfraTKpxqFD4LpfUz7SyLI9WsKPLmW6An5QOMMc9OVstSaSxRUot9Z2nPm5+VuoUqSt6uEqNhWka6Kl2VlkRnPa+cNF6i05MS+0N/Z+A4PSocIpAWeUEEj8o+S8HEKCMPVM5xAmYTfj640J5+PlFcbxZGwNfABDZyshtFBuRC8/JJNwB5bprvnIrmV698NpMqnFoXnASO/cyQA5XNM3EghDo+QDzZV8ChbbE+QC0DGEkLaXFATTILScAlERZRCHpZGA6XI4ME0XsiI/XaTZbk/b9X4YDVSnAIoHJYjEv6aWxaA+js3sBF5DnA+UNr55BqgNFFOhEFapJ8875jyASD3tU+is2NrtcQvc7VlpG3N2zLOe+tWsMerGoM8NsepZ1FXq+fjyK1c/24gVT4VDZSnS/jiB5VKGS3UPkO5oQSKRSWBwyPIWEXouRaKjXXIprQ/69cMeNKXi3xlZ35QJcQ5SbRtx2Es4uNPQ5wSUPb/Q2WM/LVvWZD4DPiA8vfOy83k4Am0m7zxNUgjdZjmDR+ouh+1950opVybx0dK1+2f57NLcWA3vsWqxjCNMYjUj2mbXFlQA+DUwZ+KKc/WV3uH4w/l6w9T1a1z2BfLr38CvyiwGhFJSBb5RU+sgfp9yQmYurS84ppdMh+o9KVa1qiLtg+0ZsqCk/upg0JFJZFBa67c38ki8JQq5ZAtsH7ou8tl3Lyl5Xb7PkPS1KXWQJWoAMtYR6/H6nONa63MD1CZ5wRFkTsgKtIYA2QYIGt9MfzUpaKodNvkNLgO57Nchg90kajz2soDZTj4bU6krJD2hAJMtn9Z1k6lEQDb1pilFIkEGE+X2Vm3DPIAH6hua8z3morEbX1yUKKMa2f9FqkysBqtnUeqDKzmW/VJlYH5xMrAKQCoD05UFUEmjhOs8bTO0fjA1SAXSCxioALqOkK8cYQ4PnLM95ZsrLfAnYBdUa6dmfEkx9UeiavztLRPkrpRdd9RnELKsUkzosqkupGIkTgPQ0Ant1cCWU8l2CeZNbGpxpz3DgLcyD7v1UTzZb0SmKaINIEzAMdlcFp8oCHhPKADZMYFQfd7EMWtnkzEB7AMH+hJZRk+UKD9cCJWfW5O342kyreslJNMHPon29rKsfXER92czY11FOXU+DJJ4/SrjKgSyUlrotQkwKQwZRcfRn7po46LoKiiVqrLPJfD21H8OvNVRAHc8cdz8ecIcXMOBq4Zzqt06GFO4FlUEap6hEkxbrUe6RLS9ibFWJU+ardT1istLdst4gNt7cVrr0wuCJ63GrqmwSBtBbcW8YEeV5bhAyXxg41df4+7KaXpxADKiQv8Y0Y71WBWFyo6zpPpAZVyxM13GctOXyhVJAFgIKn8obWsIaVUIMrEr8FdlY/wrS5+EvkqEkXFicZ3iV+ZRKk9pO31+wJCuGWKHExT0VhqvUq0NET+RQ71alJjNBGwrvwJlUaSnDYfqL8f2mO+mbb8siTjyRWnI+cyfKAnliX4QPm9nxRjRTayv985ZYhUeRW5lfyfvpxaFJ5Md78yCQC2nvioAcRWCebGutJMtUgptak9gqhtpL2WNSRULujWZo7R+MCUZcZxA9mUqOtIUeHJApl4GMX1l7H54cNWpRSZ72daqJLBIMVoFAHV6hoTlVced3xIKA/Un28wSFGWEv2ezrPUn/OsDwJPU/tdCUNqIctuoOdmPvXuSSuBUvskaU6/PPm0+UBJhlv5TKQxxmNrxpP43Uzpt2wiQCifLfWlIl4Acl+Q7J0wa8IIgTADUUr/ouKCUlbYG0+cMlResXU3y4kBNJS+RELaZxA8eXkl4JxTRuppPx3rpPmLR8CRC6JO2SaggBSNnb9EywdKez0DTivE5+mzHi0rZBqvOj5U+06vozhtzUfap7+2l10U+F/0Ai/NFP1sYMfDmpKTYoymEiY4VaJy+vjQw9eX0+YDpT3JUhEjR3CJUmyQauwErvi+lRKyHB/oiWUJPlAfJ5oQ4cyK/Yh8uR39lE6djcn5Bz48MmWcBjx1DbqxLDbWXYBdv2b+aalaafPDhzh4Xr0W8j4UslA79yqMHKIQnXfqR07p2FklkpWT5HAeJwIfYqF3qpA88NzeVryc43EJNA0A6ezZz+3lbiX6G5MmiipCMVapF0S/ZwlCNNNRJUDAu2juW8EHSkI18CNQS2brazVM+7D95DnYG5fDlPOB2oyEYV+cnhaKNh/owTRWnUu19t/KEe+VOJh6/zvHrAYy696GaqZb4gN1Pi+nKMqpzclkoEevR1/5QxTXX3bKO6kUlNKQSEwlU9eaPI1JS5Y0Lc3hzA9q5SQ5nCp3dLnxcSRa4EnH/Dl5R0xAa7oiQr+fQSRCaY1R94OQBzCJm7L1OSqjrXEhkx/o/j+51XygsqwxHPRN/X2USAOWoQBViFR5WT7Qk8oiPlCSEB/o3S6nlkjP6exInDJOBmzzGkv5DEnGV0nsSd5cfh5qsEdOB73eWRqTkpOkIA362cLxHDh98ARgaN44uHLwJIYnP6E8SmTn3zB0PPQFnvf/M28uOu7zgcZJ41DSAcqMD06whHAeUALSKpHO/fEfFnbddvCUl8CmOAUAq2zAKsQHmoom6DJ7q7jR7mouvjM5uYi+mBGH5XhSrJy36I8n4VplqJEcPy5EYqp2LDGxC+yhSH/WKzE6OJkb5qR5msOtfHY7+UBTJIbIumTmMp0HWG2ZgjeUH7q9fYBfEpntb4R2qw7ezoPO432SPh43EMKyzfvA6B8nFilit5KTu7ur7m1v6XEmt1f83uqnMZ5a8XKNkzRMXxP1wROwJjwXQ/MGYkfq1j7fTLndfKCpSJBqBvzhoI9+NjB/E15kQGN4cj1/KP0nWd9p48FBlbfw+HuxaPVJovVI6/R7v9Neh4O+Q/nH+UzvptxPLmcA+jaXfDPFcKCCNEr7Wc3c9McDNmeT3nPQ5MBJ4MmPD/oZBv3MJorr341ouxruJDPwdvGBUpkkrUkJ99SITs2lQGx/Z7O17/Wiwnf3S5xLFDD2pio/0++RRKB5XheznBsODMgSGHKgJhcJAScFmcbjEuNxafZJEsr9XAUQQ7mfKwFiKPdzCUA/A9AzOXHjtdB4rkWS6UqgScApZdUCTsAGtbhZCwBprzGmqoh6p9rE7rhCIEfgxTU8y8jUDvqE+EBDIMrLTQk06XeWJQ54+knzucha4Ek+UDr3fXvbuGcrxTmR4H1723i3EDj38RiXruwagDzfz3CUJTg3HOBcInBuOMB5IfD3YmH2psA8ckD+YBpDNlOHK1WICEJE2F2ChOI0ouonGb9MOtQd01TuTG6P8AqX0YE6Vs7plLrMeN5fCLCMSqRtcuGgGRprwBMJiqpClkjkrA/R7dZB/XJE4unkSeShpHqfDzQVmCVINR9oqQnElQvAZ+Gn96ODEqWsHAJnEgJvQ7jSwdd6LhH4z7Z38G4h8Deywp9ubqG3exnvFgLfKWqc72dK6+wD54XAOZHgfCVwzuuIq7qHwgA19bTnPaQAQJhx0uwpTCIynC2dzxkgERns782WBeAQiUi8OZgtA8BnAPo2l1AO6CrJ3/NySEPReQOI+ncXcPIGcgoIpMlzLGWl6t3vkDzernvAj98qPlD1udVYTQK+1uIbqEAT5wLgr8+JBO8WwgDnuSw17//+zhB/U0kDlucSYYD2HKf40+tzlwqBfI7MVnnJCugxs11nVwRJRFZiYWqTiKyivXbzji6WMwA9kzAhRb83G0+mS/0Thcb7nS65pLpdBdAGTkCBJw++KLBNgGRq2vpG2sc2CrTZeDMlVB1FQAbAVAwB8yP+pIXGkTDnEeD64MfX4etSyaeflxslEiNZARIm4ETzEFgScJ5n7wkkz4lEAalIHA2Vry3SWFkJAV4Bnk1A5beyrCG9PNTbUUnkyDEqoc4A9G0u/B+cTE6TSrMEiM4dj3ZEXYjESXfygRNwwSFKJIAEI1mALNlcZBjJwslzvNPEXkOydKrUcfhA1Vr2gcSPC5EYZipAgadDAK1N9nNZaoDzffnAvOcgSdonAOc4rUnzEfUe3QP+W4gEk4mE6CghvRv7Ip0Fkd7u0jSOFsVzEHn99EnHhyL03FwnrdMHTxH1jB+NAhQWLG63B1RJi9gjUHJ5XCGGe5HGpmjB1zDp/fZ2H4NBau4tp/XLRYbBIMX2dl9poHo8gSW9BmDe/+nmVgssSfhntCf/XoRasAiRQFZt7fNulTMN9ExQlhKIolbyt/rSLqGFzhlPpjyPpkeJRFOJoMYJWE10Ukg3J1JkKqrba+4Y/ycJgacLJMmJWJm4GyTUo54DNTB2Plf7KSGiHgoUrfYmnJzZl3OJUCa7BtQuECXZ2lRpbFJEkLKx2QdNhigqDMAP+pljoZSyWilgeSfKmQb6dhcNfEJEbsAGS5KMLDE+36yR9hRrvaGK0344fwzXRIsqcuqpR7JwcgzvpDxQgLfyUMLzPI8j9OBaxAdKWq7PsF9K9bfZ39l0OELH41JnMdiH0LlE+T/PJSrSTu//dHPLnEOv+TFfSBvl2neIcKWL0/RukzMN9ExMaomspGY7spL1SowXpOwtGk+kxkqRkSqXMxChJ/AE3NJFbrpTJdLtNN9Fkl8OHeegcVotTqhbqM9l6pjELOWJS1FFGGY226Eo4uUeigGZp4XywBAJ5b7GSDx6P/u3X6ZDwJ0uZwD6NhdidQeAqikBJKrkT2iOyWY+UC0zXtVsW35Nes1L+UayQjGeOL20AFXHTaY7tRbmftE3Uzhw1jV10ORtPazJftIae1+6QKffS4Fe6oAYBfMAN//TIWKWFeBpnX/TQYj9p5tb+K8PVIXSuSzF3xSlOY4kbgWGWnnAmt/AicYv2WLlTpczAH2bi/qHtszumaiQa4BKNRiedDxFzQkIi0p9wTgIGg1TWho5s0YzNfug895sPlcCTwJOLuTfNRydpw6eWguVFYRMOk1fKus0rhP9gOL+WdpriRjpydtYqXlhqfGESJyOAVI2nWlsZwB6Jne9RKKC1BZWihhAhbKUyFMFdlgAoMuMl80UWQInFclv/6Jo0GKzHgEvEtv3VrXs0BVIb2Ie6DzwJFG+v1vHLMTmntF6gGc+R+2/lZ8hkZo0svZ9I000ZK5/dXc3uK9UAKVWcoVIWi4cvjaAlhZ6t8tZEOltLqloUEbqy1dGWlOJahOwOY3xnI+VsxX5bEF0TorEaK18PGDZmN7sAFIXeBJw3krw5FJKuTaeTM16k4nEZCINeIZ8y5xwRKSxSmVCDb8d8UnEIb+upPrRAElrm3N1AOk43QzuNDnTQN/msrtbrwGq1xRg07iHW7lhoin7iXlNmoQ1v2ttTrvzcv+m6nKp3wg44Igy+5WDEpDV6LJdvzKFffw77n/fdyeASPpqnB4PKI2Rvw8dI61SJJk55o9ZdBwAYiH+x7yXzCipnzcrJNIPABju7K8EsNRUbj4fKDAc9FspVCQEnIDbcoNY41HVRuvsEu7zDB0vpSJmTik/N1KpTAAcUA/1iRdpjHEThRmPqHMogIF+5kreg561Z+6UQMO7paRrXl4AoNc/A9AzaQl9eW3eoJtQXxQVhmkfe+NJKxrOqdaWGV/XEnEsgqC3iviR8VCkPHSMNEvaAzAfMH3xNWUKfhFxcRcf6NLzb6bY2j1g/mPPxQEbWFJdPOcn7o8OSuSbKfLNFNvbB8feF5dBP3Po/KhWP3TtRLZiAH0kkQqAMDwEkjRFKWGBjYNZYv25zjk+CPLzpu5naY/4BjrWCM2HMxP+TALiJ11zoS/GeFwaOrkWofKK408idS3ND3/fdV5ojP95V5pSSDj35nDQRykjDLe2kG+mJ6IJHE+KpfhAuczzKYZ6xAMw2ue7RVsTbb1nVUv0HlXt/L19Kj/JsgHoJ/RAkRUDTw5UlXI1hI7z98FzAAWCTBM153ngaI5zqWqkAt3Btqo+00DPZHlxGpJBm5Vev6l5jcKC4xGfmhbqA+Kic3yJY/tNWWUvWZZgiL6uFtpCUVQsmf342idnX8qyBHmp+UBhNfwuTc9ch05p4mlD5u9wSonsHDT53rnQ+lTTz8GcA1cqAIjY1UI5KIbM6y4TnZvwi8z5juPOPvScXNs9A9AzaYnPQel/BoSBgYJBTbTaeAKuk4DnaQg35wEsZdL71T9AgKHpBCC6iA8UcMk8BAvYhEBs2fShdwuBb0tpNM7zQuCmVNR2pInelBIp6pZm63MC+HX7dE6oM2hZKXM6FdrM9s3ukIYJhEHW11ih5g6a6exztU8EwdvXRs8A9ExaUsrKkCPnm6nRcugzAA4/J+BFylcYf6eAJxfSiEkWaaPL8IEeR5bhAyUzud8XEEKoiDzzOXMWJ8OQdQuT2H3T3WfYjxKJvNegoJ7wAS3RaH2h9xz4mK/TAcY5GmkLPH3gRcCUZ1JKnbql5zkD0DNpCf/CkZZjo6gx9sYToIqcqqGDaWxANFph/JXp6ZjvpykEnj6QhmQVPtBVhBMwL+IDNWQerJKIIvB0jtqHW5VEwvM+/dffmnrpFVp8Rnq+nxIVsh51Ba0BpIrcWcC6fHoliikA3lOAgagBKTrOhTRBEaOcMvAMnYMObTI0b1VbfoAQCOtjlPeKJD4LIp1JWLjZxVNgsizB/s6mCZjwHE7u/1x2/J0oIV/qKoElwAOUE+aIct8h+TNJy/PdAyJxuUN5lZRPObeqnO+oh+dg3O+l2O71kUQpDqaqT1KUSOSbtjqK+iURgQwAJ6hDUXljLvNAENMSCTS7gJbOSQXaEfXAumaOgFbaivr3Ygx6Z1H4M9Ey3Mpnw618Nuj3ZhRcWPRF81NqmqqPFJbnc9nxd6L4/tB5crv5QClxvWtfqW4zTaxITZO15gCs9snZljhLE0kISDuDWFHP5K0C6mEwHPTb7bAZaInERuRbUXACOA50C7TLkEme9uKl8khTAQzyOAjCsjrzgZ4JFHhaLVH9npcj6Po0FXged/ydLsvmid4KPlBuxs/jAw3tgXN0AtCdUEtEiaa/i4/nWgjvs8LOTl+lKJW2tDRPVbbApIhMmheP2Of/f3vXFyLJcd5/hy6+NvhMGydKScFJ6QKh4pc0woIJhDCSCQwihHkcJLgsxA4LeVlsB/YhoLMhZsEQ9nEf1w8J+xLYh0QMFhcNwjEDCaHjh1B5kQolUgpMSJOX9Elnbx6qv+qvqqtn9t/dzOr6B8vOdld1985M//qr78/vkwUOF933Z75EOq+TsCqizvet84U26ASOGmIlS7jzbGBL/cECfcZBSfMcZenUzbnSON/HQQnjl52/jUGkFM6TJ3rdeqD8uKv0QEnEGICr/onq0ckfSmTOST2ue+/T/CSNUN4n6a6QgaZoUQgoJTGbjbD/YNL6vSPyDHJBaXkekeLKgBDfHi3vvcXKt/fNTwWuomtIJvGzYwwW6DOOvqT3w/nCu/d9V8XIyipEfeX5iy0MIvUhjszH+zehBwq06ka+GZ82iJu3TSYKYLqu1s4D8rsKeF4nT7uifNjjYtaWjyIWOGH/E6k6XcTiZNs7gSfuv+yzVm3lgkI9+aV+H5vDS0sHC3RAB4vSLe2kyFnjssqXAFIPo+uaf9lAzdNGqsopDsxwPdDrFBih4FEfgs8jy7yqPwdPnNcILTSutkStPH402/GWJuGLkT+UjsEfjlRxlCorDYNrtj9lKK47Z+SmRnnShxmUZ0ZpTp15bHvnNc0X7ByMkHnV1GCBPuMgi4EvrcfFBCjnoJUekR+Bxpc2g7zifODmLOMJcXrTpvVA4+R4skiDXMwE+V6HHqiTs8she/yxPF+V/6Zr7PV12jaJPo6yp6qD/N/n8HtyCT6+n86ZFC9h18S3DQQ6IFlNUxQ72Dk4gRKkbt5vcV51/k1DKjLfJos/GVm7Pj1Qf/4oOd4t58N2x0S8SgqAaYJSa+NVvY4ABP5P/ju+niDNqmlzzPeTvF1ggfZUBrnxaR9l8He0zO6NyhMBRkn5SgJy1FqYQI+wSJTiNBDoMw6yXnqFL7Js5XL9qvNvmvUJhBZoWKb45DVBG9cAAEBJecYrfdoxNlBH4nqgHovVFTcXgUKFybjw54q7cBJ4F1Z3/QJznS65pNedxPY+f2afglJMfH3+VSQsTjbGW+syrHgaCPQZx3yxvDVfpKtNAMDAYNV+jHGmdDfFZhV4GtN1SthdBqvERfoQBJOYFSal001VUR4sV2MnxAIg8Rzq807jOAHyubGlGYMsPf6Q4wGdTrSdKS6RDmhKL5Rq5bUBDnfH/rp8QGtcBAS+24zh74NUOaArn0bkxkYnIuuSVxZxUo3q0+My0OT8yOo9jyvDJ+QTGiIfCHTAlXGeJTq/aa9DiTzOybxwpVAzL8+KC5MwWaDGnj7IMvkWWYFCTJBlYbM7Y9r+6AACUombr6VEQKTKff92ri9a1wWsnQNQ3toMmsY1D6i4BLQoGNnaChBXV2Qin7Zr2VKjGNU4PXH+WqB9OHD1KNJI4OB5mKmIesdPmpCk6yznLzO/2cfLRfvmDwQ64NrhfaKiRt3kKPIgEpHtzsHlBH1TPYo24QKQYvpAm9NbaPySBLIYqQ6eEte1KT3R8Rp5VxlU+rkUlIrBfYt55nNMz/g+INQy4GWd/jiXfIBRzmiQO2pbYia5vcP5ArNZL/z7jwAAEF9JREFUBW2cxOFEKR+sLAoRkDmOyjCg0yMoEi+9efJ7HH0PBZoTxLdqfuIYGOW9AswDgQ64FvA8wNaCkgDqiDxbTGWBw06jjtU4T4O3J43Yb0sVQ0SUWVY6K7FyN11VGwi0/j++TxtzK8/0ma3JqiwhZRtpN7ryika0HwCWeuH9rbE7gC/9/ZjYT4ocCherBvvynTv470ePOtt5pH06UzguZihLixO78An0RlfBOFKVSi2t4yi4kt1lO4GsRJofEB9HrOSUms/k8/gxpAB0z/whD3TAlUHBgaIQmM4U9vfHmExUb/tdwkUl1baBPAmxxauNuVXVBnWlPdlVtfGBpTbFqbtvqRe3tDG3UnXzvLqJKpt4sGo+1x3L09fOTxQ0LNSoxnTmLNH5osTu7hgT2dah3y0UvvbKfQDo1L1zqzMmzy9KCYVuvinQVCWh9Y3HeaxEqOvIE7bqWojNNu4vjcmTcjWT6JmfIk861mSEUNm+mT9YoAOuBXEQiS/VUki1l1iFbSFPLracIlEl3ZKakyFtrwwgxKRXYGSpF86SZUt6qm5ypJn+32VDhsaElqZUOY73nTW4KOeYzpzsIH1WR0du7B++9Rb+8Yc/BAD85q/8PvBz4PlX7gOvAJ8+/Bifx+fcYqLBpw8/xi99/cXktcRVZ6HyfEpgOZwfpxBNpm1qUSf9iEfpEZJn6tiAEwYxFl6cuc+yja/HWGYJs/MPFuiAK6OPKKXKobOuYnl8k63DtpAnXcOq6yDrkFuYHHWle/fRfLJiSy38+D5ImUEKCSlkYGlyi68oBEqbQZsMx/uz9lwNefzdd78LAHj1m9+HeP0lv1+8/pL/+fThx/j04cf40WynQ550LmNC4WxuEZNVzvVJtbEdZSXvk2wIrWNJsqh6UCVkq2BsKppP5On+uW6VUe/ynyFQZRqCSAOuA+uW4vO57ogC88TulcfeIvKM0Ve/nyJH8pOuIk8CEeY6so3h2ynPKpTLMGVpb+K6oNLDi5dZ0vKdyFO8/hLs2x8Ex+bb+nyh7v/kAs7z4CHJVaDqyilDBWLIVAlEVmKqURwTXHZfH2ZR+muILoqRMd/v3AV5b/5nygXAr0fJYQk/4AmB0lUUBPb3x8kx69KZtpk8L4PzEuFFyJZgrIGqc5TNzZ1q40FdUNvIfI5Xv/l9AAgsT4J9+wO/nciTxqeW8RTsUqys1f0/rU5A3vBcVRvkEOcjrkQkvuO/RBsEav+BnqT86DzrCgpS5Zx07IFAB1wJdFPyPE9gNTn6hG5T9o65CeT5JFOnzk2cugL3jSoI1BYAXP8hF1xpiNNY7/eUUkCbunvABmRxEnHGRAo4EiX41UXjPqjqNuLOfZ5VbZCqnkpKy3Vq01lKUlSTnmwkR9vhrE0emAK6kX06HtcAXdUxdAgiDbgWdPM8AUBhd/ekk894eHyMvZ3VNdfbTJ7nUah/2uBaoEoKmHoJmKxpM61xsrRQEFCjGnpJASdngRK4tRkj9ovSWPv2B9DIfXxJqhzStOQoRY7xSAEjhcVSB6Q5HjezFokyzqiNRofMUuWcTZuNVASd63oG8xPiJcnz0X6Zd7YNBDrgSlBS9OZ50v7TE932JLcZDo+PMS4mUBAwUWR5m8kTCKuQNn0tQENaLO3IWIPaCExnBqcnOU7gmv6VSwEla9S2W8NPSC3ZzwPDKtG4teutUmuAuoYaufOPR6rdvqonUUrsmBDNiwNAceApWL6n6uZtlVzmr5TLw5AHOuAJgXfjnM6UT2sqhKtOsdVpZ862kyfHtmuXapNhOquganejZ8KgtmlfNLcw+5btMaHGf1OgkIKDJC5irHGf+9gROwdZzpNR1EAObW/49oShxch7Ja0iz8AdwI7Bj69kW1kUjKPofKwjypTvBwIdcO2glg1HR7Ng+3SmUNoMhej63m4SeW6TAHSQnN6QFbIsaNhW2zFqK3szH7jl2febxqUsU40c8zrDoa4wb/yqzvdZw5gaxdhAm8y1G2muc7Fo/d+dNCU6Lm/rkapb5++D7SbPd3yk7PXKwFFElKlsAJo/LOEHXAlUltfpj94TRJrKAqZeQpsMGuQruznkybENy/hM2qB9B9Aso3UNbWooJYM0M20sjMiga+kJIUWWHDyFKZXiFIh/NPqv1F4EAMolXEVUXWM8pp5RBsbUQJ0mul5hjziIlFp2E3p8nHHQqFN3T69t29Kj7/yDBTrgyuDtOqYzhVNTYjIuggT6srR+WU/WUSHqG0mevBppw5cCJWvMTUNGWQalJLQ20FkVNPzzOp1ifSvpmCTjJX0f0dKSeF63LYzdduGzNQhGV64vfJ+K/CqrM26zES+7E8cMXAJxu4/Lnh+DBbpxyLE825u0vqnD+SLYX4gaMnN5HKZ2upy1lciE8f3YgeYGgfU+Rpqbeq3QilWQBBkdE0Bwvrh3e3ytk4lKaoHOFyV21ThZsqkgUFp3rTeJOAm81TG1HaZsg1j7k96b8eQgnZYkC6fkxBLEgdanNz90oiH5bHIGAJVyAZgJKSLpB41LxH0fYAClpBcX9CuDusbcAqizDmH0ReA5iab2v/vmG4BK+CpFjvlcd90FWYaj5QKFqJFJR/44Kd37kvoamPa37pOkPefXJ7lkNz2vz3v+IY1p84jbve5Nxk4gAjYgKwCAHnk/1qlp95OQLQx8DiCRIt1ItQUKYdw2Js67p1yFylQKnzPoBW8xwRiOKBVEIBoCAHtIByUKUUObzN9EqUqlzABYX4i0tdiWdCZt3AOOHqYxcQPue3WocwDdCDehj0TfffMNvPrXf5OM0D8uBFCnk9vjB2tZNg8ILfxDm679JmMg0A0j7CPUVopMlOrsBxAQHwnUxj4ut1wyHRVzU5ugvUZMhH03395kHLSr5fP76twJ05nqJNn7sfbm3kCUzpRnjkjr2r2vh8dHF2rr8crLvw4AeEF+BQDwlUbg+Pkv/yoA4I/+9s/OAEB8yf39yX88BwD42mtu3nfmBwF5ruwMkOhU+e6bbwCAJ0mOd37wLaAQeOcH38If/PlfBfvfe+d7uFPkwLJK6nHG4Nc1ReFJ9KZjINANg3pn878JqwiL9nHrFeB9Z0TnhtJzee7jpvatutZV6kqUJ3p60kqvAY0VekOxLRYoPYR8nm30GQWI1d5thceFwJ0ix3vvfA+PSkeEd++7Y90pcjwqK9wpckemAO7tTPH+8akjTyT0NFdda/MdkSoHzM1+gBIGAt0wOtHrNQpFcfdFQkyoqdcpizE+9ioLJnWtUuXBTUvtiunWOD3RKxPtbxpi4rSNo4zEiXd3xs4n2iS3q8bLMZ0cJy3Tn/3be+73L9zfH37OHWf8W27+7wjn456OTpPz5VieKXSlA/nnYXSFCapG/56JFFt4IozJ85Ofum33dqb4cO8IKATu7UwBALdLi5+X1i3hRXtMoO2gabIqeR0EBeGzMG4yBgLdMMgio1YPtI2IqW880P1ynpeoqDIonk8pSX3XSS0ieP+d2MotCgF/pyJSH/8MIOjIaU8fyFy+teFL8q4a3jQuftDOkTuyoxScxlok4iTL8pOfuvG/VoyBAnhxNMKLyxE+Xi7x/rErfiDSuF1aaNU8KlP16QiJk76fca/4m4yBQDeMUFw27K0NdJuCxeNonzYWpyftlzToO9OgLG0gYxbPv8h5W5GIkLTLsskEQLs8O6/u51Vw2aZyFwG3Pn0zu8YHKnL3flGW0P5BY3EerDuqm/Clf38NAPDC/34VAHB48Be3AKxteVKIGplYYFFmKAqnMcBdJtSVE8i81ckDSbfZQ5pI9N7OFC+ORvjx7j4+KsOskNtkeTbj8eAwvCBPpNY/aOMH+6KcQ8kaRZ1dsKHL9mEg0C0A+S3ni9Knw8wXJWoJKCN8q1iASvIkTk2JKdoUJvp92vRpSz3dvYULG6RtnJoSCsKr9xAoNSozbZqOaZKkpcpxdOQImZO00S7/EGIJvUw3R7tOXDYX8yL5pyni3BYo6aLZtZUdP7Y2FvO6cuU55FIY5YHs23M7Co/KCu8fn+J2afF7y2P8608O8NGRI05axgPAh8dHIXkCgXYnkeee7ySqwDu20vXVVkLDuDSmG46BQDeM3d02jYmagRGRunSlEjDwOZqlzbzNF1iETeoSpSLFJEnj21xRF63nx3BllqYZ6445lQU0nLU5GRdBesrurku5Ih8odzko2Sr/PElcta/7unGkQN83p7R0fre/yposib29M6DRDwbwYOcwHZ3/grsF/+cLPwEA/Mbz/wAA2N/PzwDgl//Ukcx37tU9CvaZ/9zm87YTZzBGSF+x4yPkNlzCE368u+/9ogSySkfL42D7Px0dJMWIpcqBRfvAjltaUw7zZwEDgW4YqUAP9cwuCoEpWyKXpYWMlkRcuJgIUhvbJOA7Ap7KwmtvKgjITEBK90Xnx4p9o+05chRFN+ezKIQXkQBCpfk4xy+o2d6w74srKvX1heeEGXfh3CZwIopzLw8OLKStoZGFpYlAJw+UL82JVGnb3fs5fvaLBT46WuBRWQVjNRmRLMJPoIdz+H3NsShbY+CmYyDQG4RUIIZIF2iSlZsAjsxcYGFPjT3BkiugL19wbR5hAikydETeRuJbUmUW6ujpWKirIMX0QZ8F6/M811irlXXCxwuyRPs1opMw//yfgWXZuZq1PlRWZVbOAUz8Z7i/P8bu7gnUSLqVSaK/OfeB0msiR/pNgSUi1seFaOfl3WW40U19eiQoQ83tSFDms0CgQy38hpGKtK/rWLlqv5KuYogk5IpCeHEHajl80WOe9zq5+jgJ+Brmn90WnMeijIlzG61PAEEyOhFSsny2SS8KZNvgyJD/AI5IObE+KqvOUt+P5w3eGhwmgoY+l5iR5pBIP+DKSEWoV0Wt1+X7pVKZ+urVad5Fzxlvj61QCnTxfNB4DN+3CfQR4kWJ8+9/9/UzAHj95W8DAP6yfhkAIL7tyOEbX33hQpVJlwEnJSqf7fvMUirrd+/nPu+TrMvndhSeQ7icB1qr1PtJl1XYLoNBNmLa7bljf/tAoAOuCJ4HCoR+xLiTJY3n+1J9uNctw/uS9/kXPHXe1HVKkcNEjcx4oKuWXfKk/uS1BJ52LvWqvu5AN8/z6V7dxUHk6VTnVedhKVWOo5JlVyRq4WmJDqBjeXLijPcRiXYWF7bC3lh2XELkYipGGifL/DOxhB8IdMMwjJiIlPr8ivy1hsUURTDPHzNBvHxfnLxPaUzxefjfJiJXus5aArNZhXKRezItRA29tChGzs9VR27Ek6VrM3GyXN0O+UmAKynFuEy60kuf/xcAwAe//Q0AwJ+81lTy/N8fAwDe/6+HZwBw74WvJy1RCmJdhbTpvZzKdjXCK9MmuoJGt16dSJUvz73/MyLPO0UOFLnf/rgQfl6qQyadm0APeiUFTpZ2Y5//dWMg0A2DLDSjRUBKxlgXaCHRV1ifq0nLH57/Sfu5hUr7OPhYIlNKayIFJ54ClQkDvcw6lqQnz1HlxJGpdK8hTazJFNImw2xU4WiDNxEFkbY5z3Md6P0HwlVCUtuACYlouKj87cotox9HqxYiydjqpLGdIFIkVkzg/lj+8KbP/yDM079x+H9fqKVvSlIL6AAAAABJRU5ErkJggg==\"\n\n//# sourceURL=webpack:///./src/images/gentle_forest_jungle.png?");

/***/ }),

/***/ "./src/images/mana16.png":
/*!*******************************!*\
  !*** ./src/images/mana16.png ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = \"data:image/png;base64,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\"\n\n//# sourceURL=webpack:///./src/images/mana16.png?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: m_simpleui, m_simpleui_drawing, m_simpleui_consts, do_gridfont, do_panel_begin, do_panel_end, do_scroll_begin, do_scroll_end, do_scroll_item_begin, do_scroll_item_end, do_gradient_stroke_edit, do_linestar_edit, do_slider2d, do_app_demo, do_background_anim, do_sidepanel, do_app_audio, do_app_audio2, do_app_plasma, do_app_fire, do_app_drop, do_app_colorpick, do_app_bezier, do_app_dial, do_app_wires, do_app_audio3, do_app_hordewave */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"m_simpleui\", function() { return _simpleui_js__WEBPACK_IMPORTED_MODULE_0__; });\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"m_simpleui_drawing\", function() { return _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__; });\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony reexport (module object) */ __webpack_require__.d(__webpack_exports__, \"m_simpleui_consts\", function() { return _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__; });\n/* harmony import */ var _simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_gridfont.js */ \"./src/simpleui_ex_gridfont.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_gridfont\", function() { return _simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_3__[\"do_gridfont\"]; });\n\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_panel_begin\", function() { return _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_4__[\"do_panel_begin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_panel_end\", function() { return _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_4__[\"do_panel_end\"]; });\n\n/* harmony import */ var _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./simpleui_ex_scroll.js */ \"./src/simpleui_ex_scroll.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_begin\", function() { return _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_5__[\"do_scroll_begin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_end\", function() { return _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_5__[\"do_scroll_end\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_item_begin\", function() { return _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_5__[\"do_scroll_item_begin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_item_end\", function() { return _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_5__[\"do_scroll_item_end\"]; });\n\n/* harmony import */ var _simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./simpleui_ex_gradient.js */ \"./src/simpleui_ex_gradient.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_gradient_stroke_edit\", function() { return _simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_6__[\"do_gradient_stroke_edit\"]; });\n\n/* harmony import */ var _simpleui_ex_linestar_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./simpleui_ex_linestar.js */ \"./src/simpleui_ex_linestar.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_linestar_edit\", function() { return _simpleui_ex_linestar_js__WEBPACK_IMPORTED_MODULE_7__[\"do_linestar_edit\"]; });\n\n/* harmony import */ var _simpleui_ex_slider2d_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./simpleui_ex_slider2d.js */ \"./src/simpleui_ex_slider2d.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_slider2d\", function() { return _simpleui_ex_slider2d_js__WEBPACK_IMPORTED_MODULE_8__[\"do_slider2d\"]; });\n\n/* harmony import */ var _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./simpleui_app_demo.js */ \"./src/simpleui_app_demo.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_demo\", function() { return _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_9__[\"do_app_demo\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_background_anim\", function() { return _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_9__[\"do_background_anim\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_sidepanel\", function() { return _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_9__[\"do_sidepanel\"]; });\n\n/* harmony import */ var _simpleui_app_audio1_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./simpleui_app_audio1.js */ \"./src/simpleui_app_audio1.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_audio\", function() { return _simpleui_app_audio1_js__WEBPACK_IMPORTED_MODULE_10__[\"do_app_audio\"]; });\n\n/* harmony import */ var _simpleui_app_audio2_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./simpleui_app_audio2.js */ \"./src/simpleui_app_audio2.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_audio2\", function() { return _simpleui_app_audio2_js__WEBPACK_IMPORTED_MODULE_11__[\"do_app_audio2\"]; });\n\n/* harmony import */ var _simpleui_app_plasma_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./simpleui_app_plasma.js */ \"./src/simpleui_app_plasma.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_plasma\", function() { return _simpleui_app_plasma_js__WEBPACK_IMPORTED_MODULE_12__[\"do_app_plasma\"]; });\n\n/* harmony import */ var _simpleui_app_fire_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./simpleui_app_fire.js */ \"./src/simpleui_app_fire.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_fire\", function() { return _simpleui_app_fire_js__WEBPACK_IMPORTED_MODULE_13__[\"do_app_fire\"]; });\n\n/* harmony import */ var _simpleui_app_drop_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./simpleui_app_drop.js */ \"./src/simpleui_app_drop.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_drop\", function() { return _simpleui_app_drop_js__WEBPACK_IMPORTED_MODULE_14__[\"do_app_drop\"]; });\n\n/* harmony import */ var _simpleui_app_colorpick_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./simpleui_app_colorpick.js */ \"./src/simpleui_app_colorpick.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_colorpick\", function() { return _simpleui_app_colorpick_js__WEBPACK_IMPORTED_MODULE_15__[\"do_app_colorpick\"]; });\n\n/* harmony import */ var _simpleui_app_bezier_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./simpleui_app_bezier.js */ \"./src/simpleui_app_bezier.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_bezier\", function() { return _simpleui_app_bezier_js__WEBPACK_IMPORTED_MODULE_16__[\"do_app_bezier\"]; });\n\n/* harmony import */ var _simpleui_app_dial_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./simpleui_app_dial.js */ \"./src/simpleui_app_dial.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_dial\", function() { return _simpleui_app_dial_js__WEBPACK_IMPORTED_MODULE_17__[\"do_app_dial\"]; });\n\n/* harmony import */ var _simpleui_app_wires_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./simpleui_app_wires.js */ \"./src/simpleui_app_wires.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_wires\", function() { return _simpleui_app_wires_js__WEBPACK_IMPORTED_MODULE_18__[\"do_app_wires\"]; });\n\n/* harmony import */ var _simpleui_app_audio3_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./simpleui_app_audio3.js */ \"./src/simpleui_app_audio3.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_audio3\", function() { return _simpleui_app_audio3_js__WEBPACK_IMPORTED_MODULE_19__[\"do_app_audio3\"]; });\n\n/* harmony import */ var _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./simpleui_app_hordewave.js */ \"./src/simpleui_app_hordewave.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"do_app_hordewave\", function() { return _simpleui_app_hordewave_js__WEBPACK_IMPORTED_MODULE_20__[\"do_app_hordewave\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/simpleui.js":
/*!*************************!*\
  !*** ./src/simpleui.js ***!
  \*************************/
/*! exports provided: Color, ColorP, Point, PointP, Rectangle, RectangleP, clamp, rectangle_contains, calc_drawstate, get_state, set_state, layout_push, layout_pop, layout_peek, layout_translated, add_hotspot, layout_increment, layout_increment2, on_mousepressed, on_mousereleased, run, label, rectangle, button, button_logic, checkbox, progressbar, slider, vslider, checkbutton, handle, reticle, hline, state, config, initialize, make_css_color, driver, context, canvas, debounce, throttle, group_buttons_begin, group_buttons_end, angled_norm_line, is_browser_gecko, get_version, was_item_clicked, was_item_dropped, layout_push_vertical, layout_push_horizontal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Color\", function() { return Color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColorP\", function() { return ColorP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Point\", function() { return Point; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PointP\", function() { return PointP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Rectangle\", function() { return Rectangle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RectangleP\", function() { return RectangleP; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clamp\", function() { return clamp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_contains\", function() { return rectangle_contains; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calc_drawstate\", function() { return calc_drawstate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get_state\", function() { return get_state; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"set_state\", function() { return set_state; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_push\", function() { return layout_push; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_pop\", function() { return layout_pop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_peek\", function() { return layout_peek; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_translated\", function() { return layout_translated; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"add_hotspot\", function() { return add_hotspot; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_increment\", function() { return layout_increment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_increment2\", function() { return layout_increment2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"on_mousepressed\", function() { return on_mousepressed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"on_mousereleased\", function() { return on_mousereleased; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"run\", function() { return run; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"label\", function() { return do_label; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle\", function() { return do_rectangle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"button\", function() { return do_button; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"button_logic\", function() { return do_button_logic; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbox\", function() { return do_checkbox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"progressbar\", function() { return do_progressbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"slider\", function() { return do_slider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vslider\", function() { return do_vslider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton\", function() { return do_checkbutton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handle\", function() { return do_handle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reticle\", function() { return do_reticle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hline\", function() { return do_hline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"state\", function() { return uistate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"config\", function() { return config; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"make_css_color\", function() { return make_css_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"driver\", function() { return driver; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"context\", function() { return context; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"canvas\", function() { return canvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"group_buttons_begin\", function() { return group_buttons_begin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"group_buttons_end\", function() { return group_buttons_end; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"angled_norm_line\", function() { return angled_norm_line; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"is_browser_gecko\", function() { return is_browser_gecko; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get_version\", function() { return get_version; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"was_item_clicked\", function() { return was_item_clicked; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"was_item_dropped\", function() { return was_item_dropped; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_push_vertical\", function() { return layout_push_vertical; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"layout_push_horizontal\", function() { return layout_push_horizontal; });\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_ex_gridfont.js */ \"./src/simpleui_ex_gridfont.js\");\n/* harmony import */ var _simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_ex_gradient.js */ \"./src/simpleui_ex_gradient.js\");\n/* harmony import */ var _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_driver_html5_canvas.js */ \"./src/simpleui_driver_html5_canvas.js\");\n/* harmony import */ var _simpleui_framepool_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_framepool.js */ \"./src/simpleui_framepool.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _debounce_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./debounce.js */ \"./src/debounce.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"debounce\", function() { return _debounce_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _throttle_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./throttle.js */ \"./src/throttle.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"throttle\", function() { return _throttle_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n\n\n\n //import * as m_simpleui_driver_pixi_webgl from './simpleui_driver_pixi_webgl.js';\n\n\n\n\n // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers\n// https://news.ycombinator.com/item?id=15065992 (How to write optimized JavaScript)\n\n/*\r\nhttps://www.quora.com/Why-does-the-ECMA-262-not-define-an-integer-data-type\r\n    var b = someNumber | 0; // Or'ing with 0 forces result to int\r\n    var c = someNumber >>> 0; // Right shift with zero sign bit forces unsigned int\r\n*/\n\n/*\r\nhttps://stackoverflow.com/questions/6602864/stack-and-heap-in-v8-javascript/6604390#6604390\r\n\"In V8 null, undefined, true and false internally are heap allocated objects.\"\r\n*/\n\nvar driver;\nvar uidraw = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_0__;\nvar config = {\n  drawhotspots_enable: false,\n  drawbox_gradient_enable: true,\n  drawtext_enable: true,\n  drawtext_bitmap: true,\n  drawbox_gradient: null\n};\n\nfunction get_version() {\n  return '0.5.0';\n} // returned by driver's initialize during this module's initialize\n\n\nvar context;\nvar canvas;\nvar debug_draw_debuglines = 0 | false;\nvar debuglines = [];\nvar component_state = {};\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_5__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_5__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_5__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_5__[\"_a\"];\nvar _middle = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_5__[\"_middle\"];\nvar _right = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_5__[\"_right\"];\nvar _left = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_5__[\"_left\"];\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_5__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_5__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_5__[\"_horizontal\"]; // someone's jit probably likes this\n//const hotspot_element_hint = Hotspot('_', 0, 0, 1, 1);\n\nvar rect_element_hint = Rectangle(0, 0, 1, 1); //const color_element_hint = Color(0, 0, 0, 255);\n//const layout_element_hint = Layout(0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n\n/* microbench (no jit deopts in benchmarked code)\r\nA:  4.431ms          [TypedArray([x1,y1]), TypedArray([x2,y2]), ...]\r\nB:  2.655ms          TypedArray(x1, y1, x2, y2, ...)\r\nC:  4.454ms          [[x1,y1], [x2,y2], ...]\r\nD:  5.917ms          [x1, y1, x2, y2, ...]\r\nE: 80.101ms          [{x1,y1}, {x2,y2}, ...] (as .x and .y)*/\n\nvar _hotspot_rects = init_hotspot_rects(2000);\n\nvar _hotspot_ids = init_hotspot_ids(2000); //\n\n\nvar _color_pool = new _simpleui_framepool_js__WEBPACK_IMPORTED_MODULE_4__[\"FramePool\"](ColorDefault, 2000);\n\nvar _point_pool = new _simpleui_framepool_js__WEBPACK_IMPORTED_MODULE_4__[\"FramePool\"](PointDefault, 2000);\n\nvar _rectangle_pool = new _simpleui_framepool_js__WEBPACK_IMPORTED_MODULE_4__[\"FramePool\"](RectangleDefault, 2000);\n\nvar _layout_pool = new _simpleui_framepool_js__WEBPACK_IMPORTED_MODULE_4__[\"FramePool\"](LayoutDefault, 2000);\n\nvar uistate = {\n  hotspot_rects: _hotspot_rects,\n  hotspot_ids: _hotspot_ids,\n  hotspot_count: 0,\n  item_hovered: null,\n  item_hovered_under_held: null,\n  // 0.4.8+ trying this out\n  item_held: null,\n  item_was_dropped: null,\n  // 0.4.?\n  item_was_clicked: null,\n  // 0.4.?\n  // frame 'events'\n  mouse_events: [],\n  mouse_went_up: false,\n  item_went_down: null,\n  item_went_down_middle: null,\n  item_went_down_right: null,\n  mouse_went_down_point: null,\n  // 0.4.8 (mousepressed_x is a per-frame click event, nolive: RENAME mousepressed_x/y TO mouse_went_down, and released, and integrate with mouse_went_up)\n  mouse_went_down_point_prev: Point(0, 0),\n  // 0.4.9\n  mouse_went_down_delta: null,\n  // 0.4.8\n  mouse_went_down_delta_prev: [0, 0],\n  // 0.4.9\n  mousepressed_x: null,\n  // i dont want to use driver.GetCursor* in app code since it might give data one frame later than the code calling it expects\n  mousepressed_y: null,\n  // i wrote the above line before remembering mouselocation was already on state, but these are still useful for certain stuff (which i havent written yet) (since you done have to check mouse_went_down (which doesnt exist) + mouse_location)\n  mousereleased_x: null,\n  mousereleased_y: null,\n  mouselocation: Point(0, 0),\n  mouselocation_prev: Point(0, 0),\n  // 0.4.8\n  mouselocation_delta: Point(0, 0),\n  // 0.4.8\n  // other\n  collapsed_panel_index: 0,\n  // probably won't stay here\n  auto_cursor: true,\n  // 0.5.0: when true, try to auto-change body cursor (document.body.style.cursor)\n  last_frame_time: performance.now(),\n  // 0.5.0\n  dt: 0 // 0.5.0\n\n};\n\nvar _g_handle_delta_x = 0 | 0;\n\nvar _g_handle_delta_y = 0 | 0;\n\nfunction initialize(options) {\n  if (options.driver == null || options.driver == 'html5-canvas') {\n    _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_3__[\"initialize\"](options.canvasId);\n    driver = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_3__; // may or may not be seeing this again anytime soon\n    //} else if (options.driver == 'pixi-webgl') {  \n    //    m_simpleui_driver_pixi_webgl.initialize();\n    //    driver = m_simpleui_driver_pixi_webgl;\n  } else {\n    console.error('invalid options', options);\n  }\n\n  context = driver.GetContext();\n  canvas = driver.GetCanvas();\n  _simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_1__[\"initialize\"]();\n  _simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_2__[\"initialize\"]();\n}\n\nfunction make_css_color(color) {\n  var use_alpha = config.drawbox_gradient_enable;\n\n  if (use_alpha) {\n    return \"rgba(\".concat(color[_r], \", \").concat(color[_g], \", \").concat(color[_b], \", \").concat(color[_a] / 255, \")\");\n  } else {\n    return \"rgba(\".concat(color[_r], \", \").concat(color[_g], \", \").concat(color[_b], \", 1)\");\n  }\n}\n\nfunction init_hotspot_rects(count) {\n  var a = [rect_element_hint];\n\n  for (var i = 0; i < count; i++) {\n    //a.push(Hotspot('xxxx-yyyy-zzzz', 0, 0, 1, 1));\n    a.push(Rectangle(0, 0, 1, 1));\n  }\n\n  return a;\n}\n\nfunction init_hotspot_ids(count) {\n  var a = ['xxxx-yyyy-zzzz xxxx-yyyy-zzzz', 'aaaa-bbbb-cccc aaaa-bbbb-cccc'];\n\n  for (var i = 0; i < count; i++) {\n    a.push('xxxx-yyyy-zzzz xxxx-yyyy-zzzz');\n  }\n\n  return a;\n}\n/*function Hotspot(id, x, y, w, h) { // obsolete\r\n    //console.assert(id != null, 'hotspot with null id');\r\n    return [\r\n        Rectangle(x, y, w, h),\r\n        id\r\n    ];\r\n    // wish: better understand what the string on the end of this returned array does (did) to performance\r\n}*/\n\n/** make rgba color from unsigned bytes [0-255] (Smi's) */\n\n\nfunction Color(r, g, b, a) {\n  return [0 | r, 0 | g, 0 | b, 0 | a];\n}\n\nfunction ColorDefault() {\n  return Color(0, 0, 0, 0);\n}\n\nfunction ColorP(r, g, b, a) {\n  console.assert(a != null); //console.assert(a != 1); // some old debug thing\n\n  var o = _color_pool.acquire();\n\n  o[_r] = 0 | r;\n  o[_g] = 0 | g;\n  o[_b] = 0 | b;\n  o[_a] = 0 | a;\n  return o;\n} // --- \n\n\nfunction Point(x, y) {\n  //return [0 | x, 0 | y];\n  return {\n    x: 0 | x,\n    y: 0 | y\n  };\n}\n\nfunction PointDefault() {\n  return Point(0, 0);\n}\n\nfunction PointP(x, y) {\n  var o = _point_pool.acquire();\n\n  o.x = 0 | x;\n  o.y = 0 | y;\n  return o;\n} // --- \n\n\nfunction Rectangle(x, y, w, h) {\n  //return [0 | x, 0 | y, 0 | w, 0 | h];\n  return {\n    x: 0 | x,\n    y: 0 | y,\n    w: 0 | w,\n    h: 0 | h\n  };\n}\n\nfunction RectangleDefault() {\n  return Rectangle(0, 0, 0, 0);\n}\n\nfunction RectangleP(x, y, w, h) {\n  var o = _rectangle_pool.acquire();\n\n  o.x = 0 | x;\n  o.y = 0 | y;\n  o.w = 0 | w;\n  o.h = 0 | h;\n  return o;\n} // ---\n\n/** make rgba color from unsigned bytes [0-255] (Smi's) */\n\n\nfunction Layout(x, y, ox, oy, mode, padding, maxw, maxh, totalw, totalh) {\n  return {\n    x: 0 | x,\n    y: 0 | y,\n    ox: 0 | ox,\n    oy: 0 | oy,\n    mode: 0 | mode,\n    padding: 0 | padding,\n    maxw: 0 | maxw,\n    maxh: 0 | maxh,\n    totalw: 0 | totalw,\n    totalh: 0 | totalh\n  };\n}\n\nfunction LayoutDefault() {\n  return Layout(0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n}\n\nfunction LayoutP(x, y, ox, oy, mode, padding, maxw, maxh, totalw, totalh) {\n  var o = _layout_pool.acquire();\n\n  o.x = 0 | x;\n  o.y = 0 | y;\n  o.ox = 0 | ox;\n  o.oy = 0 | oy;\n  o.mode = 0 | mode;\n  o.padding = 0 | padding;\n  o.maxw = 0 | maxw; // biggest w\n\n  o.maxh = 0 | maxh; // biggest h\n\n  o.totalw = 0 | totalw; // sum of all w\n\n  o.totalh = 0 | totalh; // sum of all h\n\n  return o;\n} // ---\n\n\nvar point_test = Point(10, 20);\nconsole.assert(point_test.x == 10);\nconsole.assert(point_test.y == 20);\nvar rect_test = Rectangle(0, 0, 10, 20);\nconsole.assert(rect_test.x == 0);\nconsole.assert(rect_test.y == 0);\nconsole.assert(rect_test.w == 10);\nconsole.assert(rect_test.h == 20);\nvar rect_test2 = Rectangle(10, 20, 100, 200);\nconsole.assert(rect_test2.x == 10);\nconsole.assert(rect_test2.y == 20);\nconsole.assert(rect_test2.w == 100);\nconsole.assert(rect_test2.h == 200);\n\nfunction clamp(value, x1, x2) {\n  return Math.min(Math.max(value, x1), x2);\n}\n\nfunction get_state(uiid) {\n  return component_state[uiid];\n}\n\nfunction set_state(uiid, state) {\n  component_state[uiid] = state;\n  return state;\n} // this way avoids deopt\n\n\nfunction rectangle_contains(x1, y1, w, h, pt_x, pt_y) {\n  var x2 = 0 | x1 + w;\n  var y2 = 0 | y1 + h; //const b = 0 | (0 | (pt_x >= x1) && 0 | (pt_x <= x2) && 0 | (pt_y >= y1) && 0 | (pt_y <= y2));\n  // 0.4.3 second point compares with < not <=\n\n  var b = 0 | (0 | pt_x >= x1 && 0 | pt_x < x2 && 0 | pt_y >= y1 && 0 | pt_y < y2);\n  return b;\n} // wish: dont return this, put it in component state...\n// todo: 2021... or make standalone\n\n\nfunction calc_drawstate(uiid) {\n  return [0 | uistate.item_hovered == uiid, 0 | uistate.item_held == uiid];\n}\n\nfunction layout_peek() {\n  //const stacksize = uistate.layout_count;\n  var stacksize = _layout_pool.index;\n\n  if (stacksize == 0) {\n    return null;\n  } else {\n    //return _layout_pool[stacksize - 1];\n    return _layout_pool.items[stacksize - 1];\n  }\n}\n/** push new layout to layout stack, inherit last 3 params from previous layout when null */\n\n\nfunction layout_push(mode, padding, x, y) {\n  //print('layout_push', mode, padding, x, y)\n  var prev = layout_peek(); // this layout inheritance only happens when those params to this function are null/undefined\n  // ( i assume jit just makes different versions of this function ) ( for now... )\n\n  if (prev != null) {\n    //print('inheriting from prev');\n    // inherit x and y\n    if (x == null) {\n      //print('inherit layout x', prev.x);\n      x = 0 | prev.x;\n    }\n\n    if (y == null) {\n      //print('inherit layout y', prev.y);\n      y = 0 | prev.y;\n    } // inherit padding\n\n\n    if (padding == null) {\n      padding = 0 | prev.padding;\n    }\n  } //console.assert(uistate.layout_count >= 0);\n  //const layout = _layout_pool[uistate.layout_count++];\n\n\n  var layout = LayoutP(0 | x, 0 | y, 0 | x, 0 | y, 0 | mode, 0 | padding, 0 | 0, 0 | 0, 0 | 0, 0 | 0);\n  return layout; // so you can modify the values\n}\n\nfunction layout_push_vertical(padding, x, y) {\n  // 0.4.9\n  return layout_push(_vertical, padding, x, y);\n}\n\nfunction layout_push_horizontal(padding, x, y) {\n  // 0.4.9\n  return layout_push(_horizontal, padding, x, y);\n}\n\nfunction layout_pop() {\n  //console.assert(uistate.layout_count > 0);\n  console.assert(_layout_pool.index > 0); // was: const child = layout_stack.pop();\n\n  var child = layout_peek(); // since we use a pool, pop means decrement layout_count\n  //uistate.layout_count = uistate.layout_count - 1;\n\n  _layout_pool.index = _layout_pool.index - 1; // this peek gives what was 2nd layout in stack since we decremented count\n\n  var parent = layout_peek(); // increment parent layout and update parent total dimensions\n\n  if (parent) {\n    // sub-layout\n    if (child.mode == _none) {// pass     \n    } else {\n      parent.totalw = 0 | Math.max(parent.totalw, child.x - child.ox);\n      parent.totalh = 0 | Math.max(parent.totalh, child.y - child.oy); // 0.4.7: this should not be before the parent totalw/totalh above\n\n      layout_increment2(child.maxw, child.maxh);\n      /* 0.4.1\r\n      when popping a layout, we need to increment the parent by that layout\r\n      but we don't really do that... (yet)\r\n      so, instead just take some code out of increment for here\r\n      opposite _total doesn't need an update and maxw/maxh is incremented above...\r\n      might actually be more correct to remove increment above and add a new bigger increment down here\r\n      BUT... for now the totalw/totalh updates fixed the problem i was having\r\n      */\n\n      if (parent.mode == _horizontal) {\n        parent.x = 0 | child.ox + child.totalw + parent.padding;\n        parent.totalw = 0 | parent.x - parent.ox; // 0.4.1\n      } else if (parent.mode == _vertical) {\n        parent.y = 0 | child.oy + child.totalh + parent.padding;\n        parent.totalh = 0 | parent.y - parent.oy; // 0.4.1\n      } // 0.4.6: if there are weird layout bugs, then enable the next line to determine if\n      //        it's a problem with above logic versus standard increment\n      //layout_increment2(0, 0);\n\n    }\n  }\n\n  return child;\n}\n\nfunction layout_increment2(w, h) {\n  var layout = layout_peek();\n\n  if (layout) {\n    if (layout.mode == _vertical) {\n      var dy = 0 | h + layout.padding;\n      layout.y = 0 | layout.y + dy;\n      layout.totalh = 0 | layout.y - layout.oy;\n      layout.totalw = 0 | Math.max(layout.totalw, w);\n      layout.maxw = 0 | layout.totalw;\n    } else if (layout.mode == _horizontal) {\n      var dx = 0 | w + layout.padding;\n      layout.x = 0 | layout.x + dx;\n      layout.totalw = 0 | layout.x - layout.ox;\n      layout.totalh = 0 | Math.max(layout.totalh, h);\n      layout.maxh = 0 | layout.totalh;\n    } else if (layout.mode == _none) {// pass\n    }\n\n    if (layout.mode != _none) {\n      layout.maxw = 0 | Math.max(layout.maxw, w);\n      layout.maxh = 0 | Math.max(layout.maxh, h);\n    }\n  }\n}\n/** modify layout by input rect */\n\n\nfunction layout_increment(rect) {\n  return layout_increment2(0 | rect.w, 0 | rect.h);\n}\n/** translate layout-relative rect to absolute rect by adding their coordinates */\n\n\nfunction layout_translated(local_rect) {\n  var x = 0 | local_rect.x;\n  var y = 0 | local_rect.y;\n  var w = 0 | local_rect.w;\n  var h = 0 | local_rect.h;\n  var layout = layout_peek();\n\n  if (layout) {\n    x = 0 | x + layout.x;\n    y = 0 | y + layout.y;\n  }\n\n  return RectangleP(0 | x, 0 | y, 0 | w, 0 | h);\n}\n\nfunction on_mousepressed(x, y, button) {\n  uistate.mouse_events.push(['p', 0 | x, 0 | y, 0 | button]); // 0.4.8\n}\n\nfunction on_mousereleased(x, y, button) {\n  uistate.mouse_events.push(['r', 0 | x, 0 | y, 0 | button]); // 0.4.8\n}\n\nfunction process_mousepressed(x, y, button) {\n  uistate.mousepressed_x = 0 | x;\n  uistate.mousepressed_y = 0 | y;\n\n  if (button == _left) {\n    uistate.item_went_down = uistate.item_hovered;\n    uistate.item_held = uistate.item_hovered;\n    console.log('[item_went_down]', uistate.item_hovered, x, y);\n    uistate.mouse_went_down_point = Point(uistate.mouselocation.x, uistate.mouselocation.y);\n  } else if (button == _middle) {\n    uistate.item_went_down_middle = uistate.item_hovered;\n    uistate.item_held_middle = uistate.item_hovered;\n    console.log('[item_went_down_middle]', uistate.item_hovered, x, y);\n  } else if (button == _right) {\n    uistate.item_went_down_right = uistate.item_hovered;\n    uistate.item_held_right = uistate.item_hovered;\n    console.log('[item_went_down_right]', uistate.item_hovered, x, y);\n  }\n}\n\nfunction process_mousereleased(x, y, button) {\n  uistate.mousereleased_x = 0 | x;\n  uistate.mousereleased_y = 0 | y;\n\n  if (button == _left) {\n    uistate.item_went_up = uistate.item_hovered;\n    uistate.mouse_went_up = 0 | true; // only left click does this\n\n    uistate.mouse_went_down_point = null;\n    console.log('[mouse went up]');\n\n    if (uistate.item_went_up != null && uistate.item_went_up == uistate.item_hovered) {\n      console.log('[item clicked]', uistate.item_hovered);\n      uistate.item_was_clicked = uistate.item_hovered;\n    }\n\n    if (uistate.item_held != null) {\n      console.log('[item dropped]', uistate.item_held);\n      uistate.item_was_dropped = uistate.item_held;\n    }\n\n    uistate.item_held = null;\n  } else if (button == _middle) {\n    uistate.item_held_middle = null;\n  } else if (button == _right) {\n    uistate.item_held_right = null;\n  }\n}\n/*\r\nfunction on_mousereleased_0_4_7(x, y, button) {\r\n    uistate.mousereleased_x = x;\r\n    uistate.mousereleased_y = y;\r\n    if (button == _left) {\r\n        if (uistate.item_held == uistate.item_hovered) {\r\n            uistate.item_went_downup = uistate.item_hovered;\r\n            console.log('[item went downup]', uistate.item_went_downup, x, y);\r\n        }\r\n        uistate.mouse_went_up = 0 | true; // only left click does this\r\n        uistate.item_held = null;\r\n    } else if (button == _middle) {\r\n        if (uistate.item_held_middle == uistate.item_hovered) {\r\n            uistate.item_went_downup_middle = uistate.item_hovered;\r\n            console.log('[item went downup middle]', uistate.item_went_downup_middle, x, y);\r\n        }\r\n        uistate.item_held_middle = null;\r\n    } else if (button == _right) {\r\n        if (uistate.item_held_right == uistate.item_hovered) {\r\n            uistate.item_went_downup_right = uistate.item_hovered;\r\n            console.log('[item went downup right]', uistate.item_hovered, x, y);\r\n        }\r\n        uistate.item_held_right = null;\r\n    }\r\n}\r\n*/\n\n\nfunction run(fn) {\n  console.assert(_layout_pool.index === 0);\n  /*\r\n  Fn is the app code. The app code builds the hotspots.\r\n    Two big problems:\r\n  * app code defines hotspots and can \"handle-events-immediately\" eg. `if (_.changed) { ... }`\r\n      - need to structure loop in a non-traditional way so all data logic operates on is from the same \"frame\"\r\n        even if it means using the previous frame's data when you have something more recent\r\n  * input determined by browser events during interval\r\n        - mostly this means i need to queue mouse_events from the interval callbacks so they can be processed in a specific place in the loop (after app logic, hotspot definition, and hover calc)\r\n    > An item is hovered if the mouse is over it.\r\n  > An item is held if the mouse went down when it was hovered.\r\n  > An item is dropped if the mouse went up when it was held.\r\n  > An item is dragged if...\r\n    0.4.8 slight redesign:\r\n      mostly, some calcs (held/etc) don't happen during interval, they are delayed now so all logic uses state from same frame\r\n      before 0.4.8 the app logic had prior frame for everything and latest frame for held and mouse position\r\n      only way around this problem, assuming hotspots are made during app code, is to make app code only use data from previous frame\r\n    [before frame]\r\n      latest mouse coords are in driver, but could also be calc'd from mouse_events,\r\n          these mouse coords will be used for hovered calc,\r\n              then hovered calc and mouse_events will be used for held calc\r\n      hovered calc is from last frame: (previous mouse + previous hotspots),\r\n      held is from last frame: (previous mouse + previous hotspots)\r\n  1. fn: App Code & Define Hotspots\r\n      inline handlers will see previous frame state\r\n      setTimeout handles will see (almost)-latest frame state\r\n          (uistate.mouse_events will be being built at the same time for the next frame)\r\n          (so, technically, setTimeout is not guaranteed to see the absolute latest mouse pos)\r\n          (if that is ever a problem, then maybe i would run callbacks from last frame explicitly in next frame, not via setTimeout)\r\n  ^^^    \r\n  asdfasdfasdf dont think this is right anymore, and it's a mix of old and new information\r\n  vvv\r\n  2. set latest mouse pos and re-calc hovers\r\n      hovered calc is (latest mouse + latest hotspots)\r\n      held calc is still (latest mouse/(previous in 0.4.8) + previous hotspots)\r\n  3. frame resets (event resets)\r\n  4. main mouse event processing & held calc        \r\n  5. pool releases\r\n  [after frame]\r\n      big wait (setTimeout callbacks & record event log for later processing)    \r\n  */\n\n  var now = performance.now();\n  uistate.dt = now - uistate.last_frame_time;\n  uistate.last_frame_time = now;\n  fn();\n  console.assert(_layout_pool.index === 0); // reset and calc item_hovered logic\n\n  uistate.item_hovered = null;\n  uistate.item_hovered_under_held = null; // reverse iterate for hotspot z-index\n\n  var hotspot_rect;\n  var hotspot_id;\n  var contains;\n  var find_hovered_under_held = false; // 0.4.8+\n  // hovered needs mouselocation, also set prev\n\n  uistate.mouselocation_prev.x = 0 | uistate.mouselocation.x;\n  uistate.mouselocation_prev.y = 0 | uistate.mouselocation.y;\n\n  if (uistate.mouse_went_down_delta != null) {\n    // 0.4.9\n    uistate.mouse_went_down_delta_prev[0] = 0 | uistate.mouse_went_down_delta[0];\n    uistate.mouse_went_down_delta_prev[1] = 0 | uistate.mouse_went_down_delta[1];\n  }\n\n  if (uistate.mouse_went_down_point != null) {\n    // 0.4.9\n    uistate.mouse_went_down_point_prev.x = 0 | uistate.mouse_went_down_point.x;\n    uistate.mouse_went_down_point_prev.y = 0 | uistate.mouse_went_down_point.y;\n  }\n\n  uistate.mouselocation.x = 0 | driver.GetCursorX();\n  uistate.mouselocation.y = 0 | driver.GetCursorY(); // calc hovered\n\n  for (var i = uistate.hotspot_count - 1; i >= 0; i--) {\n    // set item_hovered and item_hovered_under_held\n    hotspot_rect = uistate.hotspot_rects[i];\n    hotspot_id = uistate.hotspot_ids[i]; // don't think i need/want this anymore since i changed to item_held/etc logic\n\n    contains = rectangle_contains(0 | hotspot_rect.x, 0 | hotspot_rect.y, 0 | hotspot_rect.w, 0 | hotspot_rect.h, 0 | uistate.mouselocation.x, 0 | uistate.mouselocation.y);\n\n    if (contains) {\n      // 0.4.8\n      // if hovered item is held item, then don't break\n      // continue to next hovered item, record, then break\n      // this is processing hovered hotspots, mouse is in this hotspot\n      // hotspot hovered and we're looking for under_held\n      if (find_hovered_under_held) {\n        uistate.item_hovered_under_held = hotspot_id;\n        break; // hotspot hovered\n      } else {\n        // this hotspot is for our held item, so accept hover and flag to look for hovered_under_held\n        // (this allows 'wire-connect' logic) nolive: could that use a different hotspot for drag?\n        if (uistate.item_held == hotspot_id) {\n          uistate.item_hovered = hotspot_id;\n          find_hovered_under_held = true; // no items are held, so accept hover and break (standard old logic)\n        } else if (uistate.item_held == null) {\n          uistate.item_hovered = hotspot_id;\n          break; // an item is held, but it's not for this hotspot\n        } else {\n          // don't accept hover, since something is held\n          // do find_hovered_under_held because something is held\n          find_hovered_under_held = true; //break; // break because we don't need to find any hover\n        }\n      }\n    }\n  }\n  /*\r\n  none of these matter for hover calc..\r\n    pressed updates:\r\n      mousereleased_x\r\n      mousereleased_y\r\n      item_went_down\r\n      item_held\r\n      *plus middle and right bits\r\n    released updates:\r\n      mousereleased_x\r\n      mousereleased_y\r\n      mouse_went_up\r\n      item_held\r\n      *plus middle and right bits\r\n  */\n  // ~events~\n\n\n  uistate.mouse_went_up = 0 | false;\n  uistate.item_was_clicked = null; // 0.4.8\n\n  uistate.item_was_dropped = null; // 0.4.8\n\n  uistate.item_went_down = null;\n  uistate.item_went_down_middle = null;\n  uistate.item_went_down_right = null;\n  uistate.item_went_up = null;\n  uistate.mousepressed_x = null;\n  uistate.mousepressed_y = null;\n  uistate.mousereleased_x = null;\n  uistate.mousereleased_y = null;\n\n  if (true) {\n    // calc held and remaining input updates (before hover only mouse pos was set)\n    for (var _i = 0; _i < uistate.mouse_events.length; _i++) {\n      var mouse_event = uistate.mouse_events[_i];\n      var kind = mouse_event[0];\n      var x = mouse_event[1];\n      var y = mouse_event[2];\n      var button = mouse_event[3];\n\n      if (kind == 'p') {\n        process_mousepressed(x, y, button);\n      } else if (kind == 'r') {\n        process_mousereleased(x, y, button);\n      }\n    }\n  } // post-events related-processing\n\n\n  {\n    uistate.mouselocation_delta.x = uistate.mouselocation.x - uistate.mouselocation_prev.x;\n    uistate.mouselocation_delta.y = uistate.mouselocation.y - uistate.mouselocation_prev.y;\n\n    if (uistate.mouse_went_down_point == null) {\n      uistate.mouse_went_down_delta = null;\n    } else {\n      uistate.mouse_went_down_delta = [uistate.mouselocation.x - uistate.mouse_went_down_point.x, uistate.mouselocation.y - uistate.mouse_went_down_point.y];\n      console.assert(uistate.mouse_went_down_delta != null);\n      console.assert(uistate.mouse_went_down_delta[0] != null);\n      console.assert(uistate.mouse_went_down_delta[1] != null);\n    }\n  } // 0.4.8: if you're holding an item, then the hovered item should be that item, or (maybe(nolive)) null\n\n  if (uistate.item_held) {\n    console.assert(uistate.item_hovered == uistate.item_held || uistate.item_hovered == null);\n  }\n\n  if (uistate.auto_cursor) {\n    // 0.5.0\n    if (uistate.item_held || uistate.item_held_right) {\n      // 0.4.5: added _right        \n      document.body.style.cursor = \"grabbing\";\n    } else if (uistate.item_hovered) {\n      document.body.style.cursor = \"pointer\";\n    } else {\n      document.body.style.cursor = \"\";\n    }\n  }\n\n  if (debug_draw_debuglines) {\n    var mousex = uistate.mouselocation && uistate.mouselocation.x;\n    var mousey = uistate.mouselocation && uistate.mouselocation.y;\n    debuglines.push('item_hovered: ' + uistate.item_hovered || false);\n    debuglines.push('item_held: ' + uistate.item_held || false);\n    debuglines.push('item_hovered_under_held: ' + uistate.item_hovered_under_held || false); //debuglines.push('mouse x: ' + mousex);\n    //debuglines.push('mouse y: ' + mousey);\n    //debuglines.push('hotspot pool: ' + uistate.hotspot_count + '/' + uistate.hotspot_pool.length);\n\n    debuglines.push('layout pool: ' + _layout_pool.index + '/' + _layout_pool.max);\n\n    for (var _i2 = 0; _i2 < debuglines.length; _i2++) {\n      var line = debuglines[_i2];\n      var yinc = 0 | _i2 * 20;\n      uidraw.text(line, 120, 30 + yinc, ColorP(255, 0, 255, 255));\n    }\n\n    debuglines = [];\n  }\n\n  if (config.drawhotspots_enable) {\n    for (var _i3 = 0; _i3 < uistate.hotspot_count; _i3++) {\n      var _hotspot_rect = uistate.hotspot_rects[_i3];\n      uidraw.rectangle(_hotspot_rect, ColorP(255, 0, 0, 48));\n      uidraw.rectangle_outline(uidraw.rectangle_erode(_hotspot_rect, 1), ColorP(255, 255, 255, 64));\n    }\n  }\n\n  console.assert(_layout_pool.index === 0); // per-frame resets\n  // ~pools~\n\n  _color_pool.release_all();\n\n  _point_pool.release_all();\n\n  _rectangle_pool.release_all();\n\n  _layout_pool.release_all();\n\n  uistate.hotspot_count = 0 | 0;\n  uistate.mouse_events = []; // nolive: todo: pool\n  // other stuff...    \n\n  uistate.collapsed_panel_index = 0 | 0; // this probably won't stay here\n}\n/** add rect as hotspot */\n\n\nfunction add_hotspot(uiid, rect) {\n  console.assert(uiid);\n  console.assert(rect);\n  var i = uistate.hotspot_count;\n  var hotspot_rect = _hotspot_rects[i];\n  hotspot_rect.x = 0 | rect.x;\n  hotspot_rect.y = 0 | rect.y;\n  hotspot_rect.w = 0 | rect.w;\n  hotspot_rect.h = 0 | rect.h;\n  _hotspot_ids[i] = uiid;\n  uistate.hotspot_count = 0 | uistate.hotspot_count + 1;\n}\n\nfunction do_label(text, local_rect) {\n  console.assert(local_rect != null, 'local_rect cannot be null');\n  var rect = layout_translated(local_rect);\n  var valign = uidraw.vertical_center_text(rect);\n  var color = uidraw.color_white; // default text color, not exposed yet\n\n  uidraw.label(text, valign, color);\n  layout_increment(rect);\n}\n\nfunction do_rectangle(local_rect, color) {\n  var rect = layout_translated(local_rect);\n  uidraw.rectangle(rect, color);\n  layout_increment(rect);\n} // will write a 2nd line of functions if i need text offset\n\n\nfunction do_button(uiid, text, local_rect) {\n  var global_rect = layout_translated(local_rect); // nolive: pass draw state, dont use multiple button draw functions\n\n  if (uiid == uistate.item_hovered) {\n    uidraw.button_hovered(text, global_rect);\n  } else if (uiid == uistate.item_held) {\n    uidraw.button_held(text, global_rect);\n  } else {\n    uidraw.button(text, global_rect);\n  }\n\n  var state = do_button_logic(uiid, global_rect);\n  return state;\n}\n\nfunction do_button_logic(uiid, global_rect) {\n  // 0.4.6+: trying to separate button and button logic\n  // the technique shown on the next line is wrong, because it does not account for buttons in other layers/windows which have the same params\n  //uiid = `button(${text},${rect.x},${rect.y},${rect.w},${rect.h})`;\n  add_hotspot(uiid, global_rect);\n  layout_increment(global_rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      clicked: 0 | false,\n      changed: 0 | false\n    });\n  }\n\n  state.clicked = 0 | was_item_clicked(uiid); // 0.4.8\n\n  state.changed = 0 | state.clicked; // 0.5.0: convenience\n\n  return state;\n}\n\nfunction was_item_clicked(uiid) {\n  // 0.4.8\n  return 0 | uistate.item_was_clicked == uiid;\n}\n\nfunction was_item_dropped(uiid) {\n  // 0.4.8\n  return 0 | uistate.item_was_dropped == uiid;\n}\n\nfunction do_checkbox(uiid, local_rect, value) {\n  var rect = layout_translated(local_rect);\n  add_hotspot(uiid, rect);\n  var changed = 0 | false;\n  var clicked = was_item_clicked(uiid); // 0.4.8\n\n  if (clicked) {\n    value = !value;\n    changed = 0 | true;\n  }\n\n  if (uiid == uistate.item_held) {\n    uidraw.checkbox_held(rect, value);\n  } else if (uiid == uistate.item_hovered) {\n    uidraw.checkbox_hovered(rect, value);\n  } else {\n    uidraw.checkbox(rect, value);\n  }\n\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = 0 | value;\n  return state;\n}\n\nfunction do_progressbar(uiid, local_rect, max, value) {\n  console.assert(max != null, 'max cannot be null');\n  var changed = 0 | false;\n  var clamped_value = 0 | clamp(value, 0, max);\n\n  if (clamped_value != value) {\n    changed = 0 | true;\n    value = 0 | clamped_value;\n  }\n\n  var rect = layout_translated(local_rect);\n  uidraw.progressbar(rect, max, value);\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = 0 | value;\n  return state; //return [0 | changed, 0 | value];\n} // simpleui api does not support fractional slider anymore\n// fractional values should be made by the caller, input values should be int\n\n\nfunction do_slider(uiid, local_rect, min, max, value, label) {\n  console.assert(uiid != '', 'id cannot be blank');\n  if (label == null) label = ''; //console.assert(label != null, 'label cannot be null');\n  //console.assert(label != undefined, 'label cannot be undefined');\n\n  var rect = layout_translated(local_rect);\n  add_hotspot(uiid, rect);\n  var x = 0 | rect.x;\n  var w = 0 | rect.w;\n  var range = 0 | max - min;\n  var changed = 0 | false;\n  var is_held = 0 | uistate.item_held == uiid;\n\n  if (is_held) {\n    var mloc = 0 | uistate.mouselocation.x - x;\n    var mousepos = 0 | clamp(mloc, 0, w); // range / w == units per pixel\n\n    /*\r\n    let v = mousepos * (range / w) + min;\r\n    if (!fractional) {\r\n        v = round(v, 0)|0;\r\n    }*/\n\n    var v = 0 | mousepos * (range / w) + min;\n\n    if (v != value) {\n      changed = 0 | true;\n      value = v;\n    }\n  }\n\n  var draw_state = calc_drawstate(uiid);\n  uidraw.slider(uiid, rect, draw_state, min, max, value, label); //uidraw.slider2(uiid, rect.x, rect.y, rect.w, rect.h, state[_Hovered], state[_Held], min, max, value, label);\n\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = 0 | value;\n  return state; //return [0 | changed, 0 | value];\n}\n\nfunction do_vslider(uiid, local_rect, min, max, value, label, custom_renderer, custom_hotspot) {\n  console.assert(uiid != '', 'id cannot be blank');\n  console.assert(local_rect != null, 'local_rect cannot be null');\n  console.assert(min != null, 'min cannot be null');\n  console.assert(max != null, 'max cannot be null');\n  console.assert(value != null, 'value cannot be null');\n  console.assert(label != null, 'value cannot be null');\n  var rect = layout_translated(local_rect); // 0.4.6: custom_hotspot: nolive\n\n  if (custom_hotspot) {\n    add_hotspot(uiid, custom_hotspot);\n  } else {\n    add_hotspot(uiid, rect);\n  }\n\n  var y = 0 | rect.y;\n  var h = 0 | rect.h;\n  var range = 0 | max - min;\n  var changed = 0 | false;\n  var is_held = 0 | uistate.item_held == uiid;\n\n  if (is_held) {\n    var mloc = 0 | uistate.mouselocation.y - y;\n    var mousepos = 0 | clamp(mloc, 0, h); // range / w == units per pixel\n\n    /*\r\n    let v = mousepos * (range / h) + min;\r\n    if (!fractional) {\r\n        v = round(v, 0)|0;\r\n    }*/\n\n    var v = 0 | mousepos * (range / h) + min;\n\n    if (v != value) {\n      changed = 0 | true;\n      value = 0 | v;\n    }\n  }\n\n  var draw_state = calc_drawstate(uiid);\n\n  if (custom_renderer) {\n    custom_renderer(uiid, rect, draw_state, min, max, value, label);\n  } else {\n    uidraw.vslider(uiid, rect, draw_state, min, max, value, label);\n  }\n\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = 0 | value;\n  return state; //return [0 | changed, 0 | value];\n} // value is expected to be truthy\n\n\nfunction do_checkbutton(uiid, text, local_rect, value, text_offset_x, text_offset_y) {\n  console.assert(uiid != '', 'id cannot be blank');\n  var changed = 0 | false;\n  var clicked = 0 | was_item_clicked(uiid); // 0.4.8\n\n  if (clicked) {\n    value = !value;\n    clicked = 0 | true;\n    changed = 0 | true;\n  }\n\n  var rect = layout_translated(local_rect);\n  add_hotspot(uiid, rect);\n  var draw_state = calc_drawstate(uiid);\n  var group = get_button_group();\n\n  if (group) {\n    group.commands.push(uidraw.checkbutton, 6, text, rect, draw_state, value, text_offset_x, text_offset_y);\n  } else {\n    uidraw.checkbutton(text, rect, draw_state, value, text_offset_x, text_offset_y);\n  }\n\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = 0 | value;\n  state.clicked = 0 | clicked;\n  return state; //return [0 | changed, 0 | value];\n} // you can drag it around, anywhere.\n\n\nfunction do_handle(uiid, local_rect, x1, y1) {\n  console.assert(uiid != '', 'id cannot be blank');\n  console.assert(local_rect != null, 'local_rect cannot be null');\n  x1 = 0 | x1;\n  y1 = 0 | y1;\n  var clicked = 0 | false;\n  var changed = 0 | false;\n  var rect = layout_translated(local_rect);\n  add_hotspot(uiid, rect);\n\n  if (was_item_clicked(uiid)) {\n    // 0.4.8\n    clicked = 0 | true;\n    changed = 0 | true;\n  }\n\n  if (uistate.item_went_down == uiid) {\n    changed = 0 | true;\n    _g_handle_delta_x = 0 | uistate.mouselocation.x - x1;\n    _g_handle_delta_y = 0 | uistate.mouselocation.y - y1;\n  }\n\n  if (uistate.item_held == uiid) {\n    //let mousepos = uistate.mouselocation.x - x\n    //mousepos = clamp(mousepos, 0, i)\n    //let v = round(mousepos * max / i, 0)\n    //if (v != value) then\n    changed = 0 | true;\n    x1 = 0 | uistate.mouselocation.x - _g_handle_delta_x;\n    y1 = 0 | uistate.mouselocation.y - _g_handle_delta_y; //end\n  }\n\n  if (uiid == uistate.item_held) {\n    uidraw.handle_held(rect);\n  } else if (uiid == uistate.item_hovered) {\n    uidraw.handle_hovered(rect);\n  } else {\n    uidraw.handle(rect);\n  }\n\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      x1: 0 | x1,\n      y1: 0 | y1\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.clicked = 0 | clicked;\n  state.x1 = 0 | x1;\n  state.y1 = 0 | y1;\n  return state; //return [0 | changed, 0 | x1, 0 | y1];\n} // copied from do_handle\n\n\nfunction do_reticle(uiid, local_rect, x1, y1) {\n  console.assert(uiid != '', 'id cannot be blank');\n  console.assert(local_rect != null, 'local_rect cannot be null');\n  x1 = 0 | x1;\n  y1 = 0 | y1;\n  var changed = 0 | false;\n  var rect = layout_translated(local_rect);\n  add_hotspot(uiid, rect);\n\n  if (was_item_clicked(uiid) || was_item_dropped(uiid)) {\n    // 0.4.8\n    changed = 0 | true;\n  }\n\n  if (uistate.item_went_down == uiid) {\n    changed = 0 | true;\n    _g_handle_delta_x = 0 | uistate.mouselocation.x - x1;\n    _g_handle_delta_y = 0 | uistate.mouselocation.y - y1;\n  }\n\n  if (uistate.item_held == uiid) {\n    //let mousepos = uistate.mouselocation.x - x\n    //mousepos = clamp(mousepos, 0, i)\n    //let v = round(mousepos * max / i, 0)\n    //if (v != value) then\n    changed = 0 | true;\n    x1 = 0 | uistate.mouselocation.x - _g_handle_delta_x;\n    y1 = 0 | uistate.mouselocation.y - _g_handle_delta_y; //end\n  }\n\n  var draw_state = calc_drawstate(uiid);\n  uidraw.reticle(uiid, rect, draw_state);\n  layout_increment(rect);\n  var state = get_state(uiid);\n\n  if (!state) {\n    state = set_state(uiid, {\n      changed: 0 | false,\n      x1: 0 | x1,\n      y1: 0 | y1\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.x1 = 0 | x1;\n  state.y1 = 0 | y1;\n  return state;\n}\n\nfunction do_hline(w, h, color) {\n  var rect = layout_translated(RectangleP(0, 0, w, h)); //uidraw.push_linewidth(h);\n  //uidraw.push_strokestyle(make_css_color(color));\n  //const line_y = 0 | rect.y + h / 2;\n  //uidraw.line(rect.x, line_y, rect.x + rect.w, line_y);\n\n  uidraw.rectangle(rect, color); // better lines\n\n  layout_increment2(w, h); //uidraw.pop_strokestyle();\n  //uidraw.pop_linewidth();\n}\n\nvar group_buttons_stack = [];\n\nfunction get_button_group() {\n  var len = group_buttons_stack.length;\n\n  if (len) {\n    return group_buttons_stack[len - 1];\n  }\n}\n\nfunction group_buttons_begin() {\n  // defer draws.... so we can render as group.\n  var o = {\n    commands: []\n  };\n  group_buttons_stack.push(o);\n}\n\nfunction execute_commands(commands) {\n  // first button. push button draw modifiers then pop\n  // last button. same\n  for (var i = 0; i < commands.length;) {\n    // note: no inc\n    var is_first_item = 0 | i == 0;\n    var fn = commands[i];\n    i++;\n    var arg_count = commands[i];\n    i++;\n    var args = [];\n\n    for (var j = 0; j < arg_count; j++) {\n      var arg = commands[i];\n      i++;\n      args.push(arg);\n    }\n\n    var is_last_item = 0 | i == commands.length;\n    var peek = layout_peek();\n    var head_renderer = void 0;\n    var tail_renderer = void 0;\n\n    if (peek.mode == _vertical) {\n      head_renderer = uidraw.checkbutton_soft_top;\n      tail_renderer = uidraw.checkbutton_soft_bottom;\n    } else if (peek.mode == _horizontal) {\n      head_renderer = uidraw.checkbutton_soft_left;\n      tail_renderer = uidraw.checkbutton_soft_right;\n    } else {\n      head_renderer = fn;\n      tail_renderer = fn;\n    }\n\n    if (is_first_item) {\n      head_renderer.apply(null, args);\n    } else if (is_last_item) {\n      tail_renderer.apply(null, args);\n    } else {\n      fn.apply(null, args);\n    }\n  }\n}\n\nfunction group_buttons_end() {\n  var o = group_buttons_stack.pop();\n  execute_commands(o.commands);\n  o.commands.length = 0; // i guess this assumes super-smart browser array implementation    \n\n  console.assert(o);\n}\n\nfunction angled_norm_line(rad, scale) {\n  var x = Math.sin(rad) * scale;\n  var y = Math.cos(rad) * scale;\n  return Point(x, y);\n} // https://stackoverflow.com/questions/32617798/how-to-detect-a-browsers-layout-engine-in-javascript\n\n\nfunction is_browser_gecko() {\n  if (navigator.userAgent.search(/trident/i) > 0) {//Internet Explorer\n  } else if (navigator.userAgent.search(/webkit/i) > 0) {//Chrome, Safari\n  } else if (navigator.userAgent.search(/gecko/i) > 0) {\n    return true; // must be last condition, since 'gecko' may be included in above engine userAgents for weird reasons\n  }\n\n  return false;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui.js?");

/***/ }),

/***/ "./src/simpleui_app_audio1.js":
/*!************************************!*\
  !*** ./src/simpleui_app_audio1.js ***!
  \************************************/
/*! exports provided: do_app_audio */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_audio\", function() { return do_app_audio; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_app_colorpick_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_app_colorpick.js */ \"./src/simpleui_app_colorpick.js\");\n/* harmony import */ var _simpleui_app_dial_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_app_dial.js */ \"./src/simpleui_app_dial.js\");\n/* harmony import */ var _simpleui_ex_tabbed_pane_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./simpleui_ex_tabbed_pane.js */ \"./src/simpleui_ex_tabbed_pane.js\");\n// todo:\n// text uppercase measurement is using lowercase?\n// text color\n// garbage collection trim\n// song support, tracks, copy patterns, associate instruments\n\n\n\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar Color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar Point = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Point\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar Rectangle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Rectangle\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar make_css_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"];\nvar _tone_panel = {\n  context: null,\n  tone_point: Point(200, 200),\n  freq_range: 1200,\n  osc1: null,\n  osc1_started: 0 | false,\n  osc1_type_index: 0,\n  osc_types: ['sine', 'square', 'sawtooth', 'triangle'],\n  volume: 0 | 5,\n  // [0-100]\n  gain1: null,\n  analyser1: null,\n  analyser1_times: null,\n  analyser1_freqs: null,\n  throttle: 50,\n  conv1: null,\n  source1: null,\n  sound_playing: 0 | false,\n  play_file_requested: 0 | false,\n  play_file_request_time: null,\n  play_pending: 0 | false,\n  play_buffer: null\n};\n\nfunction load_and_play(url) {\n  if (_tone_panel.play_file_requested) {//return;            \n  } else {\n    _tone_panel.play_file_requested = 0 | true;\n    _tone_panel.play_file_request_time = Date.now();\n    window.fetch(url).then(function (response) {\n      return response.arrayBuffer();\n    }).then(function (array_buffer) {\n      return _tone_panel.context.decodeAudioData(array_buffer);\n    }).then(function (audio_buffer) {\n      _tone_panel.play_pending = 0 | true;\n      _tone_panel.play_buffer = audio_buffer;\n    }); //return;\n  }\n}\n\nfunction play() {\n  if (!_tone_panel.play_buffer) {\n    load_and_play('Yodel_Sound_Effect.mp3');\n  } else {\n    console.assert(_tone_panel.play_buffer); // a source object can only be .start()'ed once\n    // so you have to make one every time you want to play a sound\n\n    _tone_panel.source1 = _tone_panel.context.createBufferSource();\n    _tone_panel.source1.buffer = _tone_panel.play_buffer;\n    _tone_panel.play_pending = 0 | false;\n    _tone_panel.gain1.gain.value = get_tone_volume();\n\n    _tone_panel.source1.connect(_tone_panel.analyser1);\n\n    _tone_panel.analyser1.connect(_tone_panel.gain1);\n\n    _tone_panel.gain1.connect(_tone_panel.context.destination);\n\n    _tone_panel.source1.start(); // cannot call this more than once per source object, yadoink\n\n\n    _tone_panel.sound_playing = 0 | true;\n  }\n}\n\nfunction get_tone_volume() {\n  var volume2 = _tone_panel.tone_point.y / _tone_panel.freq_range;\n  var final_volume = _tone_panel.volume / 100 * volume2;\n  return final_volume;\n}\n\nfunction set_tempo_index(value) {\n  _trix_panel.tempo_index = value;\n  _trix_panel.wait = _trix_panel.tempo[_trix_panel.tempo_index];\n}\n\nfunction start_tone() {\n  //console.log('[start_tone]');\n  var frequency = _tone_panel.tone_point.x;\n  var osc1_type = _tone_panel.osc_types[_tone_panel.osc1_type_index]; // i guess i need this for now?\n\n  if (_tone_panel.osc1_started) {\n    _tone_panel.osc1.stop();\n\n    _tone_panel.osc1_started = 0 | false;\n  }\n\n  _tone_panel.osc1 = _tone_panel.context.createOscillator();\n  _tone_panel.osc1.type = osc1_type;\n  _tone_panel.osc1.frequency.value = frequency;\n  _tone_panel.gain1.gain.value = get_tone_volume(); // hmph, connecting things correctly matters xd\n\n  _tone_panel.osc1.connect(_tone_panel.analyser1);\n\n  _tone_panel.analyser1.connect(_tone_panel.gain1);\n\n  _tone_panel.gain1.connect(_tone_panel.context.destination);\n\n  _tone_panel.osc1.start(0);\n\n  _tone_panel.osc1_started = 0 | true;\n}\n\nfunction stop_tone() {\n  if (_tone_panel.osc1_started) {\n    _tone_panel.osc1.stop(0);\n  }\n\n  _tone_panel.osc1_started = 0 | false;\n}\n\nvar start_tone_limited = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"throttle\"](start_tone, _tone_panel.throttle);\n\nfunction reset_tone() {\n  start_tone_limited = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"throttle\"](start_tone, _tone_panel.throttle);\n\n  if (_tone_panel.osc1_started) {\n    stop_tone();\n    start_tone_limited();\n  }\n}\n\nfunction sample_tone_analyser() {\n  _tone_panel.analyser1.getByteFrequencyData(_tone_panel.analyser1_freqs);\n\n  _tone_panel.analyser1.getByteTimeDomainData(_tone_panel.analyser1_times);\n}\n\nfunction sample_trix_analyser() {\n  _trix_panel.analyser.getByteFrequencyData(_trix_panel.analyser_freqs);\n\n  _trix_panel.analyser.getByteTimeDomainData(_trix_panel.analyser_times);\n}\n\nfunction do_analyser_graph(uiid, local_rect, data1, data2, color1, color2) {\n  color1 = color1 || _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"];\n  color2 = color2 || _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var x = rect.x;\n  var y = rect.y;\n  var w = rect.w;\n  var h = rect.h;\n\n  if (data1.length == 0 || data2.length == 0) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](w, h);\n    return;\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](make_css_color(color1));\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  var irange = data1.length;\n  var vrange = 255;\n\n  for (var i = 0; i < irange; i++) {\n    var v = 0 | data1[i];\n    /*const xpos = 0 | (i / irange) * w;\r\n    const ypos = 0 | (v / vrange) * h;\r\n    uidraw.move_to(0 | x + xpos, 0 | y + h);\r\n    uidraw.line_to(0 | x + xpos, 0 | y + h - ypos);*/\n\n    var xpos = i / irange * w;\n    var ypos = v / vrange * h;\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x + xpos, 0 | y + h);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x + xpos, 0 | y + h - ypos);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](make_css_color(color2));\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  irange = data2.length;\n  vrange = 255; // later: just get data as floats and can remove this\n\n  var ypos_start = data2[0] / vrange * h;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x, y + ypos_start);\n\n  for (var _i = 1; _i < irange; _i++) {\n    var _v = 0 | data2[_i];\n\n    var _xpos = 0 | _i / irange * w;\n\n    var _ypos = 0 | _v / vrange * h;\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x + _xpos + 2, y + _ypos);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](w, h);\n}\n\nfunction do_tone_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var _changed = 0 | false;\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-volume', Rectangle(0, 0, 200, 20), 0, 100, _tone_panel.volume, '');\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume', Rectangle(0, 0, 200, 20));\n\n      if (_.changed) {\n        _tone_panel.volume = _.value;\n        reset_tone();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-throttle', Rectangle(0, 0, 200, 20), 0, 1000, _tone_panel.throttle, '');\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('throttle', Rectangle(0, 0, 200, 20));\n\n      if (_.changed) {\n        _tone_panel.throttle = _.value;\n        reset_tone();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n      for (var i = 0; i < _tone_panel.osc_types.length; i++) {\n        var iter_type = _tone_panel.osc_types[i];\n        var osc1_type = _tone_panel.osc_types[_tone_panel.osc1_type_index];\n        var is_checked = iter_type == osc1_type;\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-osc_type_button-' + iter_type, iter_type, Rectangle(0, 0, 80, 24), is_checked);\n\n        if (_.changed && _.value) {\n          _tone_panel.osc1_type_index = i; // dont relay change for osc1 type change unless currently playing\n\n          _changed = 0 | _tone_panel.osc1_started;\n        }\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _ = do_slider2d(uiid + '-slider2d', Rectangle(0, 0, 400, 400), 0, _tone_panel.freq_range, _tone_panel.tone_point);\n\n    if (_.changed) {\n      // these two lines are bad, slider2d should return what i need instead\n      // _[_]\n      var bg_uiid = uiid + '-slider2d-bg';\n      var item_went_down = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == bg_uiid;\n\n      if (item_went_down || _tone_panel.tone_point.x != _.x1 || _tone_panel.tone_point.y != _.y1) {\n        _tone_panel.tone_point.x = _.x1;\n        _tone_panel.tone_point.y = _.y1;\n        _changed = 0 | true;\n      }\n    }\n\n    if (_changed) {\n      start_tone_limited();\n    }\n\n    if (_tone_panel.analyser1 && _tone_panel.osc1_started || _tone_panel.sound_playing) {\n      sample_tone_analyser();\n      var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none, null, peek.x, peek.y - peek.padding * 2 - 100);\n      do_analyser_graph(uiid - '-graph', Rectangle(2, 0, 400 - 4, 100), _tone_panel.analyser1_freqs, _tone_panel.analyser1_times, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"], _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    } // show this when (requested) -and- (no buffer -or- buffer was fetched in less than 1 second)\n\n\n    if (_tone_panel.play_file_requested && (!_tone_panel.play_buffer || Date.now() - _tone_panel.play_file_request_time < 1000)) {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('audio file requested...', Rectangle(0, 0, 200, 24));\n    } else {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-button-yodel', 'play yodel mp3', Rectangle(0, 0, 200, 24));\n\n      if (_tone_panel.play_pending || _.clicked) {\n        //play(_tone_panel.source1);\n        play();\n      }\n    }\n\n    if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_up) {\n      // good use case for mouse_went_up, until we detect mouse changes out of browser\n      //const bg_uiid = uiid + '-slider2d-bg';\n      //if (ui.state.item_went_up == bg_uiid) {\n      start_tone_limited.cancel();\n      stop_tone();\n    }\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction do_message_panel(uiid, first_x, first_y, first_visible, first_expanded, message) {\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](message, Rectangle(0, 0, 200, 20));\n  }\n\n  do_panel_end(uiid);\n} // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\nvar freq = [1.6818, // a5   1\n1.5874, // gs5  2\n1.49831, // g5   3\n1.4142, // fs5  4\n1.3348, // f5   5\n1.2599, // e5   6\n1.1892, // ds5  7\n1.1225, // d5   8 \n1.0595, // cs5  9\n1.0, // c5   10 \n0.9439, // b4   11\n0.8909, // as4  12\n0.8409, // a4   13\n0.79370, // gs4  14\n0.7492, // g4   15\n0.7071, // fs4  16\n0.6674, // f4   17\n0.62996, // e4   18\n0.5946, // ds4  19\n0.5611, // d4   20\n0.5297, // cs4  21\n0.5, // c4   22\n0.47194, // b3   23\n0.44545, // as3  24\n0.42045, // a3   25\n0.39685, // gs3  26\n0.37458, // g3   27\n0.35355, // fs3  28\n0.3337, // f3   29\n0.31498, // e3   30\n0.2973, // ds3  31\n0.2806, // d3   32\n0.26487, // cs3  33\n0.25, // c3   34\n0.23597, // b2   35\n0.2272, // as2  36\n0.21022, // a2   37\n0.19843, // gs2  38\n0.18729, // g2   39\n0.17678, // fs2  40\n0.16685, // f2   41\n0.15749, // e2   42\n0.14865, // ds2  43\n0.1403, // d2   44\n0.13243, // cs2  45\n0.125 // c2   46\n];\nvar scales = []; // D pentatonic major\n// scale[1] = {\"a5\",\"fs5\",\"e5\",\"d5\",\"b4\",\"a4\",\"fs4\",\"e4\",\"d4\",\"b3\",\"a3\",\"fs3\",\"e3\",\"d3\",\"b2\",\"a2\"}\n\nscales[0] = [1, 4, 6, 8, 11, 13, 16, 18, 20, 23, 25, 28, 30, 32, 35, 37]; // D pentatonic minor\n// scale[2] = {\"d5\",\"c5\",\"a4\",\"g4\",\"f4\",\"d4\",\"c4\",\"a3\",\"g3\",\"f3\",\"d3\",\"c3\",\"a2\",\"g2\",\"f2\",\"d2\"}\n\nscales[1] = [8, 10, 13, 15, 17, 20, 22, 25, 27, 29, 32, 34, 37, 39, 41, 44]; // C major\n// scale[3] = {8\"c5\",\"b4\",\"a4\",\"g4\",\"f4\",\"e4\",\"d4\",\"c4\",\"b3\",\"a3\",\"g3\",\"f3\",\"e3\",\"d3\",\"c3\",\"b2\"}\n\nscales[2] = [10, 11, 13, 15, 17, 18, 20, 22, 23, 25, 27, 29, 30, 32, 34, 35]; // D blues minor\n// scale[4] = {\"d5\",\"c5\",\"a4\",\"g4\",\"e4\",\"ds4\",\"d4\",\"c4\",\"a3\",\"g3\",\"e3\",\"ds3\",\"d3\",\"c3\",\"a2\",\"g2\"}\n\nscales[3] = [8, 10, 13, 15, 18, 19, 20, 22, 25, 27, 30, 31, 32, 34, 37, 39]; // chromatic\n// scale[5] = {\"gs4\",\"g4\",\"fs4\",\"f4\",\"e4\",\"ds4\",\"d4\",\"cs4\",\"c4\",\"b3\",\"as3\",\"a3\",\"gs3\",\"g3\",\"fs3\",\"f3\"}\n\nscales[4] = [14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29]; // this pattern is called \"can you guys soul slide\"\n\nvar _trix_panel = {\n  initialized: 0 | false,\n  volume: 0 | 15,\n  // [0-100]\n  context: null,\n  compressor: null,\n  gain: null,\n  analyser: null,\n  analyser_times: null,\n  analyser_freqs: null,\n  play_node: null,\n  // this will point to wherever the end of our audio graph begins (the node samples will play on)\n  play: 0 | false,\n  //\n  biquad_types: ['lowpass', 'highpass', 'bandpass', 'lowshelf', 'highshelf', 'peaking', 'notch', 'allpass'],\n  shaper_oversample_types: ['none', '2x', '4x'],\n  // empty (use presets instead)\n  piano_grid: [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],\n  bass_grid: [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]],\n  misc_grid: [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],\n  //\n  instrument_names: ['piano', 'bass'],\n  //, 'fake_nolive'],\n  selected_instrument_index: 0,\n  piano: {\n    dest: null,\n    volume: 0 | 50,\n    // [0-100],\n    detune: 0,\n    gain: null,\n    convolver: null,\n    convolver_enabled: 0 | true,\n    biquad: null,\n    biquad_type_index: 0,\n    biquad_enabled: 0 | true,\n    shaper: null,\n    shaper_oversample_index: 2,\n    shaper_enabled: 0 | false,\n    panner: null\n  },\n  //\n  bass: {\n    dest: null,\n    volume: 0 | 80,\n    // [0-100],\n    detune: 0,\n    gain: null,\n    convolver: null,\n    convolver_enabled: 0 | false,\n    biquad: null,\n    biquad_type_index: 0,\n    biquad_enabled: 0 | false,\n    shaper: null,\n    shaper_oversample_index: 0,\n    shaper_enabled: 0 | false,\n    panner: null\n  },\n  //    \n  misc_dest: null,\n  misc_volume: 0 | 80,\n  // [0-100]\n  misc_gain: null,\n  //\n  time: 0,\n  wait: 0,\n  play_x: 0,\n  schedule_x: 0,\n  play_x_long: 0 | 0,\n  tempo: [],\n  tempo_index: 8,\n  scale_index: 0,\n  grid_edit_tools: ['+', '-'],\n  grid_edit_tool: 0,\n  schedule_notes_ahead: 3 // how many notes to schedule ahead-of-time while playing (to ensure precise note timing)\n\n};\nvar MIN_TEMPO = 0.5;\nvar MAX_TEMPO = 0.04;\n\nfor (var i = 0; i < 16; i++) {\n  _trix_panel.tempo[i] = MIN_TEMPO - i * ((MIN_TEMPO - MAX_TEMPO) / 16);\n}\n\nset_tempo_index(_trix_panel.tempo_index);\n/*\r\n> dbfs_to_gain(100)\r\n100000\r\n> dbfs_to_gain(0)\r\n1\r\n> dbfs_to_gain(0)\r\n1\r\n> dbfs_to_gain(-50)\r\n0.0031622776601683794\r\n> dbfs_to_gain(-100)\r\n0.00001\r\n*/\n\nfunction dbfs_to_gain(dbfs) {\n  return Math.pow(10, dbfs / 20);\n}\n/*\r\n> volume_to_gain(0)\r\n0.00001\r\n> volume_to_gain(100)\r\n1\r\n*/\n// todo: nolive: asdfasdfasdf... hjalp\n\n\nfunction volume_to_gain(volume) {\n  if (volume == 0) {\n    // i guess\n    return 0;\n  } // gain of 1 is ridiculously loud, idk\n\n\n  var gain = (Math.exp(volume / 100) - 1) / (Math.E - 1);\n  gain = gain / 4;\n  return gain; //const actual = dbfs_to_gain(-(100-volume));\n  //return actual;\n}\n\nfunction volume_to_gain_OLD(volume) {\n  var volume_float = volume / 100; // > (Math.exp(0.01)-1)/(Math.E-1)\n  // 0.005848963143130564\n\n  var gain = (Math.exp(volume_float) - 1) / (Math.E - 1);\n  return gain;\n} // col indicator\n\n\nfunction draw_col_indicator(rect, dilate1, dilate2, color1, color2) {\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, dilate1), color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, dilate2), color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n}\n\nvar _trix_grid_color1 = Color(36 + 18 + 9, 36 + 18 + 9, 36 + 18 + 9, 255);\n\nvar _trix_grid_color2 = Color(36 + 9 + 9, 36 + 9 + 9, 36 + 9 + 9, 255);\n\nvar _trix_grid_line_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n/** pass grid width, height (in cells), cell dim (in pixels), values (array of columns) */\n\n\nfunction draw_trix_grid(w, h, dim, values) {\n  // forwardport\n  var current_column = _trix_panel.play_x;\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, dim * w, dim * h)); //uidraw.rectangle(rect, uidraw.normal_back);\n  // alternating background\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect, _trix_grid_color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (1 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (3 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2); // main grid lines\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](_trix_grid_line_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n\n  for (var x = 1; x < w; x++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x * dim, rect.y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x * dim, rect.y + rect.h);\n  }\n\n  for (var y = 1; y < h; y++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x, rect.y + y * dim);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + rect.w, rect.y + y * dim);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // main outline\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](rect, _trix_grid_line_color);\n\n  for (var _x = 0; _x < w; _x++) {\n    for (var _y = 0; _y < h; _y++) {\n      var value = values[_x][_y];\n\n      if (value != 0 && value != -1) {\n        var color_on = void 0;\n\n        if (_x == current_column) {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n        } else {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n        }\n\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](Rectangle(rect.x + _x * dim + 1, rect.y + _y * dim + 1, dim - 2, dim - 2), color_on);\n      }\n    }\n  } // song_schedule_x indicator (debug)\n  //const column_rect2 = Rectangle(rect.x + (_trix_panel.song_schedule_x % 16) * dim, rect.y, dim, dim * h);\n  //draw_col_indicator(column_rect2, 3, 4, Color(0, 0, 0, 255), Color(255, 0, 0, 127));\n  // song_x indicator\n\n\n  var column_rect = Rectangle(rect.x + current_column * dim, rect.y, dim, dim * h);\n  draw_col_indicator(column_rect, 3, 2, Color(0, 0, 0, 255), Color(128, 128, 128, 255));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](dim * w, dim * h);\n}\n\nfunction do_trix_grid(uiid, w, h, dim, values) {\n  update_trix_grid(uiid, w, h, dim, values);\n  draw_trix_grid(w, h, dim, values);\n}\n\nfunction update_trix_grid(uiid, w, h, dim, values) {\n  var on_value = 1;\n  var off_value = 0;\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'previous_drag_x': null,\n      'previous_drag_y': null\n    });\n  }\n\n  ;\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"](); //const _ = logic_for_grid(state, uiid, peek.x, peek.y, w, h, dim);\n\n  var _ = Object(_simpleui_app_colorpick_js__WEBPACK_IMPORTED_MODULE_3__[\"logic_for_grid2\"])(state, uiid, peek.x, peek.y, w, h, dim); // const cell_clicked = _[0];\n  // const cell_dragged = _[1];\n  // const cell_clicked_right = _[2];\n  // const cell_dragged_right = _[3];\n  // const x = _[4];\n  // const y = _[5];\n\n\n  var cell_clicked = _[0];\n  var cell_dragged = _[1];\n  var cell_held = _[2];\n  var cell_clicked_right = _[3];\n  var cell_dragged_right = _[4];\n  var cell_held_right = _[5];\n  var x = _[6];\n  var y = _[7];\n\n  if (cell_dragged || cell_clicked) {\n    values[x][y] = 0 | on_value;\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n\n  if (cell_dragged_right || cell_clicked_right) {\n    values[x][y] = 0 | off_value;\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n}\n/*function logic_for_grid(state, uiid, ox, oy, w, h, dim) {\r\n    ui.add_hotspot(uiid, Rectangle(ox, oy, dim * w, dim * h));\r\n\r\n    const cell_clicked = ui.state.item_went_down == uiid;\r\n    const cell_clicked_right = ui.state.item_went_down_right == uiid;\r\n    \r\n    let x = 0 | (ui.state.mouselocation.x - ox) / dim;\r\n    let y = 0 | (ui.state.mouselocation.y - oy) / dim;\r\n\r\n    const cell_dragged = (\r\n        ui.state.item_held == uiid\r\n    ) && (\r\n        x >= 0 && x < w && y >= 0 && y < h\r\n    ) && (\r\n        state.previous_drag_x != x\r\n        || state.previous_drag_y != y\r\n    );\r\n\r\n    const cell_dragged_right = (\r\n        ui.state.item_held_right == uiid\r\n    ) && (\r\n        x >= 0 && x < w && y >= 0 && y < h\r\n    ) && (\r\n        state.previous_drag_x != x\r\n        || state.previous_drag_y != y\r\n    );\r\n\r\n    return [cell_clicked, cell_dragged, cell_clicked_right, cell_dragged_right, x, y];\r\n}*/\n\n\nfunction do_preset_buttons() {\n  var _;\n\n  var uiid = 'preset-buttons-';\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-a', 'a', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_a();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-b', 'b', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_b();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-c', 'c', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_c();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-d', 'd', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_d();\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-e', 'e', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_e();\n    }\n    /*_ = ui.button(uiid + 'button-f', 'f', Rectangle(0, 0, 40, 24))\r\n    if (_.clicked) {\r\n        load_preset_f();\r\n    }\r\n      _ = ui.button(uiid + 'button-g', 'g', Rectangle(0, 0, 40, 24))\r\n    if (_.clicked) {\r\n        load_preset_g();\r\n    }*/\n\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('presets', Rectangle(4, 0, 100, 24));\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_trix_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    var dim = 20;\n\n    if (false) {}\n\n    do_preset_buttons();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal); // play/pause/volume row      \n\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n      {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n        var buttons = ['pause', 'play'];\n\n        for (var i = 0; i < buttons.length; i++) {\n          var is_current = i == 1 && _trix_panel.play || i == 0 && !_trix_panel.play;\n          var button_text = buttons[i];\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-playpause-buttons-' + i, button_text, Rectangle(0, 0, 100, 24), is_current, 4, 2);\n\n          if (_.changed && _.value) {\n            if (i == 0) {\n              // reset playahead\n              _trix_panel.schedule_x = _trix_panel.play_x;\n              _trix_panel.play_x_long = _trix_panel.play_x;\n              _trix_panel.play = 0 | false;\n            } else {\n              _trix_panel.play = 0 | true;\n            }\n          }\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](140, 0);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        // master volume\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-volume', Rectangle(0, 0, 200, 24), 0, 100, _trix_panel.volume, '');\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume', Rectangle(4, 0, 100, 20));\n\n        if (_.changed) {\n          _trix_panel.volume = _.value;\n          _trix_panel.gain.gain.value = volume_to_gain(_.value);\n        }\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // play/pause/volume row      \n\n    /*ui.layout_push(_horizontal, -1);\r\n    ui.group_buttons_begin();\r\n    for (var i = 0; i < _trix_panel.grid_edit_tools.length; i++) {\r\n        const name = _trix_panel.grid_edit_tools[i];\r\n        const is_current = name == _trix_panel.grid_edit_tools[_trix_panel.grid_edit_tool];\r\n        _ = ui.checkbutton(uiid + '-grid_edit_tool-' + i + '-checkbutton', ' ' + name, Rectangle(0, 0, 30, 30), is_current);\r\n        if (_.changed && _.value) {\r\n            _trix_panel.grid_edit_tool = i;\r\n        }\r\n    }\r\n    ui.group_buttons_end();\r\n    ui.layout_pop();*/\n\n    var grid_w = dim * 16;\n    var grid_w_left = 0 | grid_w / 2;\n    var grid_w_right = grid_w - grid_w_left;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('piano:', Rectangle(0, 0, grid_w_left, 24));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-piano-volume', Rectangle(0, 12, grid_w_right, 12), 0, 100, _trix_panel.piano.volume, '');\n\n      if (_.changed) {\n        _trix_panel.piano.volume = _.value;\n        _trix_panel.piano.gain.gain.value = volume_to_gain(_.value);\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('bass:', Rectangle(20, 0, grid_w_left, 24));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-bass-volume', Rectangle(20, 12, grid_w_right, 12), 0, 100, _trix_panel.bass.volume, '');\n\n      if (_.changed) {\n        _trix_panel.bass.volume = _.value;\n        _trix_panel.bass.gain.gain.value = volume_to_gain(_.value);\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      do_trix_grid(uiid + '-piano-grid', 16, 16, dim, _trix_panel.piano_grid);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](20, 0);\n      do_trix_grid(uiid + '-bass-grid', 16, 16, dim, _trix_panel.bass_grid);\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('misc:', Rectangle(0, 0, 100, 24));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-misc-volume', Rectangle(60, 12, grid_w_right, 12), 0, 100, _trix_panel.misc_volume, '');\n\n      if (_.changed) {\n        _trix_panel.misc_volume = _.value;\n        _trix_panel.misc_gain.gain.value = volume_to_gain(_.value);\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal); // misc-grid row's container\n\n    {\n      do_trix_grid(uiid + '-misc-grid', 16, 4, dim, _trix_panel.misc_grid);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](20, 0);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, 0);\n      {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('tempo', Rectangle(0, 0, 200, dim));\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-tempo', Rectangle(0, 0, 200, 20), 0, _trix_panel.tempo.length - 1, _trix_panel.tempo_index, '');\n\n        if (_.changed) {\n          set_tempo_index(_.value);\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('scale', Rectangle(0, 0, 200, dim));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n        {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n          for (var i = 0; i < scales.length; i++) {\n            var _is_current = i == _trix_panel.scale_index;\n\n            var _button_text = i + '';\n\n            _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-scale-button-' + i, _button_text, Rectangle(0, 0, 40, dim), _is_current, 14, 0);\n\n            if (_.changed && _.value) {\n              _trix_panel.scale_index = i;\n            }\n          }\n\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n        }\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // right half or misc-grid row\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('( edit cells with left and right mouse drag )', Rectangle(0, 0, 100, 20));\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 20); // analyser graph        \n    //const graph_w = 512;\n\n    var graph_w = dim * 16 * 2 + 20;\n    var graph_h = 100;\n    sample_trix_analyser();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, graph_w, graph_h)), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n    do_analyser_graph(uiid - '-analyser-graph', Rectangle(2, 0, graph_w, graph_h), _trix_panel.analyser_freqs, _trix_panel.analyser_times);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 20);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-schedule-notes-ahead-slider', Rectangle(0, 0, 200, 20), 0, 8, _trix_panel.schedule_notes_ahead, '');\n\n      if (_.changed) {\n        _trix_panel.schedule_notes_ahead = _.value;\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('schedule ' + _trix_panel.schedule_notes_ahead + ' notes ahead', Rectangle(4, 0, 200, 20));\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); //-----------------------------------------------------------------------------------------\n\n    if (_trix_panel.play) {\n      trix_play();\n    }\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction load_convolver_sample() {\n  var impulseUrl = 'impulse.mp3';\n  var req = new XMLHttpRequest();\n  req.open('GET', impulseUrl, true);\n  req.responseType = 'arraybuffer';\n\n  req.onload = function () {\n    var impulseData = req.response;\n\n    _trix_panel.context.decodeAudioData(impulseData, function (buffer) {\n      _trix_panel.piano.convolver.buffer = buffer;\n      _trix_panel.piano.convolver.loop = false;\n      _trix_panel.piano.convolver.normalize = true;\n      connect_instrument('piano');\n      _trix_panel.bass.convolver.buffer = buffer;\n      _trix_panel.bass.convolver.loop = false;\n      _trix_panel.bass.convolver.normalize = true;\n      connect_instrument('bass');\n    }, function (e) {\n      \"Error decoding audio data\" + e.err;\n    });\n  };\n\n  req.send();\n}\n\nfunction trix_play_column(x, time) {\n  var scale = scales[_trix_panel.scale_index]; // all notes in col start play now\n\n  for (var y = 0; y < 16; y++) {\n    if (_trix_panel.piano_grid[x][y]) {\n      var piano_rate = freq[scale[y]];\n      play_sample('piano.ogg', _trix_panel.piano.dest, time, piano_rate, _trix_panel.piano.detune);\n    }\n\n    if (_trix_panel.bass_grid[x][y]) {\n      var bass_rate = freq[scale[y]];\n      play_sample('bass.ogg', _trix_panel.bass.dest, time, bass_rate, _trix_panel.bass.detune);\n    }\n  }\n\n  var misc_keys = ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg'];\n\n  for (var _y2 = 0; _y2 < 4; _y2++) {\n    if (_trix_panel.misc_grid[x][_y2]) {\n      var key = misc_keys[_y2];\n      play_sample(key, _trix_panel.misc_dest, time, 1);\n    }\n  }\n}\n\nfunction trix_play() {\n  var dt = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].dt / 1000;\n  _trix_panel.time = _trix_panel.time + dt;\n  var audio_time = _trix_panel.context.currentTime;\n  var do_next_column = _trix_panel.time >= _trix_panel.wait && _trix_panel.play == true;\n  var debug = 0 | false;\n\n  if (debug) {\n    _trix_panel.schedule_x = 13;\n    _trix_panel.play_x = 13;\n  }\n\n  if (do_next_column) {\n    if (debug) _trix_panel.play = 0 | false; // schedule up to 1 note now and 3 notes into the future\n    // 2nd note: schedule = 1, play = 4, should schedule fifth note, but with 4 waits not the 0 or 1 it will do\n    // so actual time isn't based on j, but on the delta between two x cursors\n    // time needs to be... (x - play_x)        \n\n    var schedule_x2 = _trix_panel.play_x_long + _trix_panel.schedule_notes_ahead;\n\n    while (_trix_panel.schedule_x <= schedule_x2) {\n      var delta = _trix_panel.schedule_x - _trix_panel.play_x_long;\n      var time_offset = delta * _trix_panel.wait; // 0 * wait = now, 1 * wait = next\n\n      var x = _trix_panel.schedule_x;\n      trix_play_column(x % 16, audio_time + time_offset);\n      _trix_panel.schedule_x += 1;\n    }\n    /*if (_trix_panel.schedule_x == 16) {\r\n        _trix_panel.schedule_x = 0;\r\n    } */\n    //_trix_panel.schedule_x = _trix_panel.schedule_x % 16;\n\n\n    _trix_panel.play_x += 1;\n\n    if (_trix_panel.play_x == 16) {\n      _trix_panel.play_x = 0;\n    }\n\n    _trix_panel.play_x_long = 0 | _trix_panel.play_x_long + 1;\n    _trix_panel.time = _trix_panel.time % _trix_panel.wait;\n  }\n}\n\nvar _fetched_audio = {};\n\nfunction fetch_audio(url) {\n  window.fetch(url).then(function (response) {\n    return response.arrayBuffer();\n  }).then(function (array_buffer) {\n    return _trix_panel.context.decodeAudioData(array_buffer);\n  }).then(function (audio_buffer) {\n    _fetched_audio[url] = audio_buffer;\n  });\n}\n\nfunction play_sample(key, output_node, time, rate, detune) {\n  detune = detune || 0; //console.assert(_fetched_audio[key]);\n  //console.log(key, time);\n\n  var source = _trix_panel.context.createBufferSource();\n\n  source.buffer = _fetched_audio[key];\n  source.playbackRate.value = rate;\n  source.detune.value = detune;\n  source.connect(output_node);\n  source.start(time);\n} // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\nfunction connect_instrument(name) {\n  /*\r\n  piano_shaper\r\n  piano_biquad\r\n  piano_panner\r\n  piano_convolver\r\n  piano_gain    \r\n  > compressor > master gain > analyser > (out)    \r\n  */\n  var o = _trix_panel[name]; //const keys = ['piano_convolver', 'piano_shaper', 'piano_biquad', 'piano_panner', 'piano_gain'];\n  //const keys = ['convolver', 'shaper', 'biquad', 'gain'];\n  //const keys = ['shaper', 'convolver', 'biquad', 'gain'];\n  // this is good\n  // const keys = ['shaper', 'biquad', 'convolver', 'gain'];\n  // but i wanna try moving convolver\n  // convolver before biquad sounds good\n  //const keys = ['shaper', 'convolver', 'biquad', 'gain'];\n  // i like convolver first and i think it makes more sense    \n\n  var keys = ['convolver', 'shaper', 'biquad', 'gain']; // v >0.4.1\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    o[key].disconnect();\n  }\n\n  var use_convolver = o.convolver_enabled && o.convolver.buffer;\n  var use_biquad = o.biquad_enabled;\n  var use_shaper = o.shaper_enabled; //console.log('connect_instrument', name);\n\n  var prev_key = null;\n\n  for (var i = 0; i < keys.length; i++) {\n    var _key = keys[i];\n    var do_connect = false;\n\n    if (_key == 'convolver') {\n      //console.log(name, 'use_convolver', use_convolver);\n      do_connect = use_convolver;\n    } else if (_key == 'biquad') {\n      //console.log(name, 'use_biquad', use_biquad);\n      do_connect = use_biquad;\n    } else if (_key == 'shaper') {\n      //console.log(name, 'use_shaper', use_shaper);\n      do_connect = use_shaper;\n    } else {\n      do_connect = true;\n    }\n\n    if (do_connect) {\n      if (prev_key == null) {\n        // first connection is sample destination\n        o.dest = o[_key];\n      } else {\n        // subsequent connects\n        o[prev_key].connect(o[_key]);\n      }\n\n      prev_key = _key;\n    }\n  } // connect back to system\n\n\n  var end_key = keys[keys.length - 1];\n  o[end_key].connect(_trix_panel.play_node);\n}\n\nfunction connect_misc() {\n  _trix_panel.misc_gain.connect(_trix_panel.play_node);\n\n  _trix_panel.misc_dest = _trix_panel.misc_gain;\n}\n\nfunction dbToY(db, height, pixelsPerDb) {\n  var y = 0.5 * height - pixelsPerDb * db;\n  return y;\n}\n\nfunction draw_biquad_filter(filter, local_rect) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var width = rect.w;\n  var height = rect.h;\n  var line_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(180, 0, 40, 255));\n  var grid_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(100, 100, 100, 255));\n  var text_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(255, 255, 255, 255));\n  var dbScale = 60;\n  var pixelsPerDb = 0.5 * height / dbScale;\n  var noctaves = 11;\n  var frequencyHz = new Float32Array(width);\n  var magResponse = new Float32Array(width);\n  var phaseResponse = new Float32Array(width);\n  var nyquist = 0.5 * _trix_panel.context.sampleRate; // First get response.\n\n  for (var i = 0; i < width; ++i) {\n    var f = i / width; // Convert to log frequency scale (octaves).\n\n    f = nyquist * Math.pow(2.0, noctaves * (f - 1.0));\n    frequencyHz[i] = f;\n  }\n\n  filter.getFrequencyResponse(frequencyHz, magResponse, phaseResponse); // grid\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](grid_color);\n\n  for (var octave = 0; octave <= noctaves; octave++) {\n    var _x2 = octave * width / noctaves;\n\n    var px = 0 | rect.x + _x2; //if (px % 2 == 0) px += 0.5;\n\n    var py1 = 0 | rect.y + 33; //33;\n    //if (py1 % 2 == 0) py1 += 0.5;\n\n    var py2 = 0 | rect.y + height; //if (py2 % 2 == 0) py2 += 0.5;\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](px, py1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](px + 0.5, py2 + 0.5);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // labels\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](text_color);\n\n  for (var _octave = 1; _octave <= noctaves; _octave += 2) {\n    var _x3 = _octave * width / noctaves;\n\n    var _f = nyquist * Math.pow(2.0, _octave - noctaves);\n\n    var value = _f.toFixed(0); //let unit = 'Hz';\n\n\n    var unit = '';\n\n    if (_f > 1000) {\n      //unit = 'KHz';\n      unit = 'K';\n      value = (_f / 1000).toFixed(1);\n    }\n\n    var y_offset = height;\n\n    if (_octave % 2 == 0) {\n      y_offset = 20;\n    } //uidraw.text(value + unit, rect.x + x - 40, rect.y + 14 + y_offset, Color(255,255,255,255));        \n\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // Draw 0dB line.\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + 0, rect.y + 0.5 * height);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + width, rect.y + 0.5 * height);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"](); // Draw decibel scale.    \n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](text_color);\n\n  for (var db = -dbScale; db < dbScale - 10; db += 10) {\n    var _y3 = dbToY(db, height, pixelsPerDb); //uidraw.text(db.toFixed(0) + \"dB\", rect.x + width - 40, rect.y + y);\n\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](grid_color);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + 0, rect.y + _y3);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + width, rect.y + _y3);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // redline\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_clip\"](rect);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](line_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](3);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x, rect.y);\n\n  for (var i = 0; i < width; ++i) {\n    var f = magResponse[i];\n    var response = magResponse[i];\n    var dbResponse = 20.0 * Math.log(response) / Math.LN10;\n    var x = i;\n    var y = dbToY(dbResponse, height, pixelsPerDb);\n    if (i == 0) _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x, rect.y + y);else _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x, rect.y + y);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"end_clip\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](rect);\n}\n\nfunction instrument_set_biquad_type(o, type_index) {\n  o.biquad_type_index = type_index;\n  o.biquad.type = _trix_panel.biquad_types[type_index];\n}\n\nfunction instrument_set_volume(o, value) {\n  o.volume = value;\n  o.gain.gain.value = volume_to_gain(value);\n}\n\nfunction do_instrument_edit(instrument_index) {\n  var _;\n\n  var uiid = '---instrument-edit-' + instrument_index;\n  var name = _trix_panel.instrument_names[instrument_index];\n  var o = _trix_panel[name];\n  var pad_dial_x = 16;\n  var pad_dial_x_half = 8;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    //_ = ui.checkbutton(uiid + '-' + name + '-convolver-checkbox', 'reverb', Rectangle(0, 0, 100, 24), o.convolver_enabled);\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-' + name + '-convolver-checkbox', RectangleP(0, 0, 24, 24), o.convolver_enabled);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('reverb', RectangleP(4, 0, 100, 20));\n\n    if (_.changed) {\n      o.convolver_enabled = _.value;\n      connect_instrument(name);\n    } //_ = ui.checkbutton(uiid + '-' + name + '-shaper-checkbox', 'shaper', Rectangle(0, 0, 100, 24), o.shaper_enabled);\n\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-' + name + '-shaper-checkbox', RectangleP(0, 0, 24, 24), o.shaper_enabled);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('shaper', RectangleP(4, 0, 100, 20));\n\n    if (_.changed) {\n      o.shaper_enabled = _.value;\n      connect_instrument(name);\n    } //_ = ui.checkbutton(uiid + '-' + name + '-biquad-checkbox', 'biquad', Rectangle(0, 0, 100, 24), o.biquad_enabled);\n\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-' + name + '-biquad-checkbox', RectangleP(0, 0, 24, 24), o.biquad_enabled);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('biquad', RectangleP(4, 0, 100, 20));\n\n    if (_.changed) {\n      o.biquad_enabled = _.value;\n      connect_instrument(name);\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('source', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n\n  if (false) {}\n\n  var dial_dim = 64;\n  var dial_rect = RectangleP(0, 0, dial_dim, dial_dim);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](pad_dial_x_half, 0);\n    _ = do_dial_ex(uiid + '-' + name + '-volume', dial_rect, 0, 100, o.volume, 'volume', o.volume + '', dial_dim);\n\n    if (_.changed) {\n      instrument_set_volume(o, _.value);\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](pad_dial_x, 0);\n    _ = do_dial_ex(uiid + '-' + name + '-detune', dial_rect, -1200, 1200, o.detune, 'detune', o.detune + '', dial_dim);\n\n    if (_.changed) {\n      o.detune = _.value;\n    }\n  } // horizontal source dials\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('biquad filter', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    // biquad dials        \n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](pad_dial_x_half, 0);\n    _ = do_dial_ex(uiid + '-biquad-frequency-dial', dial_rect, 0, 8000, o.biquad.frequency.value, 'freq', o.biquad.frequency.value + '', dial_dim);\n\n    if (_.changed) {\n      o.biquad.frequency.value = _.value;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](pad_dial_x, 0);\n    _ = do_dial_ex(uiid + '-biquad-detune-dial', dial_rect, -1200, 1200, o.biquad.detune.value, 'detune', o.biquad.detune.value + '', dial_dim);\n\n    if (_.changed) {\n      o.biquad.detune.value = _.value;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](pad_dial_x, 0);\n    _ = do_dial_ex(uiid + '-biquad-qfactor-dial', dial_rect, -100, 100, o.biquad.Q.value, 'q factor', o.biquad.Q.value + '', dial_dim);\n\n    if (_.changed) {\n      o.biquad.Q.value = _.value;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](pad_dial_x, 0);\n    _ = do_dial_ex(uiid + '-biquad-gain-dial', dial_rect, -50, 50, o.biquad.gain.value, 'gain', o.biquad.gain.value + '', dial_dim);\n\n    if (_.changed) {\n      o.biquad.gain.value = _.value;\n    }\n  } // biquad dials\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('type', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-type-index', Rectangle(0, 0, 200, 20), 0, _trix_panel.biquad_types.length - 1, o.biquad_type_index, '');\n\n  if (_.changed) {\n    instrument_set_biquad_type(o, _.value);\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](_trix_panel.biquad_types[o.biquad_type_index], Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  draw_biquad_filter(o.biquad, Rectangle(0, 0, 400, 200)); // shaper\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('shaper', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('oversample', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-shaper-oversample-index', Rectangle(0, 0, 200, 20), 0, _trix_panel.shaper_oversample_types.length - 1, o.shaper_oversample_index, '');\n\n  if (_.changed) {\n    o.shaper_oversample_index = _.value;\n    o.shaper.oversample = _trix_panel.shaper_oversample_types[o.shaper_oversample_index];\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](_trix_panel.shaper_oversample_types[o.shaper_oversample_index], Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_instrument_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _; // this uiid is for panel_begin (probably need to rename functions like this (run_instrument_panel or w/e idk))\n\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    if (false) {} else {\n      var uiid_tabbed_pane = uiid + '-instrument-tabbed-pane';\n      var rect_tabbed_pane = RectangleP(0, 0, 187, 20); // nolive 187\n\n      _ = Object(_simpleui_ex_tabbed_pane_js__WEBPACK_IMPORTED_MODULE_5__[\"do_tabbed_pane_begin\"])(uiid_tabbed_pane, rect_tabbed_pane, _trix_panel.instrument_names, _trix_panel.selected_instrument_index);\n\n      if (_.changed) {\n        _trix_panel.selected_instrument_index = _.value;\n      }\n\n      if (_trix_panel.selected_instrument_index == 2) {\n        // nolive           \n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](700, 700); // nolive\n      } else {\n        var padding_x = 20;\n        var padding_y = padding_x;\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](padding_x, 0);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, padding_y);\n        do_instrument_edit(_trix_panel.selected_instrument_index);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, padding_y);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](padding_x, 0);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      }\n\n      Object(_simpleui_ex_tabbed_pane_js__WEBPACK_IMPORTED_MODULE_5__[\"do_tabbed_pane_end\"])();\n    }\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction makeDistortionCurve(amount) {\n  // copied\n  var k = typeof amount === 'number' ? amount : 50,\n      n_samples = 44100,\n      curve = new Float32Array(n_samples),\n      deg = Math.PI / 180,\n      i = 0,\n      x;\n\n  for (; i < n_samples; ++i) {\n    x = i * 2 / n_samples - 1;\n    curve[i] = (3 + k) * x * 20 * deg / (Math.PI + k * Math.abs(x));\n  }\n\n  return curve;\n}\n\n;\n\nfunction do_app_audio() {\n  var row_x0 = 222;\n  var row_y0 = 47;\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n\n  if (_tone_panel.context) {\n    do_trix_panel('trix panel', row_x0, row_y0, true, expanded);\n    do_instrument_panel('instrument panel', row_x0 + 727, row_y0, true, expanded);\n    do_tone_panel('tone panel', row_x0 + 727 + 467 + 40 + 6, row_y0, true, false && false);\n  } else {\n    if (AudioContext) {\n      _tone_panel.context = new AudioContext();\n      _tone_panel.gain1 = _tone_panel.context.createGain();\n      _tone_panel.analyser1 = _tone_panel.context.createAnalyser();\n      _tone_panel.analyser1.fftSize = 512;\n      _tone_panel.analyser1_times = new Uint8Array(_tone_panel.analyser1.frequencyBinCount);\n      _tone_panel.analyser1_freqs = new Uint8Array(_tone_panel.analyser1.frequencyBinCount); // standard\n\n      _trix_panel.context = new AudioContext();\n      _trix_panel.gain = _trix_panel.context.createGain();\n      _trix_panel.gain.gain.value = volume_to_gain(_trix_panel.volume);\n      _trix_panel.compressor = _trix_panel.context.createDynamicsCompressor();\n      _trix_panel.analyser = _trix_panel.context.createAnalyser();\n      _trix_panel.analyser.fftSize = 512;\n      _trix_panel.analyser_times = new Uint8Array(_trix_panel.analyser.frequencyBinCount);\n      _trix_panel.analyser_freqs = new Uint8Array(_trix_panel.analyser.frequencyBinCount); // piano init\n\n      _trix_panel.piano.gain = _trix_panel.context.createGain();\n      _trix_panel.piano.gain.gain.value = volume_to_gain(_trix_panel.piano.volume);\n      _trix_panel.piano.convolver = _trix_panel.context.createConvolver();\n      _trix_panel.piano.biquad = _trix_panel.context.createBiquadFilter();\n      instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n      _trix_panel.piano.shaper = _trix_panel.context.createWaveShaper();\n      _trix_panel.piano.shaper.curve = makeDistortionCurve(400);\n      _trix_panel.piano.shaper_oversample_index = 2;\n      _trix_panel.piano.shaper.oversample = _trix_panel.shaper_oversample_types[_trix_panel.bass.shaper_oversample_index];\n      _trix_panel.piano.panner = _trix_panel.context.createStereoPanner(); // bass init\n\n      _trix_panel.bass.gain = _trix_panel.context.createGain();\n      _trix_panel.bass.gain.gain.value = volume_to_gain(_trix_panel.bass.volume);\n      _trix_panel.bass.convolver = _trix_panel.context.createConvolver();\n      _trix_panel.bass.biquad = _trix_panel.context.createBiquadFilter();\n      instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n      _trix_panel.bass.shaper = _trix_panel.context.createWaveShaper();\n      _trix_panel.bass.shaper.curve = makeDistortionCurve(400);\n      _trix_panel.bass.shaper_oversample_index = 0;\n      _trix_panel.bass.shaper.oversample = _trix_panel.shaper_oversample_types[_trix_panel.bass.shaper_oversample_index];\n      _trix_panel.bass.panner = _trix_panel.context.createStereoPanner(); // misc init\n\n      _trix_panel.misc_gain = _trix_panel.context.createGain();\n      _trix_panel.misc_gain.gain.value = volume_to_gain(_trix_panel.misc_volume); // end (should start on play_node)\n      // v <= 0.4.1:\n      //_trix_panel.gain.connect(_trix_panel.compressor);\n      //_trix_panel.compressor.connect(_trix_panel.analyser);\n      // v > 0.4.1:            \n      // https://www.softube.com/index.php?id=eq_before_compressor\n      // \" Placing an EQ before a compressor can have the effect of exaggerating the applied EQ, due to a phenomenon similar to the psychoacoustic effect known as \"frequency masking\". \"\n      // ( gain will give similar problem as eq )\n\n      _trix_panel.play_node = _trix_panel.compressor;\n\n      _trix_panel.compressor.connect(_trix_panel.gain);\n\n      _trix_panel.gain.connect(_trix_panel.analyser);\n\n      _trix_panel.analyser.connect(_trix_panel.context.destination); // later: a 2nd analyser before compressor, drawn in red (freqs only), to show pre-compress\n\n\n      load_preset_a();\n      load_convolver_sample();\n      var audio_files = ['piano.ogg', 'bass.ogg', 'kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg'];\n\n      for (var _i2 = 0; _i2 < audio_files.length; _i2++) {\n        fetch_audio(audio_files[_i2]);\n      }\n    } else {\n      do_message_panel('audio error', row_x0, row_y0, true, true, 'AudioContext unavailable.');\n    }\n  }\n}\n\nfunction reconnect_instruments() {\n  connect_instrument('piano');\n  connect_instrument('bass');\n  connect_misc();\n}\n\nfunction load_preset_a() {\n  // 'canyouguyssoulslide'\n  _trix_panel.piano_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n  _trix_panel.piano.biquad.frequency.value = 1000;\n  _trix_panel.piano.biquad.detune.value = 0;\n  _trix_panel.piano.biquad.gain.value = 10;\n  _trix_panel.piano.biquad.Q.value = 10; // no bass biquad\n\n  var _piano = {\n    \"volume\": 50,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 80,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  _trix_panel.misc_volume = 80;\n  set_tempo_index(8);\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\nfunction load_preset_b() {\n  // 'idontknowhowtocode'\n  _trix_panel.piano_grid = [[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n  _trix_panel.piano.biquad.frequency.value = 3320;\n  _trix_panel.piano.biquad.detune.value = 480;\n  _trix_panel.piano.biquad.gain.value = 18;\n  _trix_panel.piano.biquad.Q.value = 33;\n  _trix_panel.bass.biquad.frequency.value = 350;\n  _trix_panel.bass.biquad.detune.value = 192;\n  _trix_panel.bass.biquad.gain.value = 0;\n  _trix_panel.bass.biquad.Q.value = 1;\n  var _piano = {\n    \"volume\": 50,\n    \"detune\": 1200,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 50,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  _trix_panel.misc_volume = 80;\n  set_tempo_index(8);\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\nfunction load_preset_c() {\n  // 'washedupoxygenthief'\n  //_trix_panel.piano_grid = [[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0]];   \n  _trix_panel.piano_grid = [[0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0]];\n  _trix_panel.piano.biquad.frequency.value = 1000;\n  _trix_panel.piano.biquad.detune.value = -444;\n  _trix_panel.piano.biquad.gain.value = 4;\n  _trix_panel.piano.biquad.Q.value = 0;\n  _trix_panel.bass.biquad.frequency.value = 350;\n  _trix_panel.bass.biquad.detune.value = 0;\n  _trix_panel.bass.biquad.gain.value = 8;\n  _trix_panel.bass.biquad.Q.value = 1;\n  var _piano = {\n    \"volume\": 50,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 1\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 50,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  _trix_panel.misc_volume = 80;\n  set_tempo_index(8);\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\nfunction load_preset_d() {\n  _trix_panel.piano_grid = [[0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[0, 1, 0, 0], [1, 0, 1, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 0, 1, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [1, 0, 1, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 0, 1, 0], [1, 0, 0, 0], [0, 0, 1, 0]];\n  _trix_panel.piano.biquad.frequency.value = 1000;\n  _trix_panel.piano.biquad.detune.value = -444;\n  _trix_panel.piano.biquad.gain.value = 10;\n  _trix_panel.piano.biquad.Q.value = 10; // no bass biquad\n\n  var _piano = {\n    \"volume\": 39,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  _trix_panel.misc_volume = 60;\n  set_tempo_index(8);\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\nfunction load_preset_e() {\n  _trix_panel.piano_grid = [[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[1, 0, 0, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1], [0, 0, 1, 0], [1, 0, 0, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1], [0, 0, 1, 0]];\n  _trix_panel.piano.biquad.frequency.value = 3320;\n  _trix_panel.piano.biquad.detune.value = 480;\n  _trix_panel.piano.biquad.Q.value = 33;\n  _trix_panel.piano.biquad.gain.value = 18;\n  _trix_panel.bass.biquad.frequency.value = 350;\n  _trix_panel.bass.biquad.detune.value = 192;\n  _trix_panel.bass.biquad.Q.value = 1;\n  _trix_panel.bass.biquad.gain.value = 0;\n  var _piano = {\n    \"volume\": 50,\n    \"detune\": 1200,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 1\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 80,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  _trix_panel.misc_volume = 100;\n  set_tempo_index(8);\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\nfunction load_preset_f() {\n  _trix_panel.piano_grid = [[0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[0, 0, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 1, 1, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 1, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n  _trix_panel.piano.biquad.frequency.value = 2400;\n  _trix_panel.piano.biquad.detune.value = 0;\n  _trix_panel.piano.biquad.gain.value = 0;\n  _trix_panel.piano.biquad.Q.value = 0; // no bass biquad\n\n  var _piano = {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 1\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 80,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  _trix_panel.misc_volume = 60;\n  set_tempo_index(8);\n  /*const _misc = {\r\n      volume: 100, biquad_type_index: 0, shaper_oversample_index: 2, convolver_enabled: 0, biquad_enabled: 0,\r\n      row_sample_keys: ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg']\r\n  }*/\n\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\nfunction load_preset_g() {\n  _trix_panel.piano_grid = [[0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.bass_grid = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  _trix_panel.misc_grid = [[0, 0, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 1, 1, 0], [0, 0, 0, 0]];\n  _trix_panel.piano.biquad.frequency.value = 2400;\n  _trix_panel.piano.biquad.detune.value = 0;\n  _trix_panel.piano.biquad.gain.value = 0;\n  _trix_panel.piano.biquad.Q.value = 0; // no bass biquad\n\n  var _piano = {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 1\n  };\n  Object.assign(_trix_panel.piano, _piano);\n  var _bass = {\n    \"volume\": 80,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  };\n  Object.assign(_trix_panel.bass, _bass);\n  _trix_panel.misc_volume = 60;\n  set_tempo_index(8);\n  instrument_set_volume(_trix_panel.piano, _trix_panel.piano.volume);\n  instrument_set_biquad_type(_trix_panel.piano, _trix_panel.piano.biquad_type_index);\n  instrument_set_volume(_trix_panel.bass, _trix_panel.bass.volume);\n  instrument_set_biquad_type(_trix_panel.bass, _trix_panel.bass.biquad_type_index);\n  reconnect_instruments();\n}\n\nfunction do_dial_ex(uiid, rect, min, max, value, name_text, value_text, dial_width) {\n  var name_offset_y = -4;\n  var value_offset_y = -8; // nolive: sensitivity auto-calc for better ux, probably make this part of standard control instead of the original way\n\n  var range = max - min;\n  var sensitivity = range / 256;\n\n  var _;\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n  {\n    var do_label_centered = function do_label_centered(text, local_rect) {\n      //uidraw.rectangle_outline(ui.layout_translated(local_rect), [255,255,0,255]);\n      var text_width = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"get_text_width\"](text);\n      var offset_x = Math.round((local_rect.w - text_width) / 2);\n      var centered_rect = RectangleP(local_rect.x + offset_x, local_rect.y, text_width, local_rect.h); //uidraw.rectangle(ui.layout_translated(centered_rect), [255,255,0,128]);\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](text, centered_rect);\n    };\n\n    _ = Object(_simpleui_app_dial_js__WEBPACK_IMPORTED_MODULE_4__[\"do_dial\"])(uiid, rect, min, max, value, sensitivity);\n    var name_rect = RectangleP(0, name_offset_y, dial_width, 20);\n    do_label_centered(name_text, name_rect);\n    var value_rect = RectangleP(0, value_offset_y, dial_width, 20);\n    do_label_centered(value_text, value_rect);\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  return _;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_audio1.js?");

/***/ }),

/***/ "./src/simpleui_app_audio2.js":
/*!************************************!*\
  !*** ./src/simpleui_app_audio2.js ***!
  \************************************/
/*! exports provided: do_app_audio2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_audio2\", function() { return do_app_audio2; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n// todo:\n// text uppercase measurement is using lowercase?\n// text color\n// garbage collection trim\n// song support, tracks, copy patterns, associate instruments\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar Color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar Point = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Point\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar Rectangle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Rectangle\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar make_css_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"];\nvar _audio_files_by_key_a = {\n  //'piano': 'piano.ogg',    \n  //'piano': 'free_audio/Cymatics - Apex One Shots Vol 3/Cymatics - SYNTH Hypno - C.wav', // decent\n  //'piano': 'free_audio/Cymatics - Apex One Shots Vol 3/Cymatics - SYNTH Five Alive - C.wav', // ok\n  'piano': 'free_audio/Cymatics - Apex One Shots Vol 3/Cymatics - SYNTH Hypno - C.wav',\n  // hot\n  //'bass': 'bass.ogg',\n  //'bass': 'free_audio/Cymatics - Apex One Shots Vol 3/Cymatics - BASS Flam - C.wav', // QUIET\n  'bass': 'free_audio/Cymatics - Apex One Shots Vol 3/Cymatics - BELL Hypnosis - C.wav',\n  //'kick': 'kick.ogg',\n  'kick': 'free_audio/Ghosthack_-_New_Year_Freebie_2021/10 Drum One Shots/Ghosthack Kick 1.wav',\n  //'snare': 'snare.ogg',\n  'snare': 'free_audio/Ghosthack_-_New_Year_Freebie_2021/10 Drum One Shots/Ghosthack Snare 2.wav',\n  //'hat': 'hat.ogg',    \n  'hat': 'free_audio/Ghosthack_-_New_Year_Freebie_2021/10 Drum One Shots/Ghosthack Hat 1.wav',\n  //'hat': 'free_audio/Ghosthack_-_New_Year_Freebie_2021/10 Percussions/Ghosthack Perc 9.wav',\n  'ride': 'ride.ogg'\n};\nvar _audio_files_by_key = {\n  'piano': 'free_audio/Cymatics - Apex One Shots Vol 3/Cymatics - SYNTH Hypno - C.wav',\n  // hot\n  'bass': 'free_audio/Cymatics - Apex One Shots Vol 3/Cymatics - BELL Hypnosis - C.wav',\n  //kick': 'free_audio/Cymatics - Apex One Shots Vol 3/Cymatics - BASS Flam - C.wav',\n  'kick': 'free_audio/Ghosthack_-_New_Year_Freebie_2021/10 Drum One Shots/Ghosthack Kick 1.wav',\n  'snare': 'free_audio/Ghosthack_-_New_Year_Freebie_2021/10 Drum One Shots/Ghosthack Snare 2.wav',\n  'hat': 'free_audio/Ghosthack_-_New_Year_Freebie_2021/10 Drum One Shots/Ghosthack Hat 1.wav',\n  'ride': 'ride.ogg'\n};\nvar _tone_panel = {\n  context: null,\n  tone_point: Point(200, 200),\n  freq_range: 1200,\n  osc1: null,\n  osc1_started: 0 | false,\n  osc1_type_index: 0,\n  osc_types: ['sine', 'square', 'sawtooth', 'triangle'],\n  volume: 0 | 5,\n  // [0-100]\n  gain1: null,\n  analyser1: null,\n  analyser1_times: null,\n  analyser1_freqs: null,\n  throttle: 50,\n  conv1: null,\n  source1: null,\n  sound_playing: 0 | false,\n  play_file_requested: 0 | false,\n  play_file_request_time: null,\n  play_pending: 0 | false,\n  play_buffer: null\n};\n\nfunction load_and_play(url) {\n  if (_tone_panel.play_file_requested) {//return;            \n  } else {\n    _tone_panel.play_file_requested = 0 | true;\n    _tone_panel.play_file_request_time = Date.now();\n    window.fetch(url).then(function (response) {\n      return response.arrayBuffer();\n    }).then(function (array_buffer) {\n      return _tone_panel.context.decodeAudioData(array_buffer);\n    }).then(function (audio_buffer) {\n      console.assert(audio_buffer);\n      _tone_panel.play_pending = 0 | true;\n      _tone_panel.play_buffer = audio_buffer;\n    }); //return;\n  }\n}\n\nfunction play() {\n  if (!_tone_panel.play_buffer) {\n    load_and_play('Yodel_Sound_Effect.mp3');\n  } else {\n    console.assert(_tone_panel.play_buffer); // a source object can only be .start()'ed once\n    // so you have to make one every time you want to play a sound\n\n    _tone_panel.source1 = _tone_panel.context.createBufferSource();\n    _tone_panel.source1.buffer = _tone_panel.play_buffer;\n    _tone_panel.play_pending = 0 | false;\n    _tone_panel.gain1.gain.value = get_tone_volume();\n\n    _tone_panel.source1.connect(_tone_panel.analyser1);\n\n    _tone_panel.analyser1.connect(_tone_panel.gain1);\n\n    _tone_panel.gain1.connect(_tone_panel.context.destination);\n\n    _tone_panel.source1.start(); // cannot call this more than once per source object, yadoink\n\n\n    _tone_panel.sound_playing = 0 | true;\n  }\n}\n\nfunction get_tone_volume() {\n  var volume2 = _tone_panel.tone_point.y / _tone_panel.freq_range;\n  var final_volume = _tone_panel.volume / 100 * volume2;\n  return final_volume;\n}\n\nfunction start_tone() {\n  //console.log('[start_tone]');\n  var frequency = _tone_panel.tone_point.x;\n  var osc1_type = _tone_panel.osc_types[_tone_panel.osc1_type_index]; // i guess i need this for now?\n\n  if (_tone_panel.osc1_started) {\n    _tone_panel.osc1.stop();\n\n    _tone_panel.osc1_started = 0 | false;\n  }\n\n  _tone_panel.osc1 = _tone_panel.context.createOscillator();\n  _tone_panel.osc1.type = osc1_type;\n  _tone_panel.osc1.frequency.value = frequency;\n  _tone_panel.gain1.gain.value = get_tone_volume(); // hmph, connecting things correctly matters xd\n\n  _tone_panel.osc1.connect(_tone_panel.analyser1);\n\n  _tone_panel.analyser1.connect(_tone_panel.gain1);\n\n  _tone_panel.gain1.connect(_tone_panel.context.destination);\n\n  _tone_panel.osc1.start(0);\n\n  _tone_panel.osc1_started = 0 | true;\n}\n\nfunction stop_tone() {\n  if (_tone_panel.osc1_started) {\n    _tone_panel.osc1.stop(0);\n  }\n\n  _tone_panel.osc1_started = 0 | false;\n}\n\nvar start_tone_limited = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"throttle\"](start_tone, _tone_panel.throttle);\n\nfunction reset_tone() {\n  start_tone_limited = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"throttle\"](start_tone, _tone_panel.throttle);\n\n  if (_tone_panel.osc1_started) {\n    stop_tone();\n    start_tone_limited();\n  }\n}\n\nfunction sample_tone_analyser() {\n  _tone_panel.analyser1.getByteFrequencyData(_tone_panel.analyser1_freqs);\n\n  _tone_panel.analyser1.getByteTimeDomainData(_tone_panel.analyser1_times);\n}\n\nfunction do_tone_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var _changed = 0 | false;\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-volume', RectangleP(0, 0, 200, 20), 0, 100, _tone_panel.volume, '');\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume', RectangleP(0, 0, 200, 20));\n\n      if (_.changed) {\n        _tone_panel.volume = _.value;\n        reset_tone();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-throttle', RectangleP(0, 0, 200, 20), 0, 1000, _tone_panel.throttle, '');\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('throttle', RectangleP(0, 0, 200, 20));\n\n      if (_.changed) {\n        _tone_panel.throttle = _.value;\n        reset_tone();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n      for (var i = 0; i < _tone_panel.osc_types.length; i++) {\n        var iter_type = _tone_panel.osc_types[i];\n        var osc1_type = _tone_panel.osc_types[_tone_panel.osc1_type_index];\n        var is_checked = iter_type == osc1_type;\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-osc_type_button-' + iter_type, iter_type, RectangleP(0, 0, 80, 24), is_checked);\n\n        if (_.changed && _.value) {\n          _tone_panel.osc1_type_index = i; // dont relay change for osc1 type change unless currently playing\n\n          _changed = 0 | _tone_panel.osc1_started;\n        }\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _ = do_slider2d(uiid + '-slider2d', RectangleP(0, 0, 400, 400), 0, _tone_panel.freq_range, _tone_panel.tone_point);\n\n    if (_.changed) {\n      // these two lines are bad, slider2d should return what i need instead\n      var bg_uiid = uiid + '-slider2d-bg';\n      var item_went_down = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == bg_uiid;\n\n      if (item_went_down || _tone_panel.tone_point.x != _.x1 || _tone_panel.tone_point.y != _.y1) {\n        _tone_panel.tone_point.x = _.x1;\n        _tone_panel.tone_point.y = _.y1;\n        _changed = 0 | true;\n      }\n    }\n\n    if (_changed) {\n      start_tone_limited();\n    }\n\n    if (_tone_panel.analyser1 && _tone_panel.osc1_started || _tone_panel.sound_playing) {\n      sample_tone_analyser();\n      var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none, null, peek.x, peek.y - peek.padding * 2 - 100);\n      do_analyser_graph(uiid - '-graph', RectangleP(2, 0, 400 - 4, 100), _tone_panel.analyser1_freqs, _tone_panel.analyser1_times, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"], _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    } // show this when (requested) -and- (no buffer -or- buffer was fetched in less than 1 second)\n\n\n    if (_tone_panel.play_file_requested && (!_tone_panel.play_buffer || Date.now() - _tone_panel.play_file_request_time < 1000)) {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('audio file requested...', RectangleP(0, 0, 200, 24));\n    } else {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-button-yodel', 'play yodel mp3', RectangleP(0, 0, 200, 24));\n\n      if (_tone_panel.play_pending || _.clicked) {\n        play(_tone_panel.source1);\n      }\n    }\n\n    if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_up) {\n      start_tone_limited.cancel();\n      stop_tone();\n    }\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction sample_trix_analyser() {\n  _trix_panel.analyser.getByteFrequencyData(_trix_panel.analyser_freqs);\n\n  _trix_panel.analyser.getByteTimeDomainData(_trix_panel.analyser_times);\n}\n\nfunction do_analyser_graph(uiid, local_rect, data1, data2, color1, color2) {\n  color1 = color1 || _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"];\n  color2 = color2 || _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var x = rect.x;\n  var y = rect.y;\n  var w = rect.w;\n  var h = rect.h;\n\n  if (data1.length == 0 || data2.length == 0) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](w, h);\n    return;\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](make_css_color(color1));\n  var irange = data1.length;\n  var vrange = 255;\n\n  for (var i = 0; i < irange; i++) {\n    var v = 0 | data1[i];\n    var xpos = 0 | i / irange * w;\n    var ypos = 0 | v / vrange * h;\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](0 | x + xpos, 0 | y + h + 1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](0 | x + xpos, 0 | y + h - ypos);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](make_css_color(color2));\n  irange = data2.length;\n  vrange = 255; // later: just get data as floats and can remove this\n\n  var ypos_start = data2[0] / vrange * h;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x, y + ypos_start);\n\n  for (var _i = 1; _i < irange; _i++) {\n    var _v = 0 | data2[_i];\n\n    var _xpos = 0 | _i / irange * w;\n\n    var _ypos = 0 | _v / vrange * h;\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x + _xpos + 2, y + _ypos);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](w, h);\n}\n\nfunction do_message_panel(uiid, first_x, first_y, first_visible, first_expanded, message) {\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](message, Rectangle(0, 0, 200, 20));\n  }\n\n  do_panel_end(uiid);\n} // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\nvar freq = [1.6818, // a5\t1\n1.5874, // gs5\t2\n1.49831, // g5\t3\n1.4142, // fs5\t4\n1.3348, // f5\t5\n1.2599, // e5\t6\n1.1892, // ds5\t7\n1.1225, // d5\t8 \n1.0595, // cs5\t9\n1.0, // c5\t10 \n0.9439, // b4\t11\n0.8909, // as4\t12\n0.8409, // a4\t13\n0.79370, // gs4\t14\n0.7492, // g4\t15\n0.7071, // fs4\t16\n0.6674, // f4\t17\n0.62996, // e4\t18\n0.5946, // ds4\t19\n0.5611, // d4\t20\n0.5297, // cs4\t21\n0.5, // c4\t22\n0.47194, // b3\t23\n0.44545, // as3\t24\n0.42045, // a3\t25\n0.39685, // gs3\t26\n0.37458, // g3\t27\n0.35355, // fs3\t28\n0.3337, // f3\t29\n0.31498, // e3\t30\n0.2973, // ds3\t31\n0.2806, // d3\t32\n0.26487, // cs3\t33\n0.25, // c3\t34\n0.23597, // b2\t35\n0.2272, // as2\t36\n0.21022, // a2\t37\n0.19843, // gs2\t38\n0.18729, // g2\t39\n0.17678, // fs2\t40\n0.16685, // f2\t41\n0.15749, // e2\t42\n0.14865, // ds2\t43\n0.1403, // d2\t44\n0.13243, // cs2\t45\n0.125 // c2\t46\n];\nvar scales = []; // D pentatonic major\n// scale[1] = {\"a5\",\"fs5\",\"e5\",\"d5\",\"b4\",\"a4\",\"fs4\",\"e4\",\"d4\",\"b3\",\"a3\",\"fs3\",\"e3\",\"d3\",\"b2\",\"a2\"}\n\nscales[0] = [1, 4, 6, 8, 11, 13, 16, 18, 20, 23, 25, 28, 30, 32, 35, 37]; // D pentatonic minor\n// scale[2] = {\"d5\",\"c5\",\"a4\",\"g4\",\"f4\",\"d4\",\"c4\",\"a3\",\"g3\",\"f3\",\"d3\",\"c3\",\"a2\",\"g2\",\"f2\",\"d2\"}\n\nscales[1] = [8, 10, 13, 15, 17, 20, 22, 25, 27, 29, 32, 34, 37, 39, 41, 44]; // C major\n// scale[3] = {8\"c5\",\"b4\",\"a4\",\"g4\",\"f4\",\"e4\",\"d4\",\"c4\",\"b3\",\"a3\",\"g3\",\"f3\",\"e3\",\"d3\",\"c3\",\"b2\"}\n\nscales[2] = [10, 11, 13, 15, 17, 18, 20, 22, 23, 25, 27, 29, 30, 32, 34, 35]; // D blues minor\n// scale[4] = {\"d5\",\"c5\",\"a4\",\"g4\",\"e4\",\"ds4\",\"d4\",\"c4\",\"a3\",\"g3\",\"e3\",\"ds3\",\"d3\",\"c3\",\"a2\",\"g2\"}\n\nscales[3] = [8, 10, 13, 15, 18, 19, 20, 22, 25, 27, 30, 31, 32, 34, 37, 39]; // chromatic\n// scale[5] = {\"gs4\",\"g4\",\"fs4\",\"f4\",\"e4\",\"ds4\",\"d4\",\"cs4\",\"c4\",\"b3\",\"as3\",\"a3\",\"gs3\",\"g3\",\"fs3\",\"f3\"}\n\nscales[4] = [14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29];\n\nfunction Pattern(grid, instrument_index) {\n  return {\n    height: grid[0].length,\n    grid: grid,\n    instrument_index: instrument_index\n  };\n}\n/** create a new pattern by copying this one */\n\n\nfunction pattern_copy(pattern_index) {\n  var old_pattern = song.patterns[pattern_index];\n  var new_grid = [];\n\n  for (var i = 0; i < old_pattern.grid.length; i++) {\n    var sub = [];\n    new_grid.push(sub);\n\n    for (var j = 0; j < old_pattern.grid[i].length; j++) {\n      sub.push(old_pattern.grid[i][j]);\n    }\n  }\n\n  var new_pattern = Pattern(new_grid, old_pattern.instrument_index);\n  return new_pattern;\n}\n\nfunction Instrument(sample_key, options) {\n  var o = {\n    sample_key: sample_key,\n    row_sample_keys: [],\n    // y-indexed row-specific sample keys\n    //\n    output_node: null,\n    // was dest\n    volume: 0 | 0,\n    // [0-100],\n    detune: 0,\n    gain: null,\n    convolver: null,\n    convolver_enabled: 0 | false,\n    biquad: null,\n    biquad_type_index: 0,\n    biquad_enabled: 0 | false,\n    shaper: null,\n    shaper_oversample_index: 0,\n    shaper_enabled: 0 | false,\n    panner: null\n  };\n  Object.assign(o, options);\n\n  if (sample_key) {\n    o.gain = _trix_panel.context.createGain();\n    instrument_set_volume(o, o.volume);\n    o.convolver = _trix_panel.context.createConvolver();\n    console.assert(_trix_panel.convolver_buffer);\n    o.convolver.buffer = _trix_panel.convolver_buffer;\n    o.convolver.loop = false;\n    o.convolver.normalize = true;\n    o.biquad = _trix_panel.context.createBiquadFilter();\n    instrument_set_biquad_type(o, o.biquad_type_index);\n    o.shaper = _trix_panel.context.createWaveShaper();\n    o.shaper.curve = makeDistortionCurve(400);\n    o.shaper_oversample_index = 2;\n    o.shaper.oversample = _trix_panel.shaper_oversample_types[o.shaper_oversample_index];\n    o.panner = _trix_panel.context.createStereoPanner();\n  } else {\n    o.gain = _trix_panel.context.createGain();\n    instrument_set_volume(o, o.volume);\n  }\n\n  return o;\n}\n\nfunction create_empty_pattern16() {\n  return [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n}\n\nfunction create_empty_pattern4() {\n  return [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n}\n\nvar _trix_panel = {\n  initialized: 0 | false,\n  resource_decode_requested: 0 | false,\n  convolver_buffer: null,\n  convolver_data_response: null,\n  volume: 0 | 15,\n  // [0-100]\n  context: null,\n  compressor: null,\n  gain: null,\n  analyser: null,\n  analyser_times: null,\n  analyser_freqs: null,\n  play_node: null,\n  // this will point to wherever the end of our audio graph begins (the node samples will play on)\n  //\n  biquad_types: ['lowpass', 'highpass', 'bandpass', 'lowshelf', 'highshelf', 'peaking', 'notch', 'allpass'],\n  shaper_oversample_types: ['none', '2x', '4x'],\n  //\n  instrument_names: ['piano', 'bass'],\n  selected_instrument_index: 0,\n  //    \n  misc_dest: null,\n  misc_volume: 0 | 80,\n  // [0-100]\n  misc_gain: null,\n  //\n  // empty (use presets instead)\n  time: 0,\n  wait: 0,\n  play: 0 | false,\n  step_mode: 0 | false,\n  tempo: [],\n  tempo_index: 8,\n  scale_index: 0,\n  grid_edit_tools: ['+', '-'],\n  grid_edit_tool: 0,\n  schedule_x_notes_ahead: 3,\n  // how many notes to schedule ahead-of-time while playing (to ensure precise note timing)\n  // new play code\n  song_x: 0,\n  // song cursor (decodes to [track_index, pattern_index])\n  song_schedule_x: 0,\n  // in same scale as song_x, this is the schedule cursor\n  song_begin_x: 0,\n  song_end_x: 0,\n  selected_pattern_index: 0,\n  loop_song: 0 | true,\n  //\n  pattern_panels_visibility: []\n};\nvar song = {\n  width: 0 | 0,\n  height: 0 | 0,\n  patterns: [],\n  grid: [],\n  instrument_keys: ['piano', 'bass', 'misc'],\n  instruments: []\n};\nsong_set_range(0, 8 * 16);\nsong_set_size(song, 32 * 16, 0); // 32 * pat_len\n// god object in progress, stand back\n\nfunction song_clear() {\n  song.instruments = [];\n  song.patterns = [];\n  song.grid = [];\n}\n\nfunction song_set_range(x1, x2) {\n  console.assert(x2 > x1);\n  _trix_panel.song_x = x1;\n  _trix_panel.song_schedule_x = x1;\n  _trix_panel.song_begin_x = x1;\n  _trix_panel.song_end_x = x2;\n}\n/** sets song size and ensures full track data exists (contiguous arrays, fill with null as needed) */\n\n\nfunction song_set_size(song, w, h) {\n  // grow/shrink cols & rows\n  for (var x = 0; x < w; x++) {\n    // if no column x\n    if (!song.grid[x]) {\n      song.grid[x] = [];\n    }\n\n    song.grid[x].length = h;\n\n    for (var y = 0; y < h; y++) {\n      if (song.grid[x][y] == null) {\n        song.grid[x][y] = -1;\n      }\n    }\n  }\n\n  song.width = w;\n  song.height = h;\n}\n\nvar MIN_TEMPO = 0.5;\nvar MAX_TEMPO = 0.04;\n\nfor (var i = 0; i < 16; i++) {\n  _trix_panel.tempo[i] = MIN_TEMPO - i * ((MIN_TEMPO - MAX_TEMPO) / 16);\n}\n\n_trix_panel.wait = _trix_panel.tempo[_trix_panel.tempo_index];\n/*\r\n> dbfs_to_gain(100)\r\n100000\r\n> dbfs_to_gain(0)\r\n1\r\n> dbfs_to_gain(0)\r\n1\r\n> dbfs_to_gain(-50)\r\n0.0031622776601683794\r\n> dbfs_to_gain(-100)\r\n0.00001\r\n*/\n\nfunction dbfs_to_gain(dbfs) {\n  return Math.pow(10, dbfs / 20);\n}\n/*\r\n> volume_to_gain(0)\r\n0.00001\r\n> volume_to_gain(100)\r\n1\r\n*/\n// todo: nolive: asdfasdfasdf... hjalp\n\n\nfunction volume_to_gain(volume) {\n  if (volume == 0) {\n    // i guess\n    return 0;\n  } // gain of 1 is ridiculously loud, idk\n\n\n  var gain = (Math.exp(volume / 100) - 1) / (Math.E - 1);\n  gain = gain / 4;\n  return gain; //const actual = dbfs_to_gain(-(100-volume));\n  //return actual;\n}\n\nfunction volume_to_gain_OLD(volume) {\n  var volume_float = volume / 100; // > (Math.exp(0.01)-1)/(Math.E-1)\n  // 0.005848963143130564\n\n  var gain = (Math.exp(volume_float) - 1) / (Math.E - 1);\n  return gain;\n} // col indicator\n\n\nfunction draw_col_indicator(rect, dilate1, dilate2, color1, color2) {\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, dilate1), color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, dilate2), color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n}\n\nvar _trix_grid_color1 = Color(36 + 18 + 9, 36 + 18 + 9, 36 + 18 + 9, 255);\n\nvar _trix_grid_color2 = Color(36 + 9 + 9, 36 + 9 + 9, 36 + 9 + 9, 255);\n\nvar _trix_grid_line_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n/** pass grid width, height (in cells), cell dim (in pixels), values (array of columns) */\n\n\nfunction draw_trix_grid(w, h, dim, values, current_column) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, dim * w, dim * h)); //uidraw.rectangle(rect, uidraw.normal_back);\n  // alternating background\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect, _trix_grid_color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (1 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (3 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2); // main grid lines\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](_trix_grid_line_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n\n  for (var x = 1; x < w; x++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x * dim, rect.y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x * dim, rect.y + rect.h);\n  }\n\n  for (var y = 1; y < h; y++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x, rect.y + y * dim);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + rect.w, rect.y + y * dim);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // main outline\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](rect, _trix_grid_line_color);\n\n  for (var _x = 0; _x < w; _x++) {\n    for (var _y = 0; _y < h; _y++) {\n      var value = values[_x][_y];\n\n      if (value != 0 && value != -1) {\n        var color_on = void 0;\n\n        if (_x == current_column) {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n        } else {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n        }\n\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](Rectangle(rect.x + _x * dim + 1, rect.y + _y * dim + 1, dim - 2, dim - 2), color_on);\n      }\n    }\n  } // song_schedule_x indicator (debug)\n  //const column_rect2 = Rectangle(rect.x + (_trix_panel.song_schedule_x % 16) * dim, rect.y, dim, dim * h);\n  //draw_col_indicator(column_rect2, 3, 4, Color(0, 0, 0, 255), Color(255, 0, 0, 127));\n  // song_x indicator\n\n\n  var column_rect = Rectangle(rect.x + current_column * dim, rect.y, dim, dim * h);\n  draw_col_indicator(column_rect, 3, 2, Color(0, 0, 0, 255), Color(128, 128, 128, 255));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](dim * w, dim * h);\n}\n/** pass grid width, height (in cells), cell dim (in pixels), values (array of columns) */\n\n\nfunction draw_tracks_grid(w, h, dim, values, current_column) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, dim * w, dim * h));\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]); // alternating background\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect, _trix_grid_color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (1 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](Rectangle(0 | rect.x + rect.w * (3 / 4), rect.y, 0 | rect.w / 4, rect.h), _trix_grid_color2); // main grid lines\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](_trix_grid_line_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n\n  for (var x = 1; x < w; x++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x * dim, rect.y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x * dim, rect.y + rect.h);\n  }\n\n  for (var y = 1; y < h; y++) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x, rect.y + y * dim);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + rect.w, rect.y + y * dim);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // main outline\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](rect, _trix_grid_line_color); // filled boxes\n\n  for (var _x2 = 0; _x2 < w; _x2++) {\n    for (var _y2 = 0; _y2 < h; _y2++) {\n      var value = values[_x2][_y2];\n      console.assert(value != undefined);\n\n      if (value == -1) {// pass\n      } else {\n        var color_on = void 0;\n\n        if (_x2 == current_column) {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n        } else {\n          color_on = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n        }\n\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](Rectangle(rect.x + _x2 * dim + 1, rect.y + _y2 * dim + 1, dim - 2, dim - 2), color_on);\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"label\"](value + '', Point(rect.x + _x2 * dim + 5, rect.y + _y2 * dim + 1), Color(255, 255, 255, 255)); // *changed\n      }\n    }\n  }\n\n  var column_rect = Rectangle(rect.x + current_column * dim, rect.y, dim, dim * h);\n  draw_col_indicator(column_rect, 3, 2, Color(0, 0, 0, 255), Color(128, 128, 128, 255)); // current song range\n\n  var track_begin_x = 0 | _trix_panel.song_begin_x / 16;\n  var track_end_x = 0 | _trix_panel.song_end_x / 16;\n  var x1 = rect.x + track_begin_x * dim;\n  var x2 = rect.x + track_end_x * dim;\n  var y1 = rect.y;\n  var y2 = y1 + h * dim;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n  var range_rect = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](Rectangle(x1, y1, x2 - x1, y2 - y1), 4);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](range_rect, Color(250, 150, 0, 255));\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](dim * w, dim * h);\n}\n\nfunction do_trix_grid(uiid, w, h, dim, values, current_column) {\n  update_trix_grid(uiid, w, h, dim, values, current_column);\n  draw_trix_grid(w, h, dim, values, current_column);\n}\n\nfunction do_tracks_grid(uiid, w, h, dim, values, current_column) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n  update_tracks_grid(uiid, w, h, dim, values);\n  draw_tracks_grid(w, h, dim, values, current_column);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction update_tracks_grid(uiid, w, h, dim, values) {\n  var off_value = -1; // changed\n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'previous_drag_x': null,\n      'previous_drag_y': null\n    });\n  }\n\n  ;\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n\n  var _ = logic_for_grid(state, uiid, peek.x, peek.y, w, h, dim);\n\n  var cell_clicked = _[0];\n  var cell_dragged = _[1];\n  var cell_clicked_right = _[2];\n  var cell_dragged_right = _[3];\n  var x = _[4];\n  var y = _[5];\n\n  if (cell_dragged || cell_clicked) {\n    values[x][y] = 0 | y; // changed\n\n    if (x >= _trix_panel.song_end_x / 16) {\n      song_set_range(0, (x + 1) * 16);\n    }\n\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n\n  if (cell_dragged_right || cell_clicked_right) {\n    values[x][y] = 0 | off_value; // find max x... and set range to +1 of it\n\n    var max_x = 0;\n\n    for (var _i2 = 0; _i2 < values.length; _i2++) {\n      var column = values[_i2];\n\n      for (var j = 0; j < column.length; j++) {\n        var value = values[_i2][j];\n\n        if (value != off_value) {\n          max_x = Math.max(max_x, _i2);\n          break; // break out of this column since we found a note in it\n        }\n      }\n    }\n\n    if (max_x + 1 < _trix_panel.song_end_x / 16) {\n      song_set_range(0, (max_x + 1) * 16);\n    }\n\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n}\n\nfunction update_trix_grid(uiid, w, h, dim, values) {\n  var on_value = 1;\n  var off_value = 0;\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'previous_drag_x': null,\n      'previous_drag_y': null\n    });\n  }\n\n  ;\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n\n  var _ = logic_for_grid(state, uiid, peek.x, peek.y, w, h, dim);\n\n  var cell_clicked = _[0];\n  var cell_dragged = _[1];\n  var cell_clicked_right = _[2];\n  var cell_dragged_right = _[3];\n  var x = _[4];\n  var y = _[5];\n\n  if (cell_dragged || cell_clicked) {\n    values[x][y] = 0 | on_value;\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n\n  if (cell_dragged_right || cell_clicked_right) {\n    values[x][y] = 0 | off_value;\n    state.previous_drag_x = x;\n    state.previous_drag_y = y;\n  }\n}\n\nfunction logic_for_grid(state, uiid, ox, oy, w, h, dim) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](uiid, Rectangle(ox, oy, dim * w, dim * h));\n  var cell_clicked = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == uiid;\n  var cell_clicked_right = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down_right == uiid; // welp, this is same as GetCursor*\n\n  var x = 0 | (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x - ox) / dim;\n  var y = 0 | (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y - oy) / dim;\n  /*if (cell_clicked || cell_clicked_right) {\r\n      console.assert(x<16);\r\n      console.assert(y<16);\r\n      console.log('mousepressed_x', ui.state.mousepressed_x);\r\n      console.log('mousepressed_y', ui.state.mousepressed_y);\r\n      console.log('mousereleased_x', ui.state.mousereleased_x);\r\n      console.log('mousereleased_y', ui.state.mousereleased_y);\r\n      console.log('driver vs system deltas', (ui.driver.GetCursorX() - ui.state.mousepressed_x), (ui.driver.GetCursorY() - ui.state.mousepressed_y));\r\n  }*/\n\n  var cell_dragged = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == uiid && x >= 0 && x < w && y >= 0 && y < h && (state.previous_drag_x != x || state.previous_drag_y != y);\n  var cell_dragged_right = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held_right == uiid && x >= 0 && x < w && y >= 0 && y < h && (state.previous_drag_x != x || state.previous_drag_y != y);\n  return [cell_clicked, cell_dragged, cell_clicked_right, cell_dragged_right, x, y];\n}\n\nfunction do_preset_buttons() {\n  var _;\n\n  var uiid = 'preset-buttons-';\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + 'button-a', 'a', Rectangle(0, 0, 40, 24));\n\n    if (_.clicked) {\n      load_preset_a();\n    }\n    /*_ = ui.button(uiid + 'button-b', 'b', Rectangle(0, 0, 40, 24))\r\n    if (_.clicked) {\r\n        load_preset_b();\r\n    }\r\n      _ = ui.button(uiid + 'button-c', 'c', Rectangle(0, 0, 40, 24))\r\n    if (_.clicked) {\r\n        load_preset_c();\r\n    }\r\n      _ = ui.button(uiid + 'button-d', 'd', Rectangle(0, 0, 40, 24))\r\n    if (_.clicked) {\r\n        load_preset_d();\r\n    }\r\n      _ = ui.button(uiid + 'button-e', 'e', Rectangle(0, 0, 40, 24))\r\n    if (_.clicked) {\r\n        load_preset_e();\r\n    }*/\n\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('presets', Rectangle(4, 0, 100, 24));\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction song_add_pattern(song, pattern) {\n  song.patterns.push(pattern);\n  song_set_size(song, song.width, song.patterns.length);\n}\n\nfunction do_pattern_edit(uiid, pattern_index) {\n  var _;\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n\n  if (false) {}\n\n  var dim = 0 | 20;\n  var grid_w = 0 | dim * 16;\n  var grid_w_left = 0 | grid_w / 2;\n  var grid_w_right = 0 | grid_w - grid_w_left;\n  var pattern = song.patterns[pattern_index];\n  var instrument = song.instruments[pattern.instrument_index];\n  var label = instrument.sample_key;\n\n  if (!label) {\n    label = 'kit';\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](label, Rectangle(0, 0, grid_w_left, 24));\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-pattern-volume-' + pattern_index, Rectangle(0, 12, grid_w_right, 12), 0, 100, instrument.volume, '');\n\n    if (_.changed) {\n      instrument_set_volume(instrument, _.value);\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  var pattern_x = 0 | _trix_panel.song_x % 16;\n  var w = 0 | pattern.grid.length;\n  var h = 0 | pattern.grid[0].length;\n  do_trix_grid(uiid + '-pattern-grid-' + pattern_index, w, h, dim, pattern.grid, pattern_x);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n  {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n    for (var i = 0; i < scales.length; i++) {\n      var is_current = i == _trix_panel.scale_index;\n      var button_text = i + '';\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-scale-button-' + i, button_text, Rectangle(0, 0, 40, dim), is_current, 14, 0);\n\n      if (_.changed && _.value) {\n        _trix_panel.scale_index = i;\n      }\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('scale', Rectangle(4 + 1, 0, 50, dim));\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); //ui.label('( edit cells with left and right mouse drag )', Rectangle(0, 0, 100, 20));\n\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-copy-button', 'copy', Rectangle(0, 0, 200, 20));\n\n  if (_.clicked) {\n    song_add_pattern(song, pattern_copy(pattern_index));\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // main vertical    \n}\n\nfunction do_pattern_panel(uiid, first_x, first_y, first_visible, first_expanded, pattern_index) {\n  var _;\n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'value': 0 | pattern_index,\n      'changed': 0 | false\n    });\n  }\n\n  ;\n  state.changed = 0 | false;\n  var panel_uiid = uiid + '-panel';\n  var panel = do_panel_begin(panel_uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      do_pattern_edit(uiid + '-pattern-edit', pattern_index);\n      _ = do_pattern_select(uiid + '-pattern-list', pattern_index);\n\n      if (_.changed) {\n        state.changed = 0 | true;\n        state.value = _.value;\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  }\n\n  do_panel_end(panel_uiid);\n  return state;\n} // place_pattern(song, 0, 0, 0) // place pattern 0 into track 0 starting at track position `track_x`\n\n\nfunction song_place_pattern(song, track_x, track_y, pattern_num) {\n  song.grid[track_x][track_y] = pattern_num;\n}\n\nfunction do_tracks_edit() {\n  var pat_len = 16;\n  var dim = 20;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    var track_x = 0 | _trix_panel.song_x / pat_len; //const on_value = _trix_panel.selected_pattern_index; // whatever current pattern is        \n\n    do_tracks_grid('--tracks-edit-trix-grid', 0 | song.width / pat_len, song.patterns.length, dim, song.grid, track_x); //ui.layout_increment(tracks_rect);\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction load_convolver_buffer() {\n  var url = 'impulse.mp3';\n  var req = new XMLHttpRequest();\n  req.open('GET', url, true);\n  req.responseType = 'arraybuffer';\n  console.log('[convolver buffer requested]');\n\n  req.onload = function () {\n    _trix_panel.convolver_data_response = req.response;\n  };\n\n  req.send();\n}\n\nfunction play_sample(buffer, output_node, when, rate, detune) {\n  detune = detune || 0; //console.assert(_fetched_audio[key]);\n  //console.log(key, time);\n\n  var source = _trix_panel.context.createBufferSource();\n\n  source.buffer = buffer;\n  source.playbackRate.value = rate;\n  source.detune.value = detune;\n  source.connect(output_node);\n  source.start(when);\n}\n\nfunction play_instrument(instrument, y, when) {\n  // support instrument-wide and row-specific samples\n  var sample_key;\n  var rate;\n\n  if (instrument.sample_key) {\n    sample_key = instrument.sample_key;\n    var scale = scales[_trix_panel.scale_index];\n    rate = freq[scale[y]];\n  } else {\n    sample_key = instrument.row_sample_keys[y];\n    rate = 1;\n  }\n\n  var buffer = _fetched_audio[sample_key];\n  play_sample(buffer, instrument.output_node, when, rate, instrument.detune * 100);\n}\n\nfunction play_pattern_x(pattern, x, when) {\n  // play all notes in column\n  for (var y = 0; y < pattern.height; y++) {\n    if (pattern.grid[x][y]) {\n      var instrument = song.instruments[pattern.instrument_index];\n      play_instrument(instrument, y, when);\n    }\n  }\n}\n\nfunction play_song_x(song_x, when) {\n  var track_x = 0 | song_x / 16;\n  var pattern_x = 0 | song_x % 16; // for each track\n\n  for (var y = 0; y < song.height; y++) {\n    var pattern_num = song.grid[track_x][y];\n\n    if (pattern_num >= 0) {\n      var pattern = song.patterns[pattern_num];\n\n      if (pattern) {\n        play_pattern_x(pattern, pattern_x, when);\n      } else {\n        console.warn('pattern not found', pattern_num);\n      }\n    }\n  }\n} // these strong assumptions allow this delta calc\n// a is before b, but may have wrapped\n\n\nfunction calc_pattern_cursor_delta(a, b) {\n  var pat_len = 16;\n  var delta;\n\n  if (b < a) {\n    delta = 0 | b + pat_len - a;\n  } else {\n    delta = 0 | b - a;\n  }\n\n  return delta;\n}\n\nfunction trix_play() {\n  var dt = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].dt / 1000; // todo: make delta time part of simpleui\n\n  _trix_panel.time = _trix_panel.time + dt;\n  var time_for_next_column = _trix_panel.time >= _trix_panel.wait;\n\n  if (time_for_next_column) {\n    var pat_len = 16;\n    var dest_x = _trix_panel.song_x + _trix_panel.schedule_x_notes_ahead; // play logic works within one pattern length\n    // it handles note scheduling and cursor wrapping\n    //\n    // main problem is when schedule cursor wraps before play cursor\n    // (a = song_x, b = schedule_x, c = dest_x)\n    // eg. 0123456789ABCDEF\n    //      c            ab\n\n    var a = _trix_panel.song_x % pat_len;\n    var b = _trix_panel.song_schedule_x % pat_len;\n    var c = dest_x % pat_len; // steps needed for a to reach b\n\n    var ab_delta = calc_pattern_cursor_delta(a, b); //console.log('ab_delta', ab_delta);\n    // steps needed for b to reach c\n\n    var bc_delta = calc_pattern_cursor_delta(b, c); //console.log('bc_delta', bc_delta);\n\n    var audio_time = _trix_panel.context.currentTime; // >>> ((2**31 / 2) / 300) / 60 / 24 = 2485L\n    // song_x SMI would take 2485 days @ 300 bpm to wrap        \n    // basically, i don't have to worry about song_x wrap \n    // schedule notes, break at song_end_x if not loop_song\n    // + 1 to handle \"current\" note (first note in song, and first note after lag) (i dont like hiding logic in `<=` since `<` is usually assumed here)\n\n    for (var _i3 = 0; _i3 < bc_delta + 1; _i3++) {\n      // current iter delta between a and moving b    \n      var actual_delta = ab_delta + _i3;\n      var wait_time = actual_delta * _trix_panel.wait;\n      var when = audio_time + wait_time;\n      play_song_x(_trix_panel.song_schedule_x, when);\n      _trix_panel.song_schedule_x++;\n\n      if (_trix_panel.song_schedule_x == _trix_panel.song_end_x) {\n        _trix_panel.song_schedule_x = _trix_panel.song_begin_x;\n\n        if (!_trix_panel.loop_song) {\n          break;\n        }\n      }\n    }\n\n    _trix_panel.song_x++; // loop back, considering song_begin_x/song_end_x\n\n    if (_trix_panel.song_x == _trix_panel.song_end_x) {\n      _trix_panel.song_x = _trix_panel.song_begin_x;\n\n      if (!_trix_panel.loop_song) {\n        _trix_panel.play = 0 | false;\n      }\n    }\n\n    _trix_panel.time = _trix_panel.time % _trix_panel.wait;\n\n    if (_trix_panel.step_mode) {\n      _trix_panel.play = 0 | false;\n    }\n  } // time_for_next_column\n\n}\n\nvar _fetched_audio = {};\n\nfunction fetch_audio(key) {\n  var url = _audio_files_by_key[key];\n  window.fetch(url).then(function (response) {\n    return response.arrayBuffer();\n  }).then(function (array_buffer) {\n    return _trix_panel.context.decodeAudioData(array_buffer);\n  }).then(function (audio_buffer) {\n    _fetched_audio[key] = audio_buffer;\n  });\n} // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -\n\n\nfunction connect_instrument(instrument_index) {\n  /*\r\n  piano_shaper\r\n  piano_biquad\r\n  piano_panner\r\n  piano_convolver\r\n  piano_gain    \r\n  > compressor > master gain > analyser > (out)    \r\n  */\n  var o = song.instruments[instrument_index]; // instrument without sample key is assumed to be a 'kit' instrument, samples per row, not frequency per row\n\n  if (!o.sample_key) {\n    connect_instrument_simple(instrument_index);\n    return;\n  } //const keys = ['piano_convolver', 'piano_shaper', 'piano_biquad', 'piano_panner', 'piano_gain'];\n  //const keys = ['convolver', 'shaper', 'biquad', 'gain'];\n  //const keys = ['shaper', 'convolver', 'biquad', 'gain'];\n  // this is good\n  // const keys = ['shaper', 'biquad', 'convolver', 'gain'];\n  // but i wanna try moving convolver\n  // convolver before biquad sounds good\n  //const keys = ['shaper', 'convolver', 'biquad', 'gain'];\n  // i like convolver first and i think it makes more sense    \n\n\n  var keys = ['convolver', 'shaper', 'biquad', 'gain']; // v >0.4.1\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    o[key].disconnect();\n  }\n\n  var use_convolver = o.convolver_enabled && o.convolver.buffer;\n  var use_biquad = o.biquad_enabled;\n  var use_shaper = o.shaper_enabled; //console.log('connect_instrument', name);\n\n  var prev_key = null;\n\n  for (var i = 0; i < keys.length; i++) {\n    var _key = keys[i];\n    var do_connect = false;\n\n    if (_key == 'convolver') {\n      do_connect = use_convolver;\n    } else if (_key == 'biquad') {\n      do_connect = use_biquad;\n    } else if (_key == 'shaper') {\n      do_connect = use_shaper;\n    } else {\n      do_connect = true;\n    }\n\n    if (do_connect) {\n      if (prev_key == null) {\n        // first connection is sample destination\n        o.output_node = o[_key];\n      } else {\n        // subsequent connects\n        o[prev_key].connect(o[_key]);\n      }\n\n      prev_key = _key;\n    }\n  } // connect back to system\n\n\n  var end_key = keys[keys.length - 1];\n  o[end_key].connect(_trix_panel.play_node);\n}\n\nfunction connect_instrument_simple(instrument_index) {\n  var o = song.instruments[instrument_index];\n  o.output_node = o.gain;\n  o.gain.connect(_trix_panel.play_node);\n}\n\nfunction dbToY(db, height, pixelsPerDb) {\n  var y = 0.5 * height - pixelsPerDb * db;\n  return y;\n}\n\nfunction draw_biquad_filter(filter, local_rect) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var width = rect.w;\n  var height = rect.h;\n  var line_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(180, 0, 40, 255));\n  var grid_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(100, 100, 100, 255));\n  var text_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](Color(255, 255, 255, 255));\n  var dbScale = 60;\n  var pixelsPerDb = 0.5 * height / dbScale;\n  var noctaves = 11;\n  var frequencyHz = new Float32Array(width);\n  var magResponse = new Float32Array(width);\n  var phaseResponse = new Float32Array(width);\n  var nyquist = 0.5 * _trix_panel.context.sampleRate; // First get response.\n\n  for (var i = 0; i < width; ++i) {\n    var f = i / width; // Convert to log frequency scale (octaves).\n\n    f = nyquist * Math.pow(2.0, noctaves * (f - 1.0));\n    frequencyHz[i] = f;\n  }\n\n  filter.getFrequencyResponse(frequencyHz, magResponse, phaseResponse); // grid\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](grid_color);\n\n  for (var octave = 0; octave <= noctaves; octave++) {\n    var _x3 = octave * width / noctaves;\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + _x3, rect.y + 33);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + _x3, rect.y + height);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // labels\n\n  /*uidraw.push_strokestyle(text_color);\r\n  for (let octave = 1; octave <= noctaves; octave += 2) {\r\n      const x = octave * width / noctaves;\r\n      const f = nyquist * Math.pow(2.0, octave - noctaves);\r\n      let value = f.toFixed(0);\r\n      //let unit = 'Hz';\r\n      let unit = '';\r\n      if (f > 1000) {\r\n          //unit = 'KHz';\r\n          unit = 'K';\r\n          value = (f / 1000).toFixed(1);\r\n      }\r\n        let y_offset = 0;\r\n      if (octave % 2 == 0) {\r\n          y_offset = 20;\r\n      }\r\n      //uidraw.text(value + unit, rect.x + x - 40, rect.y + 14 + y_offset, Color(255,255,255,255));        \r\n  }\r\n  uidraw.pop_strokestyle();*/\n  // Draw 0dB line.\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + 0, rect.y + 0.5 * height);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + width, rect.y + 0.5 * height);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"](); // Draw decibel scale.    \n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](text_color);\n\n  for (var db = -dbScale; db < dbScale - 10; db += 10) {\n    var _y3 = dbToY(db, height, pixelsPerDb); //uidraw.text(db.toFixed(0) + \"dB\", rect.x + width - 40, rect.y + y);\n\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](grid_color);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + 0, rect.y + _y3);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + width, rect.y + _y3);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // redline\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_clip\"](rect);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](line_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](3);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x, rect.y);\n\n  for (var i = 0; i < width; ++i) {\n    var f = magResponse[i];\n    var response = magResponse[i];\n    var dbResponse = 20.0 * Math.log(response) / Math.LN10;\n    var x = i;\n    var y = dbToY(dbResponse, height, pixelsPerDb);\n    if (i == 0) _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x, rect.y + y);else _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x, rect.y + y);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"end_clip\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](rect);\n}\n\nfunction do_instrument_edit(instrument_index) {\n  var _;\n\n  var uiid = '---instrument-edit-' + instrument_index;\n  var name = _trix_panel.instrument_names[instrument_index];\n  var o = song.instruments[instrument_index];\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-' + name + '-convolver-checkbox', 'reverb', Rectangle(0, 0, 100, 24), o.convolver_enabled);\n\n    if (_.changed) {\n      o.convolver_enabled = _.value;\n      connect_instrument(instrument_index);\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-' + name + '-shaper-checkbox', 'shaper', Rectangle(0, 0, 100, 24), o.shaper_enabled);\n\n    if (_.changed) {\n      o.shaper_enabled = _.value;\n      connect_instrument(instrument_index);\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-' + name + '-biquad-checkbox', 'biquad', Rectangle(0, 0, 100, 24), o.biquad_enabled);\n\n    if (_.changed) {\n      o.biquad_enabled = _.value;\n      connect_instrument(instrument_index);\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('source', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-' + name + '-volume', Rectangle(0, 0, 200, 20), 0, 100, o.volume, '');\n\n  if (_.changed) {\n    instrument_set_volume(o, _.value);\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.volume + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('detune', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-' + name + '-detune', Rectangle(0, 0, 200, 20), -12, 12, o.detune, '');\n\n  if (_.changed) {\n    o.detune = _.value;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.detune * 100 + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('biquad filter', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('type', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-type-index', Rectangle(0, 0, 200, 20), 0, _trix_panel.biquad_types.length - 1, o.biquad_type_index, '');\n\n  if (_.changed) {\n    instrument_set_biquad_type(o, _.value);\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](_trix_panel.biquad_types[o.biquad_type_index], Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('freq', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-frequency', Rectangle(0, 0, 200, 20), 0, 8000, o.biquad.frequency.value, '');\n\n  if (_.changed) {\n    o.biquad.frequency.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.frequency.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('detune', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-detune', Rectangle(0, 0, 200, 20), -1200, 1200, o.biquad.detune.value, '');\n\n  if (_.changed) {\n    o.biquad.detune.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.detune.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('q factor', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-qfactor', Rectangle(0, 0, 200, 20), -100, 100, o.biquad.Q.value, '');\n\n  if (_.changed) {\n    o.biquad.Q.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.Q.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('gain', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-biquad-gain', Rectangle(0, 0, 200, 20), -100, 100, o.biquad.gain.value, '');\n\n  if (_.changed) {\n    o.biquad.gain.value = _.value;\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](o.biquad.gain.value + '', Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  draw_biquad_filter(o.biquad, Rectangle(0, 0, 400, 200)); // shaper\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('shaper', Rectangle(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('oversample', Rectangle(0, 0, 100, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-shaper-oversample-index', Rectangle(0, 0, 200, 20), 0, _trix_panel.shaper_oversample_types.length - 1, o.shaper_oversample_index, '');\n\n  if (_.changed) {\n    o.shaper_oversample_index = _.value;\n    o.shaper.oversample = _trix_panel.shaper_oversample_types[o.shaper_oversample_index];\n  }\n\n  ;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](_trix_panel.shaper_oversample_types[o.shaper_oversample_index], Rectangle(4, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_instrument_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _; // this uiid is for panel_begin (probably need to rename functions like this (run_instrument_panel or w/e idk))\n\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n    for (var i = 0; i < _trix_panel.instrument_names.length; i++) {\n      var is_current = i == _trix_panel.selected_instrument_index;\n      var name = _trix_panel.instrument_names[i];\n      var button_text = name;\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-select-instrument-button-' + i, button_text, Rectangle(0, 0, 80, 24), is_current, 4, 2);\n\n      if (_.changed && _.value) {\n        _trix_panel.selected_instrument_index = i;\n      }\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 12);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](400, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n    do_instrument_edit(_trix_panel.selected_instrument_index);\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction makeDistortionCurve(amount) {\n  // copied\n  var k = typeof amount === 'number' ? amount : 50,\n      n_samples = 44100,\n      curve = new Float32Array(n_samples),\n      deg = Math.PI / 180,\n      i = 0,\n      x;\n\n  for (; i < n_samples; ++i) {\n    x = i * 2 / n_samples - 1;\n    curve[i] = (3 + k) * x * 20 * deg / (Math.PI + k * Math.abs(x));\n  }\n\n  return curve;\n}\n\n;\n\nfunction do_analyser_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var dim = 20;\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    // analyser graph        \n    var graph_w = dim * 16 * 2 + 20;\n    var graph_h = 100;\n    sample_trix_analyser();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, graph_w, graph_h)), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n    do_analyser_graph(uiid - '-analyser-graph', Rectangle(0, 0, graph_w, graph_h), _trix_panel.analyser_freqs, _trix_panel.analyser_times);\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction do_pattern_list_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    do_pattern_list(uiid + '-pattern-list');\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction do_instrument_list_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    do_instrument_list(uiid + '-instrument-list');\n  }\n\n  do_panel_end(uiid);\n}\n\nfunction do_pattern_select(uiid, value) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'changed': 0 | false,\n      'value': 0 | value\n    });\n  }\n\n  ;\n  state.changed = 0 | false;\n  var scroll_uiid = uiid + '-scroll';\n  var scroll = do_scroll_begin(scroll_uiid, Rectangle(0, 0, 150, 200), 20, song.patterns.length);\n\n  var _;\n\n  for (var _i4 = scroll.first_visible_index; _i4 < scroll.last_visible_index; _i4++) {\n    do_scroll_item_begin(scroll_uiid, _i4);\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-button-' + _i4, 'pattern button #' + _i4, Rectangle(0, 0, 150, 20), value == _i4);\n\n    if (_.changed && _.value) {\n      state.changed = true;\n      state.value = 0 | _i4;\n    }\n\n    do_scroll_item_end(scroll_uiid);\n  }\n\n  do_scroll_end(scroll_uiid);\n  return state;\n} // a different kind of hotspot for handling the panel clicks\n// hotspot layers, starting on lowest:\n// 1 panel bg thing (blocks stuff underneath)\n// 2 all content\n// new idea to support click activation of entire panel\n// for supporting partially overlapped panels being brought to front by the click\n// one new layer\n// 3 new kind of hotspot (it will allow panel to react to the click, but not stop the click from going to regular content hotspots beneath)\n\n\nfunction do_instrument_list(uiid) {\n  var scroll_uiid = uiid + '-scroll';\n  var scroll = do_scroll_begin(scroll_uiid, Rectangle(0, 0, 200, 200), 20, song.instruments.length);\n\n  for (var _i5 = scroll.first_visible_index; _i5 < scroll.last_visible_index; _i5++) {\n    do_scroll_item_begin(scroll_uiid, _i5);\n\n    var _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-button-' + _i5, 'instrument button #' + _i5, Rectangle(0, 0, 200, 20));\n\n    if (_.clicked) console.log('clicked #' + _i5);\n    do_scroll_item_end(scroll_uiid);\n  }\n\n  do_scroll_end(scroll_uiid);\n}\n\nfunction do_song_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var panel = do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    var dim = 20;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal); // play/pause/volume row      \n\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1);\n      {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n        var buttons = ['pause', 'play'];\n\n        for (var i = 0; i < buttons.length; i++) {\n          var is_current = i == 1 && _trix_panel.play || i == 0 && !_trix_panel.play;\n          var button_text = buttons[i];\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-playpause-buttons-' + i, button_text, Rectangle(0, 0, 100, 24), is_current, 4, 2);\n\n          if (_.changed && _.value) {\n            if (i == 0) {\n              _trix_panel.play = 0 | false;\n            } else {\n              _trix_panel.play = 0 | true;\n            }\n          }\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](140, 0);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        // master volume\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-volume', Rectangle(0, 0, 200, 24), 0, 100, _trix_panel.volume, '');\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume', Rectangle(4, 0, 100, 20));\n\n        if (_.changed) {\n          _trix_panel.volume = _.value;\n          _trix_panel.gain.gain.value = volume_to_gain(_.value);\n        }\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // play/pause/volume row    \n\n    do_preset_buttons();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('tempo', Rectangle(0, 0, 200, dim));\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-tempo', Rectangle(0, 0, 200, 20), 0, _trix_panel.tempo.length - 1, _trix_panel.tempo_index, '');\n\n    if (_.changed) {\n      _trix_panel.tempo_index = _.value;\n      _trix_panel.wait = _trix_panel.tempo[_trix_panel.tempo_index];\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-stepmode-checkbox', 'manual step mode', Rectangle(0, 0, 200, 20), _trix_panel.step_mode);\n\n    if (_.changed) {\n      _trix_panel.step_mode = _.value;\n    }\n\n    do_tracks_edit();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-schedule-notes-ahead-slider', Rectangle(0, 0, 200, 20), 0, 8, _trix_panel.schedule_x_notes_ahead, '');\n\n      if (_.changed) {\n        _trix_panel.schedule_x_notes_ahead = _.value;\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('schedule ' + _trix_panel.schedule_x_notes_ahead + ' notes ahead', Rectangle(4, 0, 200, 20));\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // -------------------------------------------------------------------- //\n\n    if (_trix_panel.play) {\n      trix_play();\n    }\n  }\n\n  do_panel_end(uiid);\n}\n\nvar patterns_editing = [0, 1];\n\nfunction do_app_audio2() {\n  var ox = 200 + 8;\n  var oy = 24 + 8;\n  var row_x0 = ox;\n  var row_y0 = oy;\n\n  var _;\n\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n\n  if (_trix_panel.initialized) {\n    do_tone_panel('tone panel2', row_x0 + 727 + 467, row_y0, true, false && false);\n\n    for (var _i6 = 0; _i6 < patterns_editing.length; _i6++) {\n      var pattern_index = patterns_editing[_i6];\n      var is_visible = true; // _trix_panel.pattern_panels_visibility[i];\n\n      _ = do_pattern_panel('pattern-panel-' + _i6, row_x0, row_y0, true || false, true || false, pattern_index);\n\n      if (_.changed) {\n        patterns_editing[_i6] = 0 | _.value;\n      }\n\n      row_x0 += 524;\n    }\n\n    do_instrument_panel('instrument panel2', row_x0, row_y0, true, expanded);\n    row_x0 = ox;\n    do_song_panel('song panel', row_x0, row_y0 + 465, true, expanded);\n    do_analyser_panel('analyser panel2', row_x0, row_y0, true, false && false); //do_pattern_list_panel('patterns', row_x0 + 368 * 2, row_y0 + 198, true, expanded);\n    //do_instrument_list_panel('instruments', row_x0 + 368 * 2, row_y0 + 468, true, expanded);\n    // do_instrument_panel()\n    // do_pattern_panel()\n    // do_instrument_list_panel()\n    // do_pattern_list_panel()\n  } else {\n    if (AudioContext) {\n      if (!_trix_panel.convolver_data_response) {\n        do_message_panel('loading', row_x0, row_y0, true, true, 'loading samples...');\n      } else if (!_trix_panel.resource_decode_requested) {\n        // use context to decode resources\n        _trix_panel.context = new AudioContext();\n        _tone_panel.context = new AudioContext();\n\n        _trix_panel.context.decodeAudioData(_trix_panel.convolver_data_response, function (buffer) {\n          console.assert(buffer);\n          console.log('[convolver buffer loaded]');\n          _trix_panel.convolver_buffer = buffer;\n        }, function (e) {\n          console.error(\"Error decoding audio data\" + e.err);\n        }); // also start other fetches here since contexts are made and this is a one-time block\n        // todo: later: define like 4 loading states\n        //const audio_files = ['piano.ogg', 'bass.ogg', 'kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg'];\n\n\n        var audio_file_keys = Object.keys(_audio_files_by_key);\n\n        for (var _i7 = 0; _i7 < audio_file_keys.length; _i7++) {\n          fetch_audio(audio_file_keys[_i7]);\n        }\n\n        _trix_panel.resource_decode_requested = 0 | true;\n      } else if (!_trix_panel.convolver_buffer) {\n        // because this panel is only called once... it cannot autosize?                \n        do_message_panel('loading', row_x0, row_y0, true, true, 'decoding data...'); // solved by using the same uiid as earlier panel (loading samples...)\n        // unless that one is never called since convolver response already happened\n        // just define and streamline the loading state, then this problem is folded away\n      } else {\n        _tone_panel.gain1 = _tone_panel.context.createGain();\n        _tone_panel.analyser1 = _tone_panel.context.createAnalyser();\n        _tone_panel.analyser1.fftSize = Math.pow(2, 9);\n        _tone_panel.analyser1_times = new Uint8Array(_tone_panel.analyser1.frequencyBinCount);\n        _tone_panel.analyser1_freqs = new Uint8Array(_tone_panel.analyser1.frequencyBinCount); // system\n\n        _trix_panel.gain = _trix_panel.context.createGain();\n        _trix_panel.gain.gain.value = volume_to_gain(_trix_panel.volume);\n        _trix_panel.compressor = _trix_panel.context.createDynamicsCompressor();\n        _trix_panel.analyser = _trix_panel.context.createAnalyser();\n        _trix_panel.analyser.fftSize = Math.pow(2, 9);\n        _trix_panel.analyser_times = new Uint8Array(_trix_panel.analyser.frequencyBinCount);\n        _trix_panel.analyser_freqs = new Uint8Array(_trix_panel.analyser.frequencyBinCount); // end (should start on play_node)\n        // v <= 0.4.1:\n        //_trix_panel.gain.connect(_trix_panel.compressor);\n        //_trix_panel.compressor.connect(_trix_panel.analyser);\n        // v > 0.4.1:            \n        // https://www.softube.com/index.php?id=eq_before_compressor\n        // \" Placing an EQ before a compressor can have the effect of exaggerating the applied EQ, due to a phenomenon similar to the psychoacoustic effect known as \"frequency masking\". \"\n        // ( gain will give similar problem as eq )\n\n        _trix_panel.play_node = _trix_panel.compressor;\n\n        _trix_panel.compressor.connect(_trix_panel.gain);\n\n        _trix_panel.gain.connect(_trix_panel.analyser);\n\n        _trix_panel.analyser.connect(_trix_panel.context.destination); // later: a 2nd analyser before compressor, drawn in red (freqs only), to show pre-compress\n\n\n        load_preset_a();\n        _trix_panel.initialized = 0 | true;\n      }\n    } else {\n      do_message_panel('audio error', row_x0, row_y0, true, true, 'AudioContext unavailable.');\n    }\n  }\n}\n\nfunction reconnect_instruments() {\n  connect_instrument(0);\n  connect_instrument(1);\n  connect_instrument(2);\n}\n\nfunction add_instrument(sample_key, options) {\n  song.instruments.push(Instrument(sample_key, options));\n  console.log('[add_instrument]', sample_key, options);\n}\n\nfunction load_preset_tracks() {\n  // track_x, track_y, pattern_num\n  // row 0\n  song_place_pattern(song, 1, 0, 0);\n  song_place_pattern(song, 2, 0, 0);\n  song_place_pattern(song, 5, 0, 0);\n  song_place_pattern(song, 6, 0, 0); // row 1    \n\n  song_place_pattern(song, 0, 1, 1);\n  song_place_pattern(song, 1, 1, 1);\n  song_place_pattern(song, 2, 1, 1);\n  song_place_pattern(song, 3, 1, 1);\n  song_place_pattern(song, 4, 1, 1);\n  song_place_pattern(song, 5, 1, 1);\n  song_place_pattern(song, 6, 1, 1);\n  song_place_pattern(song, 7, 1, 1); // row 2    \n\n  song_place_pattern(song, 1, 2, 2);\n  song_place_pattern(song, 5, 2, 2); // row 3\n\n  song_place_pattern(song, 1, 3, 3);\n  song_place_pattern(song, 3, 3, 3);\n  song_place_pattern(song, 5, 3, 3);\n  song_place_pattern(song, 7, 3, 3); // row 4\n\n  song_place_pattern(song, 0, 4, 4);\n  song_place_pattern(song, 1, 4, 4);\n  song_place_pattern(song, 2, 4, 4);\n  song_place_pattern(song, 3, 4, 4);\n  song_place_pattern(song, 4, 4, 4);\n  song_place_pattern(song, 5, 4, 4);\n  song_place_pattern(song, 6, 4, 4);\n  song_place_pattern(song, 7, 4, 4); // row 5\n\n  song_place_pattern(song, 0, 5, 5);\n  song_place_pattern(song, 2, 5, 5);\n  song_place_pattern(song, 4, 5, 5);\n  song_place_pattern(song, 6, 5, 5); // row 6\n\n  song_place_pattern(song, 0, 6, 6);\n  song_place_pattern(song, 2, 6, 6);\n  song_place_pattern(song, 4, 6, 6);\n  song_place_pattern(song, 6, 6, 6);\n}\n\nfunction load_preset_a() {\n  song_clear();\n  add_instrument('piano', {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 0\n  });\n  add_instrument('bass', {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument(null, {\n    volume: 100,\n    biquad_type_index: 0,\n    shaper_oversample_index: 2,\n    convolver_enabled: 0 | true,\n    biquad_enabled: 0 | true,\n    row_sample_keys: ['kick', 'snare', 'hat', 'ride']\n  }); // lodash or something has a function for nested property sets iirc\n\n  song.instruments[0].biquad.frequency.value = 1000;\n  song.instruments[0].biquad.detune.value = 0;\n  song.instruments[0].biquad.Q.value = 10;\n  song.instruments[0].biquad.gain.value = 10; //const p0 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n\n  var p0 = [[0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p1 = [[0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p2 = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n  var p3 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p4 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p5 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p6 = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n  song_add_pattern(song, Pattern(p0, 0));\n  song_add_pattern(song, Pattern(p1, 1));\n  song_add_pattern(song, Pattern(p2, 2));\n  song_add_pattern(song, Pattern(p3, 0));\n  song_add_pattern(song, Pattern(p4, 0));\n  song_add_pattern(song, Pattern(p5, 0));\n  song_add_pattern(song, Pattern(p6, 2));\n  reconnect_instruments();\n  load_preset_tracks();\n}\n\nfunction load_preset_b() {\n  song_clear();\n  add_instrument('piano.ogg', {\n    \"volume\": 15,\n    \"detune\": 12,\n    \"convolver_enabled\": 1,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 1\n  });\n  add_instrument('bass.ogg', {\n    \"volume\": 70,\n    \"detune\": 0,\n    \"convolver_enabled\": 1,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument(null, {\n    volume: 50,\n    biquad_type_index: 0,\n    shaper_oversample_index: 2,\n    convolver_enabled: 0 | true,\n    biquad_enabled: 0 | true,\n    row_sample_keys: ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg']\n  });\n  song.instruments[0].biquad.frequency.value = 3320;\n  song.instruments[0].biquad.detune.value = 480;\n  song.instruments[0].biquad.Q.value = 33;\n  song.instruments[0].biquad.gain.value = 18;\n  song.instruments[1].biquad.frequency.value = 350;\n  song.instruments[1].biquad.detune.value = 192;\n  song.instruments[1].biquad.Q.value = 1;\n  song.instruments[1].biquad.gain.value = 0;\n  var p0 = [[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p1 = [[0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p2 = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n  song_add_pattern(song, Pattern(p0, 0));\n  song_add_pattern(song, Pattern(p1, 1));\n  song_add_pattern(song, Pattern(p2, 2));\n  reconnect_instruments();\n  load_preset_tracks();\n}\n\nfunction load_preset_c() {\n  song_clear();\n  add_instrument('piano.ogg', {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 1\n  });\n  add_instrument('bass.ogg', {\n    \"volume\": 80,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument(null, {\n    volume: 50,\n    biquad_type_index: 0,\n    shaper_oversample_index: 2,\n    convolver_enabled: 0 | true,\n    biquad_enabled: 0 | true,\n    row_sample_keys: ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg']\n  });\n  song.instruments[0].biquad.frequency.value = 1000;\n  song.instruments[0].biquad.detune.value = -444;\n  song.instruments[0].biquad.Q.value = 0;\n  song.instruments[0].biquad.gain.value = 4;\n  song.instruments[1].biquad.frequency.value = 350;\n  song.instruments[1].biquad.detune.value = 0;\n  song.instruments[1].biquad.Q.value = 1;\n  song.instruments[1].biquad.gain.value = 8;\n  var p0 = [[0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p1 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p2 = [[0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 0, 0, 0], [0, 1, 0, 0], [0, 0, 0, 0], [1, 0, 0, 0], [0, 0, 0, 0]];\n  song_add_pattern(song, Pattern(p0, 0));\n  song_add_pattern(song, Pattern(p1, 1));\n  song_add_pattern(song, Pattern(p2, 2));\n  reconnect_instruments();\n  load_preset_tracks();\n}\n\nfunction load_preset_d() {\n  song_clear();\n  add_instrument('piano.ogg', {\n    \"volume\": 39,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 4,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument('bass.ogg', {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 0,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument(null, {\n    volume: 50,\n    biquad_type_index: 0,\n    shaper_oversample_index: 2,\n    convolver_enabled: 0 | true,\n    biquad_enabled: 0 | true,\n    row_sample_keys: ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg']\n  });\n  song.instruments[0].biquad.frequency.value = 1000;\n  song.instruments[0].biquad.detune.value = -444;\n  song.instruments[0].biquad.Q.value = 10;\n  song.instruments[0].biquad.gain.value = 10;\n  var p0 = [[0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p1 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p2 = [[0, 1, 0, 0], [1, 0, 1, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 0, 1, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [1, 0, 1, 0], [0, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 0, 1, 0], [1, 0, 0, 0], [0, 0, 1, 0]];\n  song_add_pattern(song, Pattern(p0, 0));\n  song_add_pattern(song, Pattern(p1, 1));\n  song_add_pattern(song, Pattern(p2, 2));\n  reconnect_instruments();\n  load_preset_tracks();\n}\n\nfunction load_preset_e() {\n  song_clear();\n  add_instrument('piano.ogg', {\n    \"volume\": 10,\n    \"detune\": 12,\n    \"convolver_enabled\": 1,\n    \"biquad_type_index\": 3,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 2,\n    \"shaper_enabled\": 1\n  });\n  add_instrument('bass.ogg', {\n    \"volume\": 100,\n    \"detune\": 0,\n    \"convolver_enabled\": 0,\n    \"biquad_type_index\": 0,\n    \"biquad_enabled\": 1,\n    \"shaper_oversample_index\": 0,\n    \"shaper_enabled\": 0\n  });\n  add_instrument(null, {\n    volume: 100,\n    biquad_type_index: 0,\n    shaper_oversample_index: 2,\n    convolver_enabled: 0,\n    biquad_enabled: 0,\n    row_sample_keys: ['kick.ogg', 'snare.ogg', 'hat.ogg', 'ride.ogg']\n  }); // lodash or something has a function for nested property sets iirc\n\n  song.instruments[0].biquad.frequency.value = 3320;\n  song.instruments[0].biquad.detune.value = 480;\n  song.instruments[0].biquad.Q.value = 33;\n  song.instruments[0].biquad.gain.value = 18;\n  song.instruments[1].biquad.frequency.value = 350;\n  song.instruments[1].biquad.detune.value = 192;\n  song.instruments[1].biquad.Q.value = 1;\n  song.instruments[1].biquad.gain.value = 0;\n  var p0 = [[1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p1 = [[0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]];\n  var p2 = [[1, 0, 0, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1], [0, 0, 1, 0], [1, 0, 0, 0], [1, 0, 0, 0], [0, 0, 1, 0], [0, 1, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1], [0, 0, 1, 0]];\n  song_add_pattern(song, Pattern(p0, 0));\n  song_add_pattern(song, Pattern(p1, 1));\n  song_add_pattern(song, Pattern(p2, 2));\n  reconnect_instruments();\n  load_preset_tracks();\n} // is it possible to get rid of these setters?\n\n\nfunction instrument_set_biquad_type(o, type_index) {\n  o.biquad_type_index = type_index;\n  o.biquad.type = _trix_panel.biquad_types[type_index];\n}\n\nfunction instrument_set_volume(o, value) {\n  o.volume = value;\n  o.gain.gain.value = volume_to_gain(value);\n} ////////////////////////-////////////////////////-////////////////////////-////////////////////////-\n\n\nload_convolver_buffer();\n\n\n//# sourceURL=webpack:///./src/simpleui_app_audio2.js?");

/***/ }),

/***/ "./src/simpleui_app_audio3.js":
/*!************************************!*\
  !*** ./src/simpleui_app_audio3.js ***!
  \************************************/
/*! exports provided: do_app_audio3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_audio3\", function() { return do_app_audio3; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n/* harmony import */ var _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_app_demo.js */ \"./src/simpleui_app_demo.js\");\n/* harmony import */ var _simpleui_ex_tabbed_pane_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./simpleui_ex_tabbed_pane.js */ \"./src/simpleui_ex_tabbed_pane.js\");\n/* harmony import */ var _simpleui_app_dial_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./simpleui_app_dial.js */ \"./src/simpleui_app_dial.js\");\n/* harmony import */ var _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./simpleui_ex_scroll.js */ \"./src/simpleui_ex_scroll.js\");\n/* harmony import */ var _simpleui_app_colorpick_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./simpleui_app_colorpick.js */ \"./src/simpleui_app_colorpick.js\");\nfunction _readOnlyError(name) { throw new Error(\"\\\"\" + name + \"\\\" is read-only\"); }\n\n// how to hack your way through a jungle\n\n\n\n\n\n\n\n\n\n\n\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar Point = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Point\"];\nvar Rectangle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Rectangle\"];\nvar _Hovered = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_Hovered\"];\nvar _Held = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_Held\"];\n\nvar _dim_x = 0 | 512;\n\nvar _dim_y = 0 | 512;\n\nvar _border_size = 1;\nvar _min_clip_draw_width = 5; // all wires, standalone and wires in blocks\n\nvar _wires; // all slots, standalone and slots in blocks\n\n\nvar _slots;\n\nvar _slot_indexes_by_uiid;\n\nvar _wire_connections; // _[wire_index] = slot_index\n\n\nvar _slot_connections; // _[slot_index] = wire_index\n\n\nvar _blocks; // blocks hold own slots\n\n\nvar _block_snap_enabled;\n\nvar _block_snap_amount;\n\nvar _clips;\n\nvar _clip_selected;\n\nvar _clip_edit_playing_source;\n\nvar _track_item_selected;\n\nvar _track_item_selected_track_num; // track number of selected track item\n\n\nvar _track_item_selected_i; // index of selected track item in track\n\n\nvar _tool_selected = 'move';\nvar slot_size = 20;\nvar slot_size_half = 10;\n\nvar _audio_context;\n\nvar _audio_context_standalone; // for standalone clip play\n\n\nvar _audio_context_standalone_volume; // master volume\n\n\nvar _audio_files;\n\nvar _audio_files_by_name;\n\nvar _audio_file_selected; // new idea\n\n\nvar sequencer = {};\nsequencer.tracks = []; // array of arrays of TrackItem()\n\nsequencer.play_started_time; // when play started\n\nsequencer.play_state; // state of play\n\nsequencer.play_state_before_cursor_held;\nsequencer.play_cursor = 0; // time of play\n\nsequencer.play_cursor_went_down_value; // value when it went down\n\nsequencer.ahead_cursor = 0; // ahead-time of play\n\nsequencer.ahead_duration = 1; // duration between play_cursor and ahead_cursor\n\nsequencer.loop_start; // time of loop start\n\nsequencer.loop_end; // time of loop end\n\nsequencer.track_height = 36;\nsequencer.bpm = 120;\nsequencer.pixels_per_second = 18;\nsequencer.width = 1000 + 12;\nsequencer.duration = 26;\nsequencer.volume; // a gain node created in init\n\nsequencer.tracks_rect;\nvar _audio_files_to_load = ['A/guitar 1.ogg', 'A/guitar 2.ogg', 'A/guitar 3.ogg', 'A/guitar 4.ogg', 'A/guitar 5.ogg', 'A/perc 1.ogg', 'A/perc 2.ogg', 'A/drums 1.ogg', 'A/drums 2.ogg', 'A/drums 3.ogg', 'A/plains.ogg', 'irHall.ogg'];\nvar _palette = [[0xff, 0xf4, 0xe0, 255], [0x8f, 0xcc, 0xcb, 255], [0x44, 0x94, 0x89, 255], [0x28, 0x57, 0x63, 255], [0x2f, 0x2b, 0x5c, 255], [0x4b, 0x3b, 0x9c, 255], [0x45, 0x7c, 0xd6, 255], [0xf2, 0xb6, 0x3d, 255], [0xd4, 0x6e, 0x33, 255], [0xe3, 0x42, 0x62, 255], [0x94, 0x35, 0x3d, 255], [0x57, 0x25, 0x3b, 255], [0x9c, 0x65, 0x6c, 255], [0xd1, 0xb4, 0x8c, 255], [0xb4, 0xba, 0x47, 255], [0x6d, 0x8c, 0x32, 255], [0x2c, 0x1b, 0x2e, 255]];\nvar _audio_file_colors_by_name = {\n  'A/guitar 1.ogg': _palette[16],\n  'A/guitar 2.ogg': _palette[12],\n  'A/guitar 3.ogg': _palette[11],\n  'A/guitar 4.ogg': _palette[10],\n  'A/guitar 5.ogg': _palette[8],\n  'A/perc 1.ogg': _palette[2],\n  'A/perc 2.ogg': _palette[3],\n  'A/drums 1.ogg': _palette[4],\n  'A/drums 2.ogg': _palette[5],\n  'A/drums 3.ogg': _palette[6],\n  'A/plains.ogg': _palette[9]\n};\n\nfunction init() {\n  _audio_context = new AudioContext();\n  _audio_context_standalone = new AudioContext();\n  _audio_files = [];\n  _audio_files_by_name = {};\n  _clips = [];\n  sequencer.tracks = [[], [], [], [], []];\n  _clip_selected = 0; // master volume for sequencer\n\n  sequencer.volume = _audio_context.createGain();\n  sequencer.volume.gain.value = 0.05;\n  sequencer.volume.connect(_audio_context.destination); // master volume for standalone\n\n  _audio_context_standalone_volume = _audio_context_standalone.createGain();\n  _audio_context_standalone_volume.gain.value = 0.05;\n\n  _audio_context_standalone_volume.connect(_audio_context_standalone.destination);\n\n  init_sample(); // wires stuff, doesn't matter much for now\n\n  for (var i = 0; i < _audio_files_to_load.length; i++) {\n    var name = _audio_files_to_load[i];\n    request_audio_file(name);\n  }\n}\n\ninit();\n\nvar _file_load_complete = 0 | false;\n\nfunction on_file_load_complete() {\n  _file_load_complete = 0 | true; // create clips from loaded audio, do it here so nodes can reference other audio files (eg. irHall.ogg impulse response setup)\n\n  var audio_file_names = Object.keys(_audio_files_by_name);\n\n  for (var i = 0; i < audio_file_names.length; i++) {\n    var name = audio_file_names[i];\n\n    if (name != 'irHall.ogg') {\n      create_new_clip_from_loaded_audio_file(name);\n    }\n  }\n\n  function clip_sorting(a, b) {\n    var a_name = a.audio_file_name.toUpperCase();\n    var b_name = b.audio_file_name.toUpperCase();\n\n    if (a_name < b_name) {\n      return -1;\n    } else if (a_name > b_name) {\n      return 1;\n    } else {\n      return 0;\n    }\n  }\n\n  _clips.sort(clip_sorting);\n\n  for (var _i = 0; _i < _clips.length; _i++) {\n    _clips[_i].index = _i; // hue hue hue\n  }\n\n  setup_track_items();\n}\n\nfunction setup_track_items() {\n  var clips_by_audio_file_name = {};\n\n  for (var i = 0; i < _clips.length; i++) {\n    var clip = _clips[i];\n    var key = clip.audio_file_name;\n    clips_by_audio_file_name[key] = clip;\n  }\n\n  function add_track_item(audio_file_name, grid_x_pos, track_num) {\n    var clip = clips_by_audio_file_name[audio_file_name];\n    var bps = sequencer.bpm / 60;\n    var track_x = grid_x_pos * bps; // does matter\n\n    var track_w = 0; // doesn't matter   \n\n    var track_item = new TrackItem(track_x, track_w, clip);\n    sequencer.tracks[track_num].push(track_item);\n    return track_item;\n  } // option keys: volume, path2_volume, path2_delay1\n\n\n  function configure_clip(audio_file_name, options) {\n    var clip = clips_by_audio_file_name[audio_file_name]; // nolive: clips_by_audio_file_name is a hack, since multiple clips will eventually have same audio file, but for now it's 1:1\n\n    if (options.volume != null) {\n      set_clip_volume(clip, options.volume);\n    }\n\n    if (options.path2_volume != null) {\n      set_clip_path2_volume(clip, options.path2_volume);\n    }\n\n    if (options.path2_delay1 != null) {\n      set_clip_path2_delay1(clip, options.path2_delay1);\n    }\n  }\n\n  var guitar_volume = 0.8;\n  var guitar_reverb_volume = 0.4;\n  var guitar_reverb_delay = 0.1;\n  configure_clip('A/guitar 1.ogg', {\n    volume: guitar_volume,\n    path2_volume: guitar_reverb_volume,\n    path2_delay1: guitar_reverb_delay\n  });\n  configure_clip('A/guitar 2.ogg', {\n    volume: guitar_volume,\n    path2_volume: guitar_reverb_volume,\n    path2_delay1: guitar_reverb_delay\n  });\n  configure_clip('A/guitar 3.ogg', {\n    volume: guitar_volume,\n    path2_volume: guitar_reverb_volume,\n    path2_delay1: guitar_reverb_delay\n  });\n  configure_clip('A/guitar 4.ogg', {\n    volume: guitar_volume,\n    path2_volume: guitar_reverb_volume,\n    path2_delay1: guitar_reverb_delay\n  });\n  configure_clip('A/guitar 5.ogg', {\n    volume: guitar_volume,\n    path2_volume: guitar_reverb_volume,\n    path2_delay1: guitar_reverb_delay\n  });\n  var drums_volume = 0.6;\n  configure_clip('A/drums 1.ogg', {\n    volume: drums_volume\n  });\n  configure_clip('A/drums 2.ogg', {\n    volume: drums_volume\n  });\n  configure_clip('A/drums 3.ogg', {\n    volume: drums_volume\n  });\n  var perc_volume = 0.6;\n  configure_clip('A/perc 1.ogg', {\n    volume: perc_volume\n  });\n  configure_clip('A/perc 2.ogg', {\n    volume: perc_volume\n  });\n  configure_clip('A/plains.ogg', {\n    volume: 0.3,\n    path2_volume: 0.5,\n    path2_delay1: 0.5\n  }); //\n\n  add_track_item('A/guitar 1.ogg', 0, 0);\n  add_track_item('A/guitar 1.ogg', 2, 0);\n  add_track_item('A/guitar 2.ogg', 4, 0);\n  add_track_item('A/guitar 2.ogg', 6, 0);\n  add_track_item('A/guitar 4.ogg', 8, 0);\n  add_track_item('A/guitar 4.ogg', 10, 0);\n  add_track_item('A/guitar 5.ogg', 12, 0);\n  add_track_item('A/guitar 5.ogg', 14, 0);\n  add_track_item('A/guitar 4.ogg', 16, 0);\n  add_track_item('A/guitar 4.ogg', 18, 0);\n  add_track_item('A/guitar 1.ogg', 20, 0);\n  add_track_item('A/guitar 2.ogg', 22, 0);\n  add_track_item('A/guitar 3.ogg', 24, 0);\n  add_track_item('A/drums 2.ogg', 10, 1);\n  add_track_item('A/drums 2.ogg', 12, 1);\n  add_track_item('A/drums 1.ogg', 14, 1);\n  add_track_item('A/drums 1.ogg', 16, 1);\n  add_track_item('A/drums 3.ogg', 18, 1);\n  add_track_item('A/drums 3.ogg', 20, 1);\n  add_track_item('A/plains.ogg', 12, 2);\n  add_track_item('A/perc 1.ogg', 18, 3);\n  add_track_item('A/perc 1.ogg', 20, 3);\n  add_track_item('A/perc 2.ogg', 22, 3);\n  add_track_item('A/perc 2.ogg', 24, 3);\n}\n\nfunction init_sample() {\n  _block_snap_enabled = true;\n  _block_snap_amount = 64;\n  _wires = [Wire(Point(64 * 1, 64 * 2), Point(64 * 1, 64 * 2), 'a'), Wire(Point(64 * 1, 64 * 4), Point(64 * 1, 64 * 4), 'b')];\n  _slots = [Slot(Point(64 * 1, 64 * 6), 'c')];\n  _slot_indexes_by_uiid = [];\n  _slot_connections = [];\n  _wire_connections = [];\n  _blocks = [];\n  var scale = 32;\n  {\n    // Apple\n    var block_rect = Rectangle(4 * scale, 2 * scale, 4 * scale, 2 * scale);\n    var block_center_x = block_rect.x + Math.round(block_rect.w / 2);\n    var block_center_y = block_rect.y + Math.round(block_rect.h / 2);\n\n    _slots.push(Slot(Point(block_center_x - 2 * scale, block_center_y), 'a'));\n\n    var wire_origin = Point(block_center_x + 2 * scale, block_center_y);\n    var wire_dest = Point(wire_origin.x, wire_origin.y);\n\n    _wires.push(Wire(wire_origin, wire_dest, 'b'));\n\n    var slot_indexes = [_slots.length - 1];\n    var wire_indexes = [_wires.length - 1];\n    var block = Block('alpha', block_rect, wire_indexes, slot_indexes);\n    add_block(block);\n  }\n  connect_wire(0, 1); // connect standalone wire 1 to this block's slot 1    \n\n  {\n    // Banana\n    var _block_rect = Rectangle(4 * scale, 6 * scale, 4 * scale, 2 * scale);\n\n    var _block_center_x = _block_rect.x + Math.round(_block_rect.w / 2);\n\n    var _block_center_y = _block_rect.y + Math.round(_block_rect.h / 2);\n\n    _slots.push(Slot(Point(_block_center_x - 2 * scale, _block_center_y), 'b'));\n\n    var _wire_origin = Point(_block_center_x + 2 * scale, _block_center_y);\n\n    var _wire_dest = Point(_wire_origin.x, _wire_origin.y);\n\n    _wires.push(Wire(_wire_origin, _wire_dest, 'a'));\n\n    var _slot_indexes = [_slots.length - 1];\n    var _wire_indexes = [_wires.length - 1];\n\n    var _block = Block('beta', _block_rect, _wire_indexes, _slot_indexes);\n\n    add_block(_block);\n  }\n  connect_wire(1, 2); // connect standalone wire 2 to this block's slot 1\n\n  {\n    // plum\n    var _block_rect2 = Rectangle(12 * scale, 6 * scale, 2 * scale, 2 * scale);\n\n    var _block_center_x2 = _block_rect2.x + Math.round(_block_rect2.w / 2);\n\n    var _block_center_y2 = _block_rect2.y + Math.round(_block_rect2.h / 2);\n\n    _slots.push(Slot(Point(_block_center_x2 - 1 * scale, _block_center_y2), 'a'));\n\n    _slots.push(Slot(Point(_block_center_x2 - 0 * scale, _block_center_y2 - 1 * scale), 'b'));\n\n    var _wire_origin2 = Point(_block_center_x2 + 0 * scale, _block_center_y2 + 1 * scale);\n\n    var _wire_dest2 = Point(_wire_origin2.x, _wire_origin2.y);\n\n    _wires.push(Wire(_wire_origin2, _wire_dest2, 'c'));\n\n    var _slot_indexes2 = [_slots.length - 2, _slots.length - 1];\n    var _wire_indexes2 = [_wires.length - 1];\n\n    var _block2 = Block('?', _block_rect2, _wire_indexes2, _slot_indexes2);\n\n    add_block(_block2);\n  }\n  connect_wire(2, 4); // connect block wire 1 to this block's slot 2\n\n  connect_wire(3, 3); // connect block wire 2 to this block's slot 1\n\n  {\n    // Doop\n    var _block_rect3 = Rectangle(4 * scale, 10 * scale, 4 * scale, 2 * scale);\n\n    var _block_center_x3 = _block_rect3.x + Math.round(_block_rect3.w / 2);\n\n    var _block_center_y3 = _block_rect3.y + Math.round(_block_rect3.h / 2);\n\n    _slots.push(Slot(Point(_block_center_x3 + 2 * scale, _block_center_y3), 'c'));\n\n    var _wire_origin3 = Point(_block_center_x3 - 2 * scale, _block_center_y3 + 0 * scale);\n\n    var _wire_dest3 = Point(_wire_origin3.x, _wire_origin3.y);\n\n    _wires.push(Wire(_wire_origin3, _wire_dest3, 'c'));\n\n    var _slot_indexes3 = [_slots.length - 1];\n    var _wire_indexes3 = [_wires.length - 1];\n\n    var _block3 = Block('kappa', _block_rect3, _wire_indexes3, _slot_indexes3);\n\n    add_block(_block3);\n  }\n  connect_wire(4, 5); // connect block wire 3 to this block's slot 1\n\n  connect_wire(5, 0); // connect block wire 4 to the original standalone slot, slot 0\n}\n\nfunction Slot(position, kind) {\n  console.assert(position);\n  console.assert(kind);\n  return {\n    position: position,\n    kind: kind\n  };\n}\n\nfunction Wire(origin, dest, kind) {\n  console.assert(origin);\n  console.assert(dest);\n  console.assert(kind);\n  return {\n    origin: origin,\n    dest: dest,\n    kind: kind\n  };\n}\n\nfunction Block(label, rect, wire_indexes, slot_indexes) {\n  return {\n    label: label,\n    rect: rect,\n    wire_indexes: wire_indexes,\n    slot_indexes: slot_indexes\n  };\n}\n/*function define_wire(x, y) {\r\n    _wires.push([x, y]);\r\n    _connections.push(null);\r\n}*/\n\n\nfunction associate_slot_to_uiid(slot_index, uiid) {\n  _slot_indexes_by_uiid[uiid] = slot_index;\n}\n\nfunction clear_slot_uiid_associations() {\n  _slot_indexes_by_uiid = {};\n}\n\nfunction do_app_audio3() {\n  var _;\n\n  var panel_uiid;\n  var x;\n  var y;\n  var visible = true;\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n\n  if (!_file_load_complete) {\n    x = 222;\n    y = 32;\n    panel_uiid = 'loading-panel';\n    _ = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(panel_uiid, x, y, visible, expanded, 'loading');\n\n    if (_.expanded) {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('loading audio files...', Rectangle(0, 0, 200, 20));\n    }\n\n    Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(panel_uiid);\n    return;\n  }\n\n  x = 222;\n  y = 32;\n  panel_uiid = 'clip-edit-panel';\n  _ = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(panel_uiid, x, y, visible, expanded, 'clips');\n\n  if (_.expanded) {\n    do_edit_container();\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(panel_uiid);\n  /*x = 1000; y = 32; panel_uiid = 'clip-list-panel'; \r\n  _ = do_panel_begin(panel_uiid, x, y, visible, expanded, 'list');\r\n  if (_.expanded) {                \r\n      do_list('clip-list');\r\n  }\r\n  do_panel_end(panel_uiid);*/\n\n  x = 222;\n  y = 500;\n  panel_uiid = 'clip-sequence-panel';\n  _ = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(panel_uiid, x, y, visible, expanded, 'sequence');\n\n  if (_.expanded) {\n    var sequencer_uiid = get_sequencer_uiid();\n    do_sequencer(sequencer_uiid);\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(panel_uiid);\n}\n\nfunction do_edit_container() {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n  do_list('clip-list');\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](10, 0);\n  do_edit('clip-edit');\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nvar _active_tab_for_edit = 0;\n\nfunction do_edit(uiid) {\n  var _; //ui.layout_increment2(0, 20);\n\n\n  var rect = RectangleP(0, 0, 187, 20); // nolive 187\n\n  _ = Object(_simpleui_ex_tabbed_pane_js__WEBPACK_IMPORTED_MODULE_5__[\"do_tabbed_pane_begin\"])(uiid, rect, ['general', 'buffer', 'reverb'\n  /*'nodes'*/\n  ], _active_tab_for_edit);\n\n  if (_.changed) {\n    _active_tab_for_edit = _.value;\n  }\n\n  var padding_x = 20;\n  var padding_y = padding_x;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](padding_x, 0);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, padding_y);\n\n  if (_active_tab_for_edit == 0) {\n    do_edit_general(uiid + '-general');\n  } else if (_active_tab_for_edit == 1) {\n    do_scroll_audio_files(uiid + '-audio-files');\n  } else if (_active_tab_for_edit == 2) {\n    do_edit_path2(uiid + '-path2');\n  } else if (_active_tab_for_edit == 3) {\n    do_edit_nodes(uiid + '-nodes');\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, padding_y);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](padding_x, 0);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  Object(_simpleui_ex_tabbed_pane_js__WEBPACK_IMPORTED_MODULE_5__[\"do_tabbed_pane_end\"])();\n}\n\nfunction do_edit_general_actual(uiid) {\n  var _;\n\n  var a = 100;\n  var clip = _clips[_clip_selected];\n\n  if (clip == null) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('no clip selected', RectangleP(0, 0, 200, 20));\n    return;\n  }\n\n  var audio_file = _audio_files_by_name[clip.audio_file_name];\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](clip.label, RectangleP(0, 0, a, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](a * 4, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n\n  if (audio_file == null) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('no buffer selected for this clip', RectangleP(0, 0, 200, 20));\n  } else {\n    //ui.label('buffer: ' + audio_file.name, RectangleP(0, 0, 200, 20));;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('duration: ' + audio_file.buffer.duration, RectangleP(0, 0, 200, 20));\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 10);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-play-audio-button', 'play', RectangleP(0, 0, a, 40));\n\n      if (_.clicked) {\n        stop_clip_alone();\n        var source = play_clip_alone(clip);\n        _clip_edit_playing_source = new WeakRef(source);\n      }\n\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-stop-audio-button', 'stop', RectangleP(0, 0, a, 40));\n\n      if (_.clicked) {\n        stop_clip_alone();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    do_edit_audio_buffer_source_node(uiid + '-edit-audio-buffer-source-node', audio_file, clip);\n  }\n}\n\nfunction do_edit_path2(uiid) {\n  var _;\n\n  var a = 100;\n  var clip = _clips[_clip_selected];\n  var params = clip.params;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n\n  if (clip == null) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('no clip selected', RectangleP(0, 0, 200, 20));\n    return;\n  }\n\n  var audio_file = _audio_files_by_name[clip.audio_file_name];\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](clip.label, RectangleP(0, 0, a, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](a * 4, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n\n  if (audio_file == null) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('no buffer selected for this clip', RectangleP(0, 0, 200, 20));\n  } else {\n    var slider_rect = RectangleP(0, 0, 200, 20); //ui.label('buffer: ' + audio_file.name, RectangleP(0, 0, 200, 20));;\n    //ui.label('duration: ' + audio_file.buffer.duration, RectangleP(0, 0, 200, 20));\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 10);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-play-audio-button', 'play', RectangleP(0, 0, a, 40));\n\n      if (_.clicked) {\n        stop_clip_alone();\n        var source = play_clip_alone(clip);\n        _clip_edit_playing_source = new WeakRef(source);\n      }\n\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-stop-audio-button', 'stop', RectangleP(0, 0, a, 40));\n\n      if (_.clicked) {\n        stop_clip_alone();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    var value_min = 0; // 0\n\n    var value_max = 120; // 1.20\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('reverb volume: ' + params.path2.volume.gain, RectangleP(0, 0, 200, 20));\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-volume-gain-slider', slider_rect, value_min, value_max, Math.round(params.path2.volume.gain * 100), '');\n\n    if (_.changed) {\n      set_clip_path2_volume(clip, _.value / 100);\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 10);\n    value_min = 0; // 0.0\n\n    value_max = 400; // 4.00\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('delay time: ' + params.path2.delay1.delayTime, RectangleP(0, 0, 200, 20));\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-delay1-delayTime-slider', slider_rect, value_min, value_max, Math.round(params.path2.delay1.delayTime * 100), '');\n\n    if (_.changed) {\n      set_clip_path2_delay1(clip, _.value / 100);\n    }\n    /*ui.label('delay2 time: ' + params.path2.delay2.delayTime, RectangleP(0, 0, 200, 20));\r\n    _ = ui.slider(uiid + '-delay2-delayTime-slider', slider_rect, value_min, value_max, Math.round(params.path2.delay2.delayTime * 100), '');\r\n    if (_.changed) {\r\n        // todo: set_clip_path2_delay2            \r\n        clip.path2.delay2.delayTime.value = _.value / 100;\r\n        clip.standalone_path2.delay2.delayTime.value = _.value / 100;\r\n        params.path2.delay2.delayTime = _.value / 100;\r\n    }*/\n\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // vertical\n} // this is a tiny test framework for min layout function, do_edit_general_actual is the underlying component\n\n\nfunction do_edit_general(uiid) {\n  if (true) {\n    // min layout test toggle\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n    do_edit_general_actual(uiid);\n  } else {}\n\n  layout_increment_to_minimum(300, 300);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_edit_audio_buffer_source_node(uiid, audio_file, clip) {\n  var _;\n\n  var params = clip.params; //ui.label(params.loopStart, RectangleP(0, 0, 200, 20));\n\n  var slider_rect = RectangleP(0, 0, 200, 20); // slider values are in milliseconds\n\n  if (false) {} //let slider_max = slider_rect.w;\n\n\n  var value_min = 0; // 0\n\n  var value_max = 120; // 1.20\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('clip volume: ' + params.volume.gain, RectangleP(0, 0, 200, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-volume-gain-slider', slider_rect, value_min, value_max, Math.round(params.volume.gain * 100), '');\n\n  if (_.changed) {\n    set_clip_volume(clip, _.value / 100);\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 10);\n  value_min = 25; // 0.25\n\n  value_max = 400; // 4.00\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('playback rate: ' + params.buffer.playbackRate, RectangleP(0, 0, 200, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-buffer-playbackRate-slider', slider_rect, value_min, value_max, Math.round(params.buffer.playbackRate * 100), '');\n\n  if (_.changed) {\n    params.buffer.playbackRate = _.value / 100;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 10);\n\n  if (false) {}\n\n  if (audio_file) {\n    var buffer = audio_file.buffer;\n    var buffer_rect_local = RectangleP(0, 0, 800, 100);\n    var buffer_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](buffer_rect_local);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](buffer_rect, Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])([255, 255, 255, 255]));\n    draw_buffer(buffer, buffer_rect, audio_file.name);\n    var offset_percent = clip.params.buffer.startOffset / buffer.duration;\n    _ = do_waveslider(uiid + '-wave-slider-offset', buffer_rect_local, offset_percent, 'left');\n\n    if (_.changed) {\n      var new_value = _.value * buffer.duration;\n      var value_delta = new_value - clip.params.buffer.startOffset;\n      clip.params.buffer.startOffset = new_value;\n      clip.params.buffer.startDuration -= value_delta;\n      var end_time = clip.params.buffer.startOffset + clip.params.buffer.startDuration;\n\n      if (end_time > buffer.duration) {\n        clip.params.buffer.startDuration = buffer.duration - clip.params.buffer.startOffset;\n      }\n\n      if (clip.params.buffer.startDuration < 0) {\n        //clip.params.buffer.startOffset += clip.params.buffer.startDuration;\n        clip.params.buffer.startDuration = 0;\n      }\n    }\n\n    _ = do_waveslider(uiid + '-wave-slider-duration', buffer_rect_local, (clip.params.buffer.startOffset + clip.params.buffer.startDuration) / buffer.duration, 'right');\n\n    if (_.changed) {\n      clip.params.buffer.startDuration = (_.value - offset_percent) * buffer.duration;\n\n      if (clip.params.buffer.startDuration < 0) {\n        clip.params.buffer.startOffset += clip.params.buffer.startDuration;\n        clip.params.buffer.startDuration = 0;\n      }\n    }\n\n    draw_buffer_controls(clip, buffer_rect);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](buffer_rect);\n  }\n}\n\nfunction layout_increment_to_minimum(min_x, min_y) {\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n\n  if (peek.mode == _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"]) {\n    layout_increment_to_minimum_for_vertical(min_x, min_y);\n  } else if (peek.mode == _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"]) {\n    layout_increment_to_minimum_for_horizontal(min_x, min_y);\n  }\n}\n\nfunction layout_increment_to_minimum_for_vertical(min_x, min_y) {\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n  var prior_totalw = peek.totalw;\n  var prior_totalh = peek.totalw; //uidraw.rectangle(Rectangle(peek.ox, peek.oy + peek.padding * 3, prior_totalw, prior_totalh), [0,0,255,50]);\n  //console.log(prior_totalw, prior_totalh);\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n\n  if (true) {\n    // just increment\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](min_x, 0);\n  } else {}\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n\n  if (true) {\n    // calc dy and increment\n    var dy = min_y - prior_totalh;\n    var positive_dy = Math.max(0, dy);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, positive_dy);\n  } else { var _positive_dy, _dy; }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction layout_increment_to_minimum_for_horizontal(min_x, min_y) {\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n  var prior_totalw = peek.totalw;\n  var prior_totalh = peek.totalw; //uidraw.rectangle(Rectangle(peek.ox, peek.oy + peek.padding * 3, prior_totalw, prior_totalh), [0,0,255,50]);\n  //console.log(prior_totalw, prior_totalh);\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n\n  if (true) {\n    // just increment\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, min_y);\n  } else {}\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n\n  if (true) {\n    // calc dx and increment\n    var dx = min_x - prior_totalw;\n    var positive_dx = Math.max(0, dx);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](positive_dx, 0);\n  } else { var _positive_dx, _dx; }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_edit_nodes(uiid) {\n  var _;\n\n  var clip = _clips[_clip_selected];\n  var horizontal = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n  var rect_dilated = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](Rectangle(horizontal.x, horizontal.y, _dim_x, _dim_y), _border_size);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect_dilated, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]); // snap grid lines\n\n  if (_block_snap_enabled) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"]('rgba(255,255,255,0.25)'); //uidraw.push_linedash([1,3]);\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n    draw_grid_lines(_dim_x, _dim_y, _block_snap_amount, 0.5);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"](); //uidraw.pop_linedash();\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n    {\n      // sub grid\n      // handle snap grid lines\n      var sub_grid_will_draw = true;\n      var sub_grid_amount = _block_snap_amount / 2;\n\n      if (sub_grid_will_draw) {\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"]('rgba(255,255,255,0.15)');\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linedash\"]([1, 7]);\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n        draw_grid_lines(_dim_x, _dim_y, sub_grid_amount, 0.5);\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linedash\"]();\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n      }\n    }\n  } // block snap grid lines\n\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n  {\n    // editor left vertical panel-ish\n    var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n    if (!state) {\n      state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n        'previous_drag_x': null,\n        'previous_drag_y': null\n      });\n    }\n\n    ;\n    do_wires_edit(uiid + '-wire-edit'); // a root uiid for sub-controls\n    //debug_layout('foo', ui.layout_peek(), [255,0,0,40], [255,255,0,255]);\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](_dim_x, _dim_y); // this needs to be after logic call and reticle            \n    //debug_layout('foo2', ui.layout_peek(), [0,0,255,40], [0,255,255,255]);\n\n    if (true) {\n      // under the editor\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n      {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n\n        if (false) { var label_rect; } // selected point vertical\n\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    } // under the editor\n\n  } // editor left vertical panel\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](8, 0);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"](); // right vertical control panel\n\n  {\n    {\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-reset-button', 'reset', RectangleP(0, 0, 200, 40));\n\n      if (_.clicked) {\n        init();\n      }\n\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-disconnect-button', 'disconnect all', RectangleP(0, 0, 200, 40));\n\n      if (_.clicked) {\n        for (var i = 0; i < _wire_connections.length; i++) {\n          if (_wire_connections[i] != null) {\n            disconnect_wire(i);\n          }\n        }\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n\n    if (true) {\n      // block snap\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('block snap', RectangleP(20 + 4, 0, 200, 20));\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-block-snap-enabled-checkbox', RectangleP(0, 0, 20, 20), _block_snap_enabled);\n\n      if (_.changed) {\n        _block_snap_enabled = _.value;\n      }\n\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-block-snap-amount-slider', RectangleP(0, 0, 200 - 20, 20), 1, 128, _block_snap_amount, _block_snap_amount);\n\n      if (_.changed) {\n        _block_snap_amount = _.value;\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    } // block snap\n\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n  } // right vertical control panel        \n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horizontal\n} // do_edit\n\n\nfunction do_list(uiid) {\n  var _;\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"](); // container\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n\n  if (false) { var new_clip; }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"](); // body\n\n  var scroll_uiid = uiid + '-scroll-clips';\n  var scroll = Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_7__[\"do_scroll_begin\"])(scroll_uiid, RectangleP(0, 0, 150, 376), 24, _clips.length);\n\n  for (var i = scroll.first_visible_index; i < scroll.last_visible_index; i++) {\n    var clip = _clips[i];\n    Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_7__[\"do_scroll_item_begin\"])(scroll_uiid, i);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n    var swatch_rect = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](RectangleP(0, 0, 32, 32), 1);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"rectangle\"](swatch_rect, clip.color);\n\n    var _2 = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](scroll_uiid + '-button-' + i, clip.label, RectangleP(0, 0, 150 - 24, 32), _clip_selected == i);\n\n    if (_2.clicked) {\n      _clip_selected = i;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_7__[\"do_scroll_item_end\"])(scroll_uiid);\n  }\n\n  Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_7__[\"do_scroll_end\"])(scroll_uiid); //ui.layout_increment2(0, 400);\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // body\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // container\n} // do_list\n\n\nvar _track_item_went_down_offset;\n\nfunction do_sequencer(uiid) {\n  var _;\n\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n  {\n    // top bar\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"](-1);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n    var names = [];\n\n    for (var i = 0; i < names.length; i++) {\n      var name = names[i];\n      var is_tool_selected = _tool_selected == name;\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-tool-button-' + name, name, RectangleP(0, 0, 80, 40), is_tool_selected);\n\n      if (_.changed) {\n        _tool_selected = name;\n      }\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-play-button', 'play >', RectangleP(0, 0, 60, 40));\n    if (_.clicked) sequencer_start_play();\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-stop-button', 'stop', RectangleP(0, 0, 60, 40));\n    if (_.clicked) sequencer_stop_play(); //_ = ui.button(uiid + '-resume-button', 'resume', RectangleP(0, 0, 60, 40));\n    //if (_.clicked) sequencer_resume_play();\n    //ui.label(sequencer.play_state, RectangleP(0, 0, 200, 20));\n\n    /*_ = ui.slider(uiid + '-bpm-slider', Rectangle(0, 0, 200, 40), 20, 200, sequencer.bpm, sequencer.bpm + '');\r\n    if (_.changed) {\r\n        sequencer.bpm = _.value;\r\n    }*/\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](20, 0);\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-volume-slider', Rectangle(0, 0, 200, 40), 0, 120, Math.round(sequencer.volume.gain.value * 100), '');\n\n    if (_.changed) {\n      set_master_volume(_.value / 100);\n      /*for (let i = 0; i < _started_gains.length; i++) {\r\n          _started_gains[i].gain.value = sequencer.volume.gain.value;\r\n      }*/\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](20, 0);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('volume: ' + Math.round(sequencer.volume.gain.value * 100) + '%', Rectangle(0, 0, 100, 40));\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horizontal\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 10 + 10);\n  } // top bar\n\n  var bps = sequencer.bpm / 60;\n  var pixels_per_second = sequencer.pixels_per_second;\n  var track_count = sequencer.tracks.length;\n  var track_height = sequencer.track_height; //const tracks_rect = RectangleP(peek.x, peek.y, sequencer.width, track_height * track_count);\n\n  var tracks_rect = RectangleP(peek.x, peek.y, sequencer.duration * pixels_per_second * bps, track_height * track_count);\n  sequencer.tracks_rect = tracks_rect;\n  var track_height_total = track_height * sequencer.tracks.length;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](tracks_rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]); // draw lines, sequencer lines, horizontal lines\n\n  for (var track_num = 0; track_num < track_count + 1; track_num++) {\n    // +1 final line\n    var track_x0 = tracks_rect.x;\n    var track_y0 = tracks_rect.y + track_num * track_height;\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(track_x0, track_y0, tracks_rect.w, 1), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  } // vertical lines / markers\n\n\n  var count = Math.floor(sequencer.duration);\n\n  if (true) {\n    // vertical markers\n    for (var _track_num = 1; _track_num < track_count + 1; _track_num++) {\n      // =1 skip first line, +1 add final line\n      var _track_y = tracks_rect.y + _track_num * track_height;\n\n      for (var _i2 = 0; _i2 < count + 1; _i2++) {\n        // +1 final line\n        var x = _i2 * bps * pixels_per_second;\n        var tiny = 1;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(tracks_rect.x + x - tiny, _track_y - tiny * 2, tiny * 2, tiny * 2), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n      }\n    }\n  } else { var _x, _i3; }\n\n  var redraw_rect;\n  var redraw_item; // draw track items\n\n  for (var _track_num2 = 0; _track_num2 < track_count; _track_num2++) {\n    var _track_x = tracks_rect.x;\n\n    var _track_y2 = tracks_rect.y + _track_num2 * track_height;\n\n    var track = sequencer.tracks[_track_num2];\n\n    for (var _i4 = track.length - 1; _i4 >= 0; _i4--) {\n      // draw track items in reverse                        \n      var track_item = track[_i4];\n      var item_color = track_item.item.color;\n      if (item_color == null) item_color = [127, 127, 127, 255];\n      var item_x = _track_x + track_item.x * pixels_per_second;\n      var item_duration = track_item.item.params.buffer.startDuration;\n      var item_playback_rate = track_item.item.params.buffer.playbackRate;\n      var item_rect = RectangleP(item_x, _track_y2, item_duration * pixels_per_second * (1 / item_playback_rate), track_height);\n\n      if (item_rect.w < _min_clip_draw_width) {\n        item_rect.w = _min_clip_draw_width;\n      }\n\n      var item_draw_rect = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](item_rect, 0);\n\n      if (item_draw_rect.w < _min_clip_draw_width) {\n        item_draw_rect.w = _min_clip_draw_width;\n      }\n\n      var track_item_uiid = get_track_item_uiid(_track_num2, _i4);\n      var is_selected = _track_item_selected == track_item_uiid;\n      {\n        // track item 'move' logic\n        var was_dropped = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_was_dropped == track_item_uiid;\n        var went_down = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == track_item_uiid;\n        var is_held = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == track_item_uiid;\n        var is_hovered = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_hovered == track_item_uiid;\n\n        if (went_down) {\n          _track_item_selected = track_item_uiid;\n          _track_item_selected_track_num = _track_num2;\n          _track_item_selected_i = _i4;\n          var track_item_selected = sequencer.tracks[_track_num2][_i4];\n          _clip_selected = track_item_selected.item.index;\n          _track_item_went_down_offset = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x - item_rect.x;\n          console.log(_track_item_went_down_offset);\n        }\n\n        if (is_held || was_dropped) {\n          //draw_clip(track_item.item, item_draw_rect, false);\n          //uidraw.rectangle(item_draw_rect, [0,0,0,150]);\n          // old\n          //track_item.x += ui.state.mouselocation_delta.x / pixels_per_second;\n          //track_item.x = clamp(track_item.x, 0, sequencer.duration);\n          // new\n          var mouse_went_down_point_x = void 0;\n          var mouse_went_down_delta_x = void 0;\n          var mouse_went_down_delta_y = void 0;\n\n          if (is_held) {\n            mouse_went_down_point_x = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_point.x;\n            mouse_went_down_delta_x = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_delta[0];\n            mouse_went_down_delta_y = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_delta[1];\n          } else {\n            // was_dropped\n            mouse_went_down_point_x = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_point_prev.x;\n            mouse_went_down_delta_x = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_delta_prev[0];\n            mouse_went_down_delta_y = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_delta_prev[1];\n          }\n\n          track_item.x = (-_track_item_went_down_offset + mouse_went_down_point_x + mouse_went_down_delta_x - peek.x) / pixels_per_second;\n\n          if (track_item.x < 0) {\n            track_item.x = 0;\n          }\n\n          var audio_file = _audio_files_by_name[track_item.item.audio_file_name];\n          var buffer_w = audio_file.buffer.duration * (1 / track_item.item.params.buffer.playbackRate);\n\n          if (track_item.x > sequencer.duration * bps - buffer_w) {\n            track_item.x = sequencer.duration * bps - buffer_w;\n          } //track_item.x = clamp(track_item.x, 0, sequencer.duration);\n\n\n          if (true) {\n            var bpm = sequencer.bpm;\n\n            var _bps = bpm / 60;\n\n            track_item.x = Math.round(track_item.x / _bps) * _bps;\n          } // can detect movement to other tracks with mouse_went_down_delta                \n\n\n          var track_switch_delta = Math.trunc(mouse_went_down_delta_y / track_height);\n\n          if (true) {\n            var new_track_num = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(_track_num2 + track_switch_delta, 0, sequencer.tracks.length - 1);\n            var new_track_y0 = tracks_rect.y + new_track_num * track_height;\n            var drag_draw_rect = RectangleP(item_rect.x, new_track_y0, item_rect.w, item_rect.h);\n            draw_clip(track_item.item, drag_draw_rect, is_selected);\n\n            if (is_selected) {\n              redraw_rect = drag_draw_rect;\n              redraw_item = track_item.item;\n            } //uidraw.rectangle(drag_draw_rect, [255,255,255,100]);\n\n          }\n        } else {\n          // not held, not dropped\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](track_item_uiid, item_rect);\n          draw_clip(track_item.item, item_draw_rect, is_selected);\n\n          if (is_selected) {\n            redraw_rect = item_draw_rect;\n            redraw_item = track_item.item;\n          }\n\n          if (is_hovered) {\n            var previous_blend_mode = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].globalCompositeOperation;\n            _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].globalCompositeOperation = 'soft-light';\n            _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](item_draw_rect, [255, 255, 255, 128]);\n            _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].globalCompositeOperation = previous_blend_mode;\n          }\n        }\n\n        if (was_dropped) {\n          var _track_switch_delta = Math.trunc(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_delta_prev[1] / track_height);\n\n          var _new_track_num = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(_track_num2 + _track_switch_delta, 0, sequencer.tracks.length - 1);\n\n          if (_track_num2 != _new_track_num) {\n            console.log('track_switch: ', _new_track_num); // remove track item from this track\n\n            sequencer.tracks[_track_num2].splice(_i4, 1);\n\n            sequencer.tracks[_new_track_num].push(track_item);\n\n            console.assert(_track_item_selected == track_item_uiid);\n            var new_i = sequencer.tracks[_new_track_num].length - 1;\n            var new_track_item_uiid = get_track_item_uiid(_new_track_num, new_i);\n            _track_item_selected = new_track_item_uiid;\n            _track_item_selected_track_num = _new_track_num;\n            _track_item_selected_i = new_i;\n          }\n        }\n      } // track item 'move' logic \n    } // for each track item\n\n  } // for each track\n\n\n  {\n    // drag onto logic\n    var get_clip_index_from_clip_button_uiid = function get_clip_index_from_clip_button_uiid(uiid) {\n      if (uiid == null) return null;\n      var uiid_split = uiid.split('-');\n      var uiid_i = uiid_split.splice(-1);\n      var uiid_without_i = uiid_split.join('-');\n\n      if (uiid_without_i == 'clip-list-scroll-clips-button') {\n        return uiid_i;\n      } else {\n        return null;\n      }\n    };\n\n    var clip_index_held = get_clip_index_from_clip_button_uiid(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held); //const drag_hotspot_uiid = uiid + '-drag-clip-hotspot';\n\n    var drop_target_uiid = 'clip-sequence-panel-panel-bg-hotspot';\n\n    if (clip_index_held != null) {\n      //const drag_hotspot = ui.layout_translated(RectangleP(0, 0, sequencer.width, track_height_total));\n      //ui.add_hotspot(drag_hotspot_uiid, drag_hotspot);\n      var clip = _clips[clip_index_held];\n      var track_item_width = get_clip_width(clip);\n      var new_x = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x; //const track_num = Math.trunc(rel_y / track_height);\n      //const new_y = peek.y + track_num * track_height;\n\n      var new_y = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y;\n      var new_w = clip.params.buffer.startDuration * pixels_per_second * (1 / clip.params.buffer.playbackRate);\n\n      if (new_w < _min_clip_draw_width) {\n        new_w = _min_clip_draw_width;\n      } //const is_over_drop_target = drop_target_uiid == ui.state.item_hovered_under_held;\n\n\n      var is_over_drop_target = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"rectangle_contains\"](sequencer.tracks_rect.x, sequencer.tracks_rect.y, sequencer.tracks_rect.w, sequencer.tracks_rect.h, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y);\n      var fat_held_border_color = [255, 255, 255, 50];\n\n      if (is_over_drop_target) {\n        // if held over drop target, then fit x/y\n        var fitted_xy = get_tracks_rect_fitted_xy(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y, track_item_width);\n        new_x = sequencer.tracks_rect.x + fitted_xy[0];\n        new_y = sequencer.tracks_rect.y + fitted_xy[1];\n        fat_held_border_color = [255, 255, 255, 150];\n\n        if (false) {}\n      }\n\n      var rect = RectangleP(new_x, new_y, new_w, track_height);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, 4), fat_held_border_color);\n\n      if (false) {} else {\n        draw_clip(clip, rect, false);\n      }\n    } // if clip_index_held\n\n\n    var clip_index_dropped = get_clip_index_from_clip_button_uiid(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_was_dropped);\n\n    if (clip_index_dropped != null) {\n      var _clip = _clips[clip_index_dropped];\n\n      var _track_item_width = get_clip_width(_clip);\n\n      var _fitted_xy = get_tracks_rect_fitted_xy(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y, _track_item_width);\n\n      var rel_y = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y - peek.y;\n      var tmp_track_num = Math.trunc(rel_y / track_height);\n\n      var _new_track_num2 = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(tmp_track_num, 0, sequencer.tracks.length - 1);\n\n      var _is_over_drop_target = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"rectangle_contains\"](sequencer.tracks_rect.x, sequencer.tracks_rect.y, sequencer.tracks_rect.w, sequencer.tracks_rect.h, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y);\n\n      if (_is_over_drop_target) {\n        var _new_w = _clip.params.buffer.startDuration * pixels_per_second; // TrackItem x is local to tracks_rect\n\n\n        var _track_item = TrackItem(_fitted_xy[0] / pixels_per_second, _new_w, _clip);\n\n        sequencer.tracks[_new_track_num2].push(_track_item);\n\n        console.log('>>> adding via drop >>>', _track_item);\n\n        var _new_i = sequencer.tracks[_new_track_num2].length - 1;\n\n        var _new_track_item_uiid = get_track_item_uiid(_new_track_num2, _new_i);\n\n        _track_item_selected = _new_track_item_uiid;\n        _track_item_selected_track_num = _new_track_num2;\n        _track_item_selected_i = _new_i;\n        _clip_selected = clip_index_dropped;\n      }\n    }\n  } // drag onto logic\n  // redraw the selected item, so when dragging it is always on top\n  // and so that the selected indicator is drawn on top of everything else\n\n  if (redraw_rect) {\n    // redraw selected item on top\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](redraw_rect, 4), [255, 255, 255, 255]);\n    draw_clip(redraw_item, redraw_rect, true);\n  }\n\n  {\n    // draw play cursor\n    var play_cursor_x = sequencer.play_cursor * pixels_per_second;\n    var dim = 11;\n    var handle_rect = RectangleP(peek.x + play_cursor_x - dim, peek.y - dim, dim * 2, track_height_total + dim * 2);\n    var handle_uiid = uiid + '-handle';\n    var is_handle_held = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == handle_uiid;\n    var is_handle_hovered = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_hovered == handle_uiid;\n    var handle_color;\n\n    if (is_handle_held) {\n      handle_color = [_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"][0], _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"][1], _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"][2], 255];\n    } else if (is_handle_hovered) {\n      //handle_color = [255,255,0,255];\n      handle_color = [255, 255, 255, 255]; //handle_color = uidraw.activating_face;\n    } else {\n      handle_color = [255, 255, 0, 255]; // [uidraw.accent[0], Math.min(uidraw.accent[1]*2, 255), uidraw.accent[2], 255];\n    } //const handle_color_fade = [uidraw.accent[0], Math.min(uidraw.accent[1]*2, 255), uidraw.accent[2], 100];\n    // cursor triangle\n\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].beginPath();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_fillstyle\"](Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])(handle_color));\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].moveTo(peek.x + play_cursor_x - dim, peek.y - dim - 1);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].lineTo(peek.x + play_cursor_x + dim, peek.y - dim - 1);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].lineTo(peek.x + play_cursor_x, peek.y - 1);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].lineTo(peek.x + play_cursor_x - dim, peek.y - dim - 1);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fill();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_fillstyle\"](); // vertical line\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(peek.x + play_cursor_x - 2, peek.y - 3, 4, track_height_total + 3), handle_color); // hotspot debug\n    //uidraw.rectangle(handle_rect, handle_color_fade); // debug        \n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](handle_uiid, handle_rect);\n\n    if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == handle_uiid) {\n      sequencer.play_cursor_went_down_value = sequencer.play_cursor;\n      sequencer.play_state_before_cursor_held = sequencer.play_state;\n    }\n\n    if (is_handle_held) {\n      //const dx = ui.state.mouselocation_delta.x;\n      //sequencer.play_cursor = dx / pixels_per_second;\n      var dx = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_delta[0] / pixels_per_second;\n      sequencer.play_cursor = sequencer.play_cursor_went_down_value + dx;\n      var play_cursor_min = 0;\n\n      if (sequencer.play_cursor < play_cursor_min) {\n        sequencer.play_cursor = play_cursor_min;\n      }\n\n      var play_cursor_max = sequencer.duration * sequencer.bpm / 60;\n\n      if (sequencer.play_cursor > play_cursor_max) {\n        sequencer.play_cursor = play_cursor_max;\n      } // snap and mouselocation_delta never work together\n\n\n      if (true) {\n        // snap cursor because we don't currently support starting from middle of clips\n        var _bps2 = sequencer.bpm / 60;\n\n        sequencer.play_cursor = Math.floor(sequencer.play_cursor / _bps2) * _bps2;\n      }\n\n      sequencer_stop_play();\n    }\n\n    if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_was_dropped == handle_uiid) {\n      // need to do this very carefully.. todo nolive\n      // sequencer.play_cursor has its latest position\n      // need to set other vars so it remains valid...\n      sequencer_stop_all_sources();\n      sequencer_stop_play();\n      sequencer.play_started_time = _audio_context.currentTime - sequencer.play_cursor;\n      sequencer.ahead_cursor = sequencer.play_cursor;\n\n      if (sequencer.play_state_before_cursor_held == 'play') {\n        sequencer_start_play();\n      } // normal logic in update-play is:\n      //sequencer.play_cursor = _audio_context.currentTime - sequencer.play_started_time;\n      //sequencer.ahead_cursor = sequencer.play_cursor + sequencer.ahead_duration;            \n\n    }\n  }\n\n  if (false) { var ahead_cursor_x; }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](sequencer.width, track_height_total);\n\n  if (false) {}\n\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-clip-delete-button', 'delete selected', RectangleP(0, 0, 130, 40));\n\n  if (_.clicked) {\n    var _track_item2 = sequencer.tracks[_track_item_selected_track_num];\n\n    if (_track_item2) {\n      _track_item2.splice(_track_item_selected_i, 1);\n\n      _track_item_selected = null;\n      _track_item_selected_track_num = null;\n      _track_item_selected_i = null;\n    }\n  }\n\n  sequencer_update_play();\n} // do_sequencer\n\n\nfunction do_scroll_audio_files(uiid) {\n  var scroll = Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_7__[\"do_scroll_begin\"])(uiid, RectangleP(0, 0, 300, 300), 20, _audio_files.length);\n\n  for (var i = scroll.first_visible_index; i < scroll.last_visible_index; i++) {\n    var audio_file = _audio_files[i];\n    Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_7__[\"do_scroll_item_begin\"])(uiid, i);\n    var clip_selected = _clips[_clip_selected];\n    var is_selected = clip_selected.audio_file_name == audio_file.name; //console.log('x', _audio_file_selected, audio_file.name);\n\n    var _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-button-' + i, audio_file.name, RectangleP(0, 0, 300, 20), is_selected);\n\n    if (_.clicked) {\n      select_audio_file(audio_file.name);\n    }\n\n    Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_7__[\"do_scroll_item_end\"])(uiid);\n  }\n\n  Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_7__[\"do_scroll_end\"])(uiid);\n} // random between a and b\n\n\nfunction randomInt(a, b) {\n  var delta = b - a + 1; // the +1 makes it inclusive\n\n  var rand = Math.floor(Math.random() * delta);\n  return a + rand;\n}\n\nfunction draw_grid_lines(dim_x, dim_y, snap_amount, hax_subpixel) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, dim_x, dim_y)); // might be a param\n\n  var w = Math.trunc(dim_x / snap_amount);\n  var h = Math.trunc(dim_y / snap_amount);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n\n  for (var x = 1; x <= w; x++) {\n    if (x * snap_amount == dim_x) continue; // skip if it's at border, since we decide to skip the other side by starting at 1\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x * snap_amount + hax_subpixel, rect.y + hax_subpixel);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x * snap_amount + hax_subpixel, rect.y + rect.h + hax_subpixel);\n  }\n\n  for (var y = 1; y <= h; y++) {\n    if (y * snap_amount == dim_y) continue; // same as above\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + hax_subpixel, rect.y + y * snap_amount + hax_subpixel);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + rect.w + hax_subpixel, rect.y + y * snap_amount + hax_subpixel);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n}\n\nfunction do_wires_edit(uiid) {\n  var _;\n\n  clear_slot_uiid_associations(); // wire origin back, under blocks\n\n  for (var i = 0; i < _slots.length; i++) {\n    var wire = _wires[i];\n    var wire_dest_uiid = get_wire_dest_uiid(uiid, i);\n    var draw_context = {\n      is_connected: _wire_connections[i] != null,\n      is_held: _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == wire_dest_uiid\n    };\n    draw_wire_origin_back(wire, draw_context);\n  } // blocks\n\n\n  for (var _i5 = 0; _i5 < _blocks.length; _i5++) {\n    var block = _blocks[_i5];\n    var block_uiid = uiid + '-block-#' + _i5;\n    do_block(block, block_uiid);\n  } // slots\n\n\n  for (var _i6 = 0; _i6 < _slots.length; _i6++) {\n    var slot = _slots[_i6];\n    var slot_rect_local = RectangleP(slot.position.x - slot_size_half, slot.position.y - slot_size_half, slot_size, slot_size);\n    var slot_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](slot_rect_local);\n    var slot_uiid = uiid + '-slot-#' + _i6;\n    associate_slot_to_uiid(_i6, slot_uiid);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](slot_uiid, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](slot_rect, 10));\n    var held_wire_kind = void 0;\n    var held_wire_index = void 0;\n    {\n      // get_held_wire_kind\n      // tiny hack\n      for (var j = 0; j < _wires.length; j++) {\n        var _wire_dest_uiid = get_wire_dest_uiid(uiid, j);\n\n        var wire_is_held = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == _wire_dest_uiid;\n\n        if (wire_is_held) {\n          held_wire_kind = _wires[j].kind;\n          held_wire_index = j;\n          break;\n        }\n      }\n    }\n    var is_same_kind_wire_held = held_wire_kind != null && held_wire_kind == slot.kind;\n    var is_valid_wire_held_on_slot = void 0;\n\n    if (held_wire_index != null) {\n      // more hackin, hackin and stackin, ur usin way too many napkins\n      var slot_index = get_slot_index(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_hovered_under_held);\n      var slot_valid = is_valid_wire_slot(held_wire_index, slot_index);\n      var is_this_slot = slot_index == _i6;\n      is_valid_wire_held_on_slot = slot_valid && is_this_slot;\n    }\n\n    var _draw_context = {\n      is_same_kind_wire_held: is_same_kind_wire_held,\n      is_valid_wire_held_on_slot: is_valid_wire_held_on_slot\n    };\n    draw_slot(slot, _draw_context);\n  } // wires\n\n\n  for (var _i7 = 0; _i7 < _wires.length; _i7++) {\n    var _wire = _wires[_i7];\n    console.assert(_wire.dest != null);\n\n    var _wire_dest_uiid2 = get_wire_dest_uiid(uiid, _i7);\n\n    var _wire_is_held = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == _wire_dest_uiid2;\n\n    var wire_reticle_size = 28;\n    var wire_reticle_size_half = 14;\n    var wire_is_connected = _wire_connections[_i7] != null;\n    var wire_dest_is_hovered = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_hovered == _wire_dest_uiid2;\n\n    var _slot_index = get_slot_index(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_hovered_under_held);\n\n    var _slot_valid = is_valid_wire_slot(_i7, _slot_index);\n\n    var wire_held_color_css = void 0;\n\n    if (_slot_valid && _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == _wire_dest_uiid2) {\n      var c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n      wire_held_color_css = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])([c[0], c[1], c[2], 255]); // make_css_color(uidraw.accent);\n    } else {\n      wire_held_color_css = 'rgba(200,200,200,0.5)';\n    } // do wire, then origin, then dest\n\n\n    {\n      // wire connection\n      var connected_slot = _wire_connections[_i7];\n\n      if (_wire_is_held || connected_slot != null) {\n        var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n        var x0 = peek.x + _wire.origin.x;\n        var y0 = peek.y + _wire.origin.y;\n        var x1 = peek.x + _wire.dest.x;\n        var y1 = peek.y + _wire.dest.y;\n\n        if (true) {\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x0, y0); // origin\n\n          var dx = 0 | x1 - x0;\n          var dx_part = 0 | Math.round(dx / 2); //const dy = 0 | (y1 - y0);\n\n          var dy_part = 0 | 0; // 0 | Math.round(dy / 1); // ugly effect\n\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](4);\n\n          if (_wire_is_held) {\n            _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](wire_held_color_css);\n          } else {\n            _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"]('white');\n          }\n\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].bezierCurveTo(x0 + dx_part, y0 - dy_part, // control point a\n          x1 - dx_part, y1 + dy_part, // control point b\n          x1, y1 // dest\n          );\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n        } else {}\n      }\n    }\n    var wire_is_held_over_valid_slot = void 0;\n    {\n      wire_is_held_over_valid_slot = _wire_is_held && _slot_valid;\n    }\n    var _draw_context2 = {\n      is_connected: wire_is_connected,\n      is_held: _wire_is_held,\n      is_held_over_valid_slot: wire_is_held_over_valid_slot,\n      dest_is_hovered: wire_dest_is_hovered\n    };\n    {\n      // draw wire origin\n      draw_wire_origin_fore(_wire, _draw_context2);\n    }\n    {\n      // wire dest                        \n      var wire_dest_rect_local = Rectangle(_wire.dest.x - wire_reticle_size_half, _wire.dest.y - wire_reticle_size_half, wire_reticle_size, wire_reticle_size);\n      var wire_dest_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](wire_dest_rect_local);\n      draw_wire_dest_back(wire_dest_rect, _draw_context2);\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"reticle\"](_wire_dest_uiid2, wire_dest_rect_local, _wire.dest.x, _wire.dest.y);\n      draw_wire_dest_fore(_wire, wire_dest_rect, _draw_context2);\n\n      if (_.changed) {\n        //console.log('wire_dest changed', _.x1, _.y1);\n        var new_x = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(_.x1, 0, _dim_x);\n        var new_y = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(_.y1, 0, _dim_y);\n        /*if (false) {\r\n            new_x = Math.round(new_x / _point_snap_amount) * _point_snap_amount;\r\n            new_y = Math.round(new_y / _point_snap_amount) * _point_snap_amount;\r\n            new_x = clamp(new_x, 0, _dim_x);\r\n            new_y = clamp(new_y, 0, _dim_y);    \r\n        }*/\n\n        _wire.dest.x = new_x;\n        _wire.dest.y = new_y; // snap to valid slot (this will cause back-and-forth bugs, cuz of the grab offset... hmmm))\n\n        /*if (wire_is_held_over_valid_slot) {\r\n            const slot = _slots[slot_index];\r\n            wire.dest.x = slot.position.x;\r\n            wire.dest.y = slot.position.y;\r\n        }*/\n\n        if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_was_dropped == _wire_dest_uiid2) {\n          //console.log('>>> item_hovered_under_held >>> ', ui.state.item_hovered_under_held);\n          // handle slot connections                    \n          if (_slot_valid) {\n            connect_wire(_i7, _slot_index);\n            console.log('>>> connecting wire: ' + _i7 + ' to ' + _slot_index);\n          } else {\n            // handle slot disconnections\n            //if (slot_index == null) {\n            // console.log('item dropped and slot index null');\n            // wire dest will NOT be held after mouse_went_up\n            var is_wire_connected = _wire_connections[_i7] != null; //console.log('is_wire_connected', is_wire_connected);\n\n            if (is_wire_connected) {\n              disconnect_wire(_i7);\n              console.log('>>> disconnecting wire: ' + _i7); // wire held, not connected, mouse went up, not on a slot\n            } else {\n              _wire.dest.x = _wire.origin.x;\n              _wire.dest.y = _wire.origin.y;\n            }\n          }\n        } // item was dropped\n\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](-wire_reticle_size - 4, -wire_reticle_size - 4); // why -4 lol nolive (layout padding prolly)\n    }\n  }\n}\n\nfunction get_slot_index(uiid) {\n  return _slot_indexes_by_uiid[uiid];\n}\n\nfunction is_valid_wire_slot(wire_index, slot_index) {\n  // slot_index not null &\n  // wire and slot kind the same &\n  // slot not connected || slot is connected to this wire (they can drop it back on itself)\n  return slot_index != null && _wires[wire_index].kind == _slots[slot_index].kind && (_slot_connections[slot_index] == null || _slot_connections[slot_index] == wire_index);\n}\n\nfunction connect_wire(wire_index, slot_index) {\n  var wire_is_connected = _wire_connections[wire_index] != null;\n\n  if (wire_is_connected) {\n    disconnect_wire(wire_index);\n  }\n\n  var slot = _slots[slot_index];\n  _wires[wire_index].dest.x = slot.position.x;\n  _wires[wire_index].dest.y = slot.position.y;\n  _wire_connections[wire_index] = slot_index;\n  _slot_connections[slot_index] = wire_index;\n}\n\nfunction disconnect_wire(i) {\n  var slot_index = _wire_connections[i];\n  _wire_connections[i] = null;\n  console.assert(slot_index != null);\n  _slot_connections[slot_index] = null;\n  _wires[i].dest.x = _wires[i].origin.x;\n  _wires[i].dest.y = _wires[i].origin.y;\n} // ---\n\n\nfunction add_block(block) {\n  _blocks.push(block);\n}\n\nfunction move_block(block, new_x, new_y) {\n  var dx = new_x - block.rect.x;\n  var dy = new_y - block.rect.y;\n  block.rect.x = new_x;\n  block.rect.y = new_y;\n\n  for (var i = 0; i < block.wire_indexes.length; i++) {\n    var wire_index = block.wire_indexes[i];\n    var wire = _wires[wire_index];\n    wire.origin.x += dx;\n    wire.origin.y += dy; // if wire is not connected, then move dest as well\n\n    var is_wire_connected = _wire_connections[wire_index] != null;\n\n    if (!is_wire_connected) {\n      wire.dest.x += dx;\n      wire.dest.y += dy;\n    }\n  }\n\n  for (var _i8 = 0; _i8 < block.slot_indexes.length; _i8++) {\n    var slot_index = block.slot_indexes[_i8];\n    var slot = _slots[slot_index];\n    slot.position.x += dx;\n    slot.position.y += dy; // move the wire dest connected to this slot\n\n    var _wire_index = _slot_connections[slot_index];\n\n    if (_wire_index != null) {\n      var _wire2 = _wires[_wire_index];\n      _wire2.dest.x += dx;\n      _wire2.dest.y += dy;\n    }\n  }\n}\n\nvar _block_down_center_offset = [0, 0];\n\nfunction do_block(block, block_uiid) {\n  var block_rect_local = block.rect;\n  var block_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](block_rect_local);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](block_uiid, block_rect);\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == block_uiid) {\n    var dx = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_point.x - block_rect.x;\n    var dy = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_point.y - block_rect.y;\n    _block_down_center_offset[0] = dx;\n    _block_down_center_offset[1] = dy;\n  }\n\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == block_uiid) {\n    //console.log(ui.state.mouse_went_down_point.x, ui.state.mouse_went_down_delta[0], peek.x);\n    var new_x = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_point.x + _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_delta[0] - peek.x - _block_down_center_offset[0];\n    var new_y = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_point.y + _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_delta[1] - peek.y - _block_down_center_offset[1];\n\n    if (_block_snap_enabled) {\n      new_x = Math.round(new_x / _block_snap_amount) * _block_snap_amount;\n      new_y = Math.round(new_y / _block_snap_amount) * _block_snap_amount;\n    }\n\n    var min_x = 0;\n    var min_y = 0;\n    var max_x = _dim_x - block_rect.w;\n    var max_y = _dim_y - block_rect.h;\n    new_x = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"](new_x, min_x, max_x);\n    new_y = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"](new_y, min_y, max_y);\n    move_block(block, new_x, new_y);\n  } else {}\n\n  draw_block(block, block_uiid);\n}\n\nfunction draw_block(block, block_uiid) {\n  var bg_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](block.rect);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d_soft\"](bg_rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n  var face_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == block_uiid) {\n    face_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d_soft\"](bg_rect, face_color);\n  {\n    // nolive: refactor/unify/compress centering\n    var text_width = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"get_text_width\"](block.label);\n    var offset_x = Math.round((block.rect.w - text_width) / 2);\n    var offset_y = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"get_vertical_centered_text_offset\"](block.rect.h);\n    var centered_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](RectangleP(block.rect.x + offset_x, block.rect.y + offset_y, text_width, block.rect.h)); //uidraw.rectangle(ui.layout_translated(centered_rect), [255,255,0,128]);\n    //ui.label(block.label, centered_rect);\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](block.label, centered_rect.x, centered_rect.y, [255, 255, 255, 255]);\n  }\n}\n\nfunction get_wire_dest_uiid(uiid, wire_index) {\n  return uiid + '-wire-dest-#' + wire_index;\n}\n\nfunction draw_wire_origin_back(wire, context) {\n  /*const rect_local = RectangleP(\r\n      wire.origin.x - slot_size_half,\r\n      wire.origin.y - slot_size_half,\r\n      slot_size, slot_size\r\n  )\r\n    //const peek = ui.layout_peek();\r\n  //const bg_rect = uidraw.rectangle_dilate(RectangleP(peek.x + rect_local.x, peek.y + rect_local.y, rect_local.w, rect_local.h), 10);\r\n  \r\n  //let c = uidraw.normal_face;\r\n    if (context.is_connected) {\r\n      //c = uidraw.accent;\r\n  }\r\n  if (context.is_held) {\r\n      //c = uidraw.activating_face;\r\n      //c = uidraw.accent;\r\n  }\r\n  \r\n  if (context.is_connected) {\r\n    } else {\r\n      //const origin_back_color = [c[0], c[1], c[2], 255];\r\n      //uidraw.circle(bg_rect, origin_back_color);\r\n  }*/\n}\n\nfunction draw_wire_origin_fore(wire, context) {\n  var dim = 20;\n  var dim_half = 10;\n  var wire_origin_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](RectangleP(wire.origin.x - dim_half, wire.origin.y - dim_half, dim, dim));\n  var c;\n\n  if (false) {} else if (context.is_held_over_valid_slot) {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n  } else if (context.is_connected) {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"];\n  } else {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"];\n  }\n\n  var origin_fill_color = [c[0], c[1], c[2], 255];\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](wire_origin_rect, origin_fill_color);\n\n  if (context.is_connected || context.is_held) {} else {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](wire.kind, wire_origin_rect.x + 5, wire_origin_rect.y + 2, [255, 255, 255, 255]);\n  }\n}\n\nfunction draw_wire_dest_back(wire_dest_rect, context) {\n  var c;\n\n  if (context.is_held_over_valid_slot) {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n  } else if (context.is_connected) {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]; // when connected and not held, another accent circle is drawn under this one\n    // this one shows when held and connected, which is an expected state (for now)\n  } else if (context.is_held) {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]; // uidraw.normal_back;\n  } else {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]; //uidraw.normal_back;\n  }\n\n  var back_color = [c[0], c[1], c[2], 255];\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](wire_dest_rect, back_color);\n}\n\nfunction draw_wire_dest_fore(wire, rect, context) {\n  /*if (context.is_connected) {\r\n      let c = uidraw.accent;\r\n      let back_color = [c[0], c[1], c[2], 255];\r\n      uidraw.circle(wire_dest_rect, back_color);\r\n  } else if (context.is_held) {\r\n      let c = uidraw.normal_face;\r\n      let back_color = [c[0], c[1], c[2], 255];\r\n      uidraw.circle(wire_dest_rect, back_color);\r\n  }*/\n  if (context.is_connected) {} else if (context.is_held) {//let c = uidraw.accent;\n    //let back_color = [c[0], c[1], c[2], 255];\n    //uidraw.circle(rect, back_color);\n  } else {//let c = uidraw.accent;\n      //let back_color = [c[0], c[1], c[2], 255];\n      //uidraw.circle(rect, back_color);    \n    }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](wire.kind, rect.x + 9, rect.y + 6, [255, 255, 255, 255]);\n}\n\nfunction draw_slot(slot, context) {\n  var slot_rect_local = RectangleP(slot.position.x - slot_size_half, slot.position.y - slot_size_half, slot_size, slot_size);\n  var slot_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](slot_rect_local);\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n  var slot_bg_rect = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](RectangleP(peek.x + slot_rect_local.x, peek.y + slot_rect_local.y, slot_rect_local.w, slot_rect_local.h), 10);\n  {\n    // slot fixture\n    // bg\n    if (context.is_valid_wire_held_on_slot) {\n      var slot_bg_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](slot_bg_rect, slot_bg_color);\n    } else {\n      var _slot_bg_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"];\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](slot_bg_rect, _slot_bg_color);\n    } // bg active\n\n\n    if (context.is_same_kind_wire_held) {\n      var _slot_bg_color2 = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](slot_bg_rect, _slot_bg_color2);\n    } // face\n\n\n    var slot_face_color;\n\n    if (context.is_valid_wire_held_on_slot) {\n      slot_face_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n    } else {\n      slot_face_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"];\n    }\n\n    var slot_face_rect = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](slot_bg_rect, 4);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](slot_face_rect, slot_face_color);\n  }\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](slot.kind, slot_rect.x + 5, slot_rect.y + 2, [255, 255, 255, 255]);\n}\n/*function draw_block_wire(block, wire) {\r\n    const block_center_x = block.rect.x + Math.round(block.rect.w / 2);\r\n    const block_center_y = block.rect.y + Math.round(block.rect.h / 2);\r\n\r\n    const origin_rect = RectangleP(\r\n        block_center_x + wire.origin.x - slot_size_half,\r\n        block_center_y + wire.origin.y - slot_size_half,\r\n        slot_size, slot_size\r\n    )\r\n\r\n    const origin_bg_rect = RectangleP(origin_rect.x, origin_rect.y, origin_rect.w, origin_rect.h);\r\n\r\n    { // wire origin\r\n        // bg\r\n        const origin_bg_color = uidraw.panel_color;       \r\n        uidraw.circle(origin_bg_rect, origin_bg_color);\r\n\r\n        // bg active\r\n        if (false) {\r\n            const origin_bg_color = uidraw.activating_face;\r\n            uidraw.circle(origin_bg_rect, origin_bg_color);\r\n        }\r\n\r\n        // face\r\n        const face_color = uidraw.normal_face;\r\n        const face_rect = uidraw.rectangle_erode(origin_bg_rect, 4);\r\n        uidraw.circle(face_rect, face_color);\r\n    }\r\n}*/\n\n\nfunction request_audio_file(name) {\n  var request = new XMLHttpRequest();\n  request.open('GET', 'free_audio/' + name, true);\n  request.responseType = 'arraybuffer';\n\n  request.onload = function () {\n    _audio_context.decodeAudioData(request.response, function (buffer) {\n      var audio_file = AudioFile(name, buffer);\n\n      _audio_files.push(audio_file);\n\n      _audio_files_by_name[name] = audio_file;\n      console.log('[audio loaded]', name);\n\n      if (_audio_files.length == _audio_files_to_load.length) {\n        on_file_load_complete();\n      }\n    }, function (e) {\n      \"Error with decoding audio data\" + e.err;\n    });\n  };\n\n  request.send();\n}\n\nfunction create_new_clip_from_loaded_audio_file(name) {\n  var name_split = name.split('/');\n  var clip_name = name_split.splice(-1)[0];\n  clip_name = clip_name.replace('.mp3', '');\n  clip_name = clip_name.replace('.wav', '');\n  clip_name = clip_name.replace('.ogg', '');\n  var clip = Clip(clip_name);\n  clip.volume = _audio_context.createGain();\n  clip.volume.gain.value = clip.params.volume.gain;\n  clip.volume.connect(sequencer.volume);\n  clip.path2.delay1 = _audio_context.createDelay();\n  clip.path2.conv1 = _audio_context.createConvolver();\n  clip.path2.delay2 = _audio_context.createDelay();\n  clip.path2.conv2 = _audio_context.createConvolver();\n  clip.path2.volume = _audio_context.createGain(); // secondary path, delay -> conv -> delay -> conv -> volume -> volume\n\n  {\n    clip.path2.delay1.delayTime.value = clip.params.path2.delay1.delayTime;\n    clip.path2.delay1.connect(clip.path2.conv1);\n    clip.path2.conv1.buffer = _audio_files_by_name['irHall.ogg'].buffer; //clip.path2.conv1.connect(clip.path2.delay2);\n\n    clip.path2.conv1.connect(clip.path2.volume); //clip.path2.delay2.delayTime.value = clip.params.path2.delay2.delayTime;\n    //clip.path2.delay2.connect(clip.path2.conv2);\n    //clip.path2.conv2.buffer = _audio_files_by_name['irHall.ogg'].buffer;\n    //clip.path2.conv2.connect(clip.path2.volume);\n\n    clip.path2.volume.gain.value = clip.params.path2.volume.gain;\n    clip.path2.volume.connect(clip.volume);\n  } // standalone mirror\n\n  clip.standalone_volume = _audio_context_standalone.createGain();\n  clip.standalone_volume.gain.value = clip.params.volume.gain;\n  clip.standalone_volume.connect(_audio_context_standalone_volume);\n  clip.standalone_path2.delay1 = _audio_context_standalone.createDelay();\n  clip.standalone_path2.conv1 = _audio_context_standalone.createConvolver();\n  clip.standalone_path2.delay2 = _audio_context_standalone.createDelay();\n  clip.standalone_path2.conv2 = _audio_context_standalone.createConvolver();\n  clip.standalone_path2.volume = _audio_context_standalone.createGain(); // secondary path, delay -> conv -> delay -> conv -> volume -> volume\n\n  {\n    clip.standalone_path2.delay1.delayTime.value = clip.params.path2.delay1.delayTime;\n    clip.standalone_path2.delay1.connect(clip.standalone_path2.conv1);\n    clip.standalone_path2.conv1.buffer = _audio_files_by_name['irHall.ogg'].buffer; //clip.standalone_path2.conv1.connect(clip.standalone_path2.delay2);\n\n    clip.standalone_path2.conv1.connect(clip.standalone_path2.volume); //clip.standalone_path2.delay2.delayTime.value = clip.params.path2.delay2.delayTime;\n    //clip.standalone_path2.delay2.connect(clip.standalone_path2.conv2);\n    //clip.standalone_path2.conv2.buffer = _audio_files_by_name['irHall.ogg'].buffer;\n    //clip.standalone_path2.conv2.connect(clip.standalone_path2.volume);\n\n    clip.standalone_path2.volume.gain.value = clip.params.path2.volume.gain;\n    clip.standalone_path2.volume.connect(clip.standalone_volume);\n  }\n  clip.color = _audio_file_colors_by_name[name];\n  var audio_file = _audio_files_by_name[name];\n  clip.audio_file_name = name;\n  clip.params.buffer.startDuration = audio_file.buffer.duration;\n  add_new_clip(clip);\n}\n\nvar _started_sources = [];\n\nfunction play_clip(clip, when) {\n  var audio_file = _audio_files_by_name[clip.audio_file_name];\n  var params = clip.params;\n  var buffer = audio_file.buffer;\n\n  var source = _audio_context.createBufferSource();\n\n  source.buffer = buffer;\n  source.loopStart = params.buffer.loopStart;\n  source.loopEnd = params.buffer.loopEnd;\n  source.loop = params.buffer.loop;\n  source.playbackRate.value = params.buffer.playbackRate;\n  source.connect(clip.volume);\n  source.connect(clip.path2.delay1);\n  source.start(when, params.buffer.startOffset, params.buffer.startDuration);\n\n  _started_sources.push(new WeakRef(source));\n\n  return source;\n} // play in audio context 2 with mirrored master volume and mirrored clip volume\n\n\nfunction play_clip_alone(clip, when) {\n  var audio_file = _audio_files_by_name[clip.audio_file_name];\n  var params = clip.params;\n  var buffer = audio_file.buffer;\n\n  var source = _audio_context_standalone.createBufferSource();\n\n  source.buffer = buffer;\n  source.loopStart = params.buffer.loopStart;\n  source.loopEnd = params.buffer.loopEnd;\n  source.loop = params.buffer.loop;\n  source.playbackRate.value = params.buffer.playbackRate;\n  source.connect(clip.standalone_volume);\n  source.connect(clip.standalone_path2.delay1);\n  source.start(when, params.buffer.startOffset, params.buffer.startDuration); //_started_sources.push(new WeakRef(source));\n\n  return source;\n}\n\nfunction stop_clip_alone() {\n  // stop and disconnect prior source\n  if (_clip_edit_playing_source) {\n    var source = _clip_edit_playing_source.deref();\n\n    if (source) {\n      source.stop();\n      source.disconnect();\n      /*\r\n      disconnect is supposedly optional but i like to see it disconnect in the web audio inspector,\r\n          which itself unavoidably prevents gc regardless,\r\n      so, if i see it disconnect and it's not playing, i expect it will be gc'd when web audio inspector is not running\r\n      */\n\n      source = null; // for my sanity\n    }\n\n    _clip_edit_playing_source = null;\n  }\n}\n\nfunction Clip(label) {\n  return {\n    label: label,\n    audio_file_name: null,\n    index: null,\n    // weird, but whatever\n    volume: null,\n    // will be made in `create_new_clip_from_loaded_audio_file`        \n    params: {\n      buffer: {\n        loopStart: 0,\n        loopEnd: 20,\n        loop: false,\n        playbackRate: 1,\n        startOffset: 0,\n        startDuration: 5\n      },\n      volume: {\n        gain: 1\n      },\n      path2: {\n        delay1: {\n          delayTime: 0.2\n        },\n        conv1: {},\n        delay2: {\n          delayTime: 0.2\n        },\n        conv2: {},\n        volume: {\n          gain: 0\n        }\n      }\n    },\n    standalone_volume: null,\n    standalone_path2: {\n      delay1: null,\n      conv1: null,\n      delay2: null,\n      conv2: null,\n      volume: null\n    },\n    path2: {\n      delay1: null,\n      conv1: null,\n      delay2: null,\n      conv2: null,\n      volume: null\n    }\n  };\n}\n\nfunction AudioFile(name, buffer) {\n  var index = _audio_files.length;\n  return {\n    name: name,\n    buffer: buffer,\n    index: index\n  };\n}\n\nfunction TrackItem(x, w, item) {\n  return {\n    x: x,\n    //w: w, // is this used?\n    item: item\n  };\n}\n\nfunction select_audio_file(name) {\n  _audio_file_selected = name;\n  console.assert(name);\n  var clip = _clips[_clip_selected];\n\n  if (clip) {\n    clip.audio_file_name = name;\n    var audio_file = _audio_files_by_name[name];\n    clip.params.buffer.startDuration = audio_file.buffer.duration;\n  }\n}\n\nfunction sequencer_start_play() {\n  //let do_start = false;\n  //let preserve_cursor = false;\n  if (sequencer.play_state == 'stopped') {\n    _audio_context.resume();\n\n    sequencer.play_state = 'play';\n  } else if (sequencer.play_state == 'play') {\n    // restart\n    sequencer_stop_all_sources();\n    sequencer.play_state = 'start';\n  } else if (sequencer.play_state == null) {\n    sequencer.play_state = 'start';\n  } else {\n    sequencer.play_state = 'start';\n  }\n}\n\nfunction sequencer_stop_all_sources() {\n  // stop all sources\n  for (var i = 0; i < _started_sources.length; i++) {\n    if (_started_sources[i]) {\n      var source = _started_sources[i].deref();\n\n      if (source) {\n        source.stop();\n      } else {\n        _started_sources[i] = null;\n      }\n    }\n  }\n}\n\nfunction sequencer_stop_play() {\n  if (sequencer.play_state == null) {// pass\n  } else {\n    _audio_context.suspend();\n\n    sequencer.play_state = 'stopped';\n  }\n}\n\nfunction sequencer_end_play() {\n  sequencer.play_state = null;\n}\n\nfunction sequencer_update_play() {\n  if (sequencer.play_state == 'start') {\n    // wish: get this as close to play-time as possible that's why its not in sequencer_start_play (even though it could be)\n    sequencer.play_started_time = _audio_context.currentTime;\n    sequencer.play_state = 'play';\n    sequencer.play_cursor = 0;\n    sequencer.ahead_cursor = 0;\n  }\n\n  if (sequencer.play_state != 'play') {\n    return;\n  }\n\n  sequencer.prev_ahead_cursor = sequencer.ahead_cursor;\n  sequencer.play_cursor = _audio_context.currentTime - sequencer.play_started_time;\n  console.assert(sequencer.play_cursor >= 0);\n  var bps = sequencer.bpm / 60;\n\n  if (sequencer.play_cursor > sequencer.duration * bps) {\n    sequencer_end_play();\n  }\n\n  sequencer.ahead_cursor = sequencer.play_cursor + sequencer.ahead_duration;\n  var track_items_starting = get_track_items_starting_between(sequencer.prev_ahead_cursor, sequencer.ahead_cursor);\n\n  for (var i = 0; i < track_items_starting.length; i++) {\n    var track_item = track_items_starting[i];\n    var clip = track_item.item; // nolive: assuming item is a clip\n\n    var relative_when = track_item.x - sequencer.play_cursor;\n    var when = _audio_context.currentTime + relative_when;\n    play_clip(clip, when);\n  } // i think you want the stuff ordered before play...\n  // possibly to order on edit? maybe i just brute force loop everything every update?\n  // let's move forward with a brute force technique\n\n} // sequencer_update_play\n// >= time_a && < time_b, times are in sequencer-time not context-time\n\n\nfunction get_track_items_starting_between(time_a, time_b) {\n  var results = [];\n\n  for (var track_num = 0; track_num < sequencer.tracks.length; track_num++) {\n    var track = sequencer.tracks[track_num];\n\n    for (var track_item_num = 0; track_item_num < track.length; track_item_num++) {\n      var track_item = track[track_item_num];\n      var is_between = track_item.x >= time_a && track_item.x < time_b;\n\n      if (is_between) {\n        results.push(track_item);\n      }\n    }\n  }\n\n  return results;\n}\n\nfunction draw_buffer(buffer, rect, cache_key_base, offset_percent, duration_percent) {\n  return draw_buffer_new(buffer, rect, cache_key_base, offset_percent, duration_percent);\n}\n\nvar _draw_buffer_cache = {};\n\nfunction draw_buffer_new(buffer, rect, cache_key_base, offset_percent, duration_percent) {\n  if (offset_percent == null) offset_percent = 0;\n  if (duration_percent == null) duration_percent = 1;\n  console.assert(cache_key_base);\n  var cache_key = cache_key_base + ('---' + rect.w + 'x' + rect.h);\n  var cache = _draw_buffer_cache[cache_key];\n\n  if (!cache) {\n    var cv = document.createElement('canvas');\n    var ctx = cv.getContext('2d');\n    cv.width = rect.w;\n    cv.height = rect.h;\n    cache = {\n      'canvas': cv,\n      'context': ctx\n    };\n    {\n      // actual draw\n      var data = buffer.getChannelData(0);\n      var step = Math.ceil(data.length / rect.w);\n      var amp = rect.h / 2;\n      ctx.strokeStyle = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])([255, 255, 255, 128]);\n      ctx.beginPath();\n\n      for (var i = 0; i < rect.w; i++) {\n        var min = 1.0;\n        var max = -1.0;\n\n        for (var j = 0; j < step; j++) {\n          var datum = data[i * step + j];\n          if (datum < min) min = datum;\n          if (datum > max) max = datum;\n        }\n\n        var x0 = i;\n        var y0 = (1 + min) * amp;\n        var y1 = y0 + Math.max(1, (max - min) * amp);\n        ctx.moveTo(x0, y0);\n        ctx.lineTo(x0, y1);\n      }\n\n      ctx.stroke();\n    }\n    _draw_buffer_cache[cache_key] = cache;\n  } // now just draw the cached canvas onto screen canvas\n  //ui.context.drawImage(cache.canvas, rect.x, rect.y);\n\n\n  var sx = Math.round(offset_percent * rect.w);\n  var sy = 0;\n  var sw = Math.round(duration_percent * rect.w);\n  var sh = rect.h;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].drawImage(cache.canvas, sx, sy, sw, sh, rect.x, rect.y, rect.w, rect.h);\n  console.assert(context == _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"]); //console.log(context);\n}\n\nfunction draw_buffer_controls(clip, rect) {\n  var buffer = _audio_files_by_name[clip.audio_file_name];\n  var pixels_per_second = rect.w / buffer.buffer.duration;\n\n  if (true) {\n    var offset_x = pixels_per_second * clip.params.buffer.startOffset;\n    var offset_line = Rectangle(rect.x + offset_x - 1, rect.y, 1, rect.h); //const offset_line = Rectangle(rect.x, rect.y, 1, rect.h);\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](offset_line, [255, 255, 0, 255]);\n\n    if (true) {\n      var duration_x = offset_x + pixels_per_second * clip.params.buffer.startDuration;\n      var duration_line = Rectangle(rect.x + duration_x, rect.y, 1, rect.h);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](duration_line, [255, 255, 0, 100]);\n    }\n  }\n}\n\nfunction do_waveslider(uiid, local_rect, value, kind) {\n  console.assert(uiid != '', 'id cannot be blank');\n  console.assert(kind != null, 'kind cannot be null');\n  console.assert(kind != undefined, 'kind cannot be undefined');\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect); //const range = 0 | local_rect.w;\n  //const rel_value = 0 | (value - min);\n  //const value_percent = value; // (rel_value / range);\n  //console.log('!', value_percent);\n\n  var handle_h = 0 | rect.h;\n  var handle_w = handle_h / 4;\n  var handle_pos = 0 | rect.w * value;\n\n  if (kind == 'left') {\n    handle_pos -= handle_w;\n  }\n\n  var handle_x = 0 | rect.x + handle_pos;\n  var handle_y = 0 | rect.y;\n  var hrect = RectangleP(handle_x, handle_y, handle_w, handle_h);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](uiid, hrect);\n  var changed = 0 | false;\n  var is_held = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == uiid;\n\n  if (is_held) {\n    var v_delta = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation_delta.x / rect.w;\n\n    if (v_delta != 0) {\n      changed = 0 | true;\n      value += v_delta;\n      if (value < 0) value = 0;else if (value > 1) value = 1;\n    }\n  }\n\n  var draw_state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"calc_drawstate\"](uiid);\n\n  if (draw_state[_Held]) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](hrect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"]);\n  } else if (draw_state[_Hovered]) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](hrect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"raised_accent\"]);\n  } else {\n    // normal\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](hrect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"raised_face\"]);\n  } //uidraw.slider(uiid, rect, draw_state, min, max, value, label);\n  //uidraw.slider2(uiid, rect.x, rect.y, rect.w, rect.h, state[_Hovered], state[_Held], min, max, value, label);\n  //ui.layout_increment(rect);\n\n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      changed: 0 | false,\n      value: value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = value;\n  return state;\n}\n\nfunction add_new_clip(clip) {\n  _clips.push(clip);\n\n  var index = _clips.length - 1;\n\n  if (clip.color == null) {\n    clip.color = [randomInt(50, 200), randomInt(50, 200), randomInt(50, 200), 255];\n  }\n\n  clip.index = index;\n  _clip_selected = clip.index;\n}\n\nfunction draw_clip(clip, rect, is_selected) {\n  var color = clip.color;\n  if (color == null) color = (_readOnlyError(\"color\"), [127, 127, 127, 255]);\n\n  if (is_selected) {\n    var selected_rect = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, 4);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](selected_rect, [255, 255, 255, 255]);\n  } else {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](rect, [0, 0, 0, 128]);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect, color);\n\n  if (true) {\n    // draw buffer\n    var audio_file = _audio_files_by_name[clip.audio_file_name];\n\n    if (audio_file) {\n      var buffer_rect = rect;\n      var buffer_duration = audio_file.buffer.duration;\n      var offset_percent = clip.params.buffer.startOffset / buffer_duration;\n      var duration_percent = clip.params.buffer.startDuration / buffer_duration;\n      draw_buffer(audio_file.buffer, buffer_rect, clip.audio_file_name, offset_percent, duration_percent);\n    }\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](clip.label + '', rect.x, rect.y, [255, 255, 255, 255]);\n}\n\nfunction get_sequencer_uiid() {\n  return 'sequencer';\n}\n\nfunction get_track_item_uiid(new_track_num, new_i) {\n  console.assert(new_track_num != null);\n  console.assert(new_i != null);\n  var parent_uiid = get_sequencer_uiid();\n  return parent_uiid + '-track-item-#' + new_track_num + ',' + new_i;\n} // return snapped & begin/end-fitted screen coordinates relative to tracks rect\n\n\nfunction get_tracks_rect_fitted_xy(global_x, global_y, track_item_width) {\n  console.assert(global_x);\n  console.assert(global_y);\n  console.assert(track_item_width); // tracks_rect is in global coordinates\n\n  var local_x = global_x - sequencer.tracks_rect.x;\n  var local_y = global_y - sequencer.tracks_rect.y;\n  var tracks_rect_local_x2 = sequencer.tracks_rect.w;\n  var tracks_rect_local_y2 = sequencer.tracks_rect.h;\n  var min_local_x = 0;\n  var max_local_x = tracks_rect_local_x2 - track_item_width;\n  var min_local_y = 0;\n  var max_local_y = tracks_rect_local_y2;\n\n  if (local_x < min_local_x) {\n    local_x = min_local_x;\n  } else if (local_x > max_local_x) {\n    local_x = max_local_x;\n  }\n\n  if (local_y < min_local_y) {\n    local_y = min_local_y;\n  } else if (local_y > max_local_y) {\n    local_y = max_local_y;\n  }\n\n  if (true) {\n    // snap\n    var bps_pixels = sequencer.bpm / 60 * sequencer.pixels_per_second;\n    local_x = Math.floor(local_x / bps_pixels) * bps_pixels;\n    local_y = Math.floor(local_y / sequencer.track_height) * sequencer.track_height;\n  }\n\n  return [local_x, local_y];\n} // return tracknum from tracks rect local_y\n\n\nfunction get_tracknum(local_y) {} // return track_x from tracks rect local_x\n\n\nfunction get_track_x(local_x) {} // get clip width in sequencer scale (duration * pps * inv_playbackrate)\n\n\nfunction get_clip_width(clip) {\n  console.assert(clip);\n  console.assert(clip.audio_file_name);\n  console.assert(clip.params.buffer);\n  console.assert(clip.params.buffer.playbackRate);\n  var playbackRate = clip.params.buffer.playbackRate;\n  var audio_file = _audio_files_by_name[clip.audio_file_name];\n  console.assert(audio_file);\n  var duration = audio_file.buffer.duration;\n  console.assert(duration);\n  var clip_width = duration * (1 / playbackRate) * sequencer.pixels_per_second;\n  clip_width = Math.floor(clip_width); // clips are slightly larger than they should be... eg. 72.002378 vs 72\n\n  return clip_width;\n}\n\nfunction set_clip_volume(clip, value) {\n  clip.params.volume.gain = value; //clip.volume.gain.setValueAtTime(value, _audio_context.currentTime);\n\n  clip.volume.gain.value = value; //clip.standalone_volume.gain.setValueAtTime(value, _audio_context_standalone.currentTime);    \n\n  clip.standalone_volume.gain.value = value;\n}\n\nfunction set_clip_path2_volume(clip, value) {\n  clip.params.path2.volume.gain = value; //clip.path2.volume.gain.setValueAtTime(value, _audio_context.currentTime);\n\n  clip.path2.volume.gain.value = value; //clip.standalone_path2.volume.gain.setValueAtTime(value, _audio_context_standalone.currentTime);\n\n  clip.standalone_path2.volume.gain.value = value;\n}\n\nfunction set_clip_path2_delay1(clip, value) {\n  clip.params.path2.delay1.delayTime = value;\n  clip.path2.delay1.delayTime.value = value;\n  clip.standalone_path2.delay1.delayTime.value = value;\n}\n\nfunction set_master_volume(value) {\n  //sequencer.volume.gain.setValueAtTime(value, _audio_context.currentTime);\n  sequencer.volume.gain.value = value; //_audio_context_standalone_volume.gain.setValueAtTime(value, _audio_context_standalone.currentTime);\n\n  _audio_context_standalone_volume.gain.value = value;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_audio3.js?");

/***/ }),

/***/ "./src/simpleui_app_bezier.js":
/*!************************************!*\
  !*** ./src/simpleui_app_bezier.js ***!
  \************************************/
/*! exports provided: do_app_bezier */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_bezier\", function() { return do_app_bezier; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n/* harmony import */ var _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_app_demo.js */ \"./src/simpleui_app_demo.js\");\n\n\n\n\n\n\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_a\"];\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\n\nvar _image;\n\nvar _data;\n\nvar _dim_x = 0 | 512;\n\nvar _dim_y = 0 | 512;\n\nvar _update_step = 0;\nvar _update_interval = 1;\nvar _border_size = 1;\n\nvar _points; // will be paying attention to _points.length \n\n\nvar _handles; // handle used to be called control point, some var names say cpt instead\n// bezier segment 0 is made from the head handle on the prev point, and the tail handle on the next point\n// ( pt[0], _handles[0][1] ) & ( handles[1][0], pt[1])\n\n\nvar _selected_point; // last point clicked\n\n\nvar _draw_point_controls;\n\nvar _draw_handle_controls;\n\nvar _bezier_line_width;\n\nvar _point_snap_enabled;\n\nvar _point_snap_amount;\n\nvar _handle_snap_enabled;\n\nvar _handle_snap_amount;\n\nvar _point_snap2_enabled;\n\nvar _point_snap2_amount;\n\nvar _handle_snap2_enabled;\n\nvar _handle_snap2_amount;\n\nvar _close_path; // when this option is used.... the outermost handles on boths ends don't do anything, boo\n\n\nfunction init() {\n  init_l();\n}\n\nfunction init_l() {\n  _points = [];\n  _handles = [];\n  _bezier_line_width = 10;\n  _point_snap_enabled = true;\n  _point_snap_amount = 64;\n  _point_snap2_enabled = true;\n  _point_snap2_amount = 64;\n  _handle_snap_enabled = true;\n  _handle_snap_amount = 32;\n  _handle_snap2_enabled = true;\n  _handle_snap2_amount = 32;\n  _draw_point_controls = true;\n  _draw_handle_controls = true;\n  _close_path = false;\n  var d = 64;\n  var cpts;\n  add_point(2 * d, 2 * d);\n  define_handle(3 * d, 1 * d);\n  add_point(6 * d, 2 * d);\n  define_handle(4 * d, 1 * d);\n  cpts = _handles[_points.length - 1];\n  cpts[0][0] = 5 * d;\n  cpts[0][1] = 4 * d;\n  add_point(2 * d, 6 * d);\n  define_handle(3 * d, 4 * d);\n  cpts = _handles[_points.length - 1];\n  cpts[0][0] = 4 * d;\n  cpts[0][1] = 7 * d;\n  add_point(6 * d, 6 * d);\n  define_handle(5 * d, 5 * d);\n  cpts = _handles[_points.length - 1];\n  cpts[0][0] = 5 * d;\n  cpts[0][1] = 7 * d;\n  _selected_point = _points.length - 1;\n}\n\nfunction init_random() {\n  _points = [];\n  _handles = [];\n  _bezier_line_width = 10;\n  _point_snap_enabled = true;\n  _point_snap_amount = 64;\n  _handle_snap_enabled = true;\n  _handle_snap_amount = 32;\n  _handle_snap2_enabled = true;\n  _handle_snap2_amount = 32;\n  _draw_point_controls = true;\n  _draw_handle_controls = true;\n  _close_path = false;\n  var d = 64; // upper left\n\n  var rx = randomInt(64, 256 - 64);\n  var ry = randomInt(64, 256 - 64);\n  var rx2 = randomInt(-d, d);\n  var ry2 = randomInt(-d, d);\n  add_point(rx, ry);\n  define_handle(rx + rx2, ry + ry2); // upper right\n\n  rx = randomInt(256 + 64, 512 - 64);\n  ry = randomInt(64, 256 - 64);\n  rx2 = randomInt(-d, d);\n  ry2 = randomInt(-d, d);\n  add_point(rx, ry);\n  define_handle(rx + rx2, ry + ry2); // lower left\n\n  rx = randomInt(64, 256 - 64);\n  ry = randomInt(256 + 64, 512 - 64);\n  rx2 = randomInt(-d, d);\n  ry2 = randomInt(-d, d);\n  add_point(rx, ry);\n  define_handle(rx + rx2, ry + ry2); // lower right\n\n  rx = randomInt(256 + 64, 512 - 64);\n  ry = randomInt(256 + 64, 512 - 64);\n  rx2 = randomInt(-d, d);\n  ry2 = randomInt(-d, d);\n  add_point(rx, ry);\n  define_handle(rx + rx2, ry + ry2);\n  _selected_point = _points.length - 1;\n}\n\ninit();\nvar _blend_modes = ['source-over', 'source-in', 'source-out', 'source-atop', 'destination-over', 'destination-in', 'destination-out', 'destination-atop', 'lighter', 'copy', 'xor', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n\nvar _blend_mode;\n\nvar _blend_mode_index;\n\nset_blend_mode(0);\n\nfunction set_blend_mode(value) {\n  _blend_mode_index = value;\n  _blend_mode = _blend_modes[_blend_mode_index];\n} //let _preset_index; // 0, 1, 2\n//let _preset_names = ['flame', 'stream', 'under', 'motes'];\n//let _preset_count = _preset_names.length;\n//set_preset(0);\n\n\nfunction do_app_bezier() {\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n  var row_x0 = 222;\n  var row_y0 = 47;\n  do_bezier_panel('bezier panel', row_x0, row_y0, true, expanded);\n}\n\nvar _bezier_down = false;\n\nfunction do_bezier_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  if (_image == null) {\n    _image = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createImageData(_dim_x, _dim_y);\n    _data = _image.data;\n  }\n\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.expanded) {\n    var horizontal = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    _update_step++;\n\n    if (false) { var i, y, x, color; }\n\n    var rect_dilated = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](Rectangle(horizontal.x, horizontal.y, _dim_x, _dim_y), _border_size);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect_dilated, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]); // point snap grid lines        \n\n    var point_snap_grid_will_draw;\n    var point_snap_grid_amount;\n\n    if (_point_snap_enabled || _point_snap2_enabled) {\n      point_snap_grid_will_draw = true;\n\n      if (_point_snap_enabled) {\n        point_snap_grid_amount = _point_snap_amount;\n      } else {\n        point_snap_grid_amount = _point_snap2_amount;\n      }\n    } else {\n      point_snap_grid_will_draw = true;\n    }\n\n    if (point_snap_grid_will_draw) {\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"]('rgba(255,255,255,0.25)'); //uidraw.push_linedash([1,3]);\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n      draw_grid_lines(_dim_x, _dim_y, point_snap_grid_amount, 0.5);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"](); //uidraw.pop_linedash();\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n    } // point snap grid lines\n    // handle snap grid lines\n\n\n    var handle_snap_grid_will_draw;\n    var handle_snap_grid_amount;\n\n    if (_handle_snap_enabled || _handle_snap2_enabled) {\n      handle_snap_grid_will_draw = true;\n\n      if (_handle_snap_enabled) {\n        handle_snap_grid_amount = _handle_snap_amount;\n      } else {\n        handle_snap_grid_amount = _handle_snap2_amount;\n      }\n    } else {\n      handle_snap_grid_will_draw = true;\n    }\n\n    if (handle_snap_grid_will_draw) {\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"]('rgba(255,255,255,0.15)');\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linedash\"]([1, 7]);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n      draw_grid_lines(_dim_x, _dim_y, handle_snap_grid_amount, 0.5);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linedash\"]();\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n    } // control point snap grid lines\n\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    {\n      // editor left vertical panel-ish\n      var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n      if (!state) {\n        state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n          'previous_drag_x': null,\n          'previous_drag_y': null\n        });\n      }\n\n      ;\n      var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n      var uiid_grid = uiid + '-grid';\n      _ = logic_for_grid_bezier(state, uiid_grid, peek.x, peek.y, _dim_x, _dim_y, 1);\n      var cell_clicked = _[0];\n      var cell_dragged = _[1];\n      var cell_held = _[2];\n      var cell_clicked_right = _[3];\n      var cell_dragged_right = _[4];\n      var cell_held_right = _[5];\n      var _x = _[6];\n      var _y = _[7]; //if (cell_clicked) {\n\n      if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == uiid_grid) {\n        var new_x = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(_x, 0, _dim_x);\n        var new_y = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(_y, 0, _dim_y);\n\n        if (_point_snap2_enabled) {\n          new_x = Math.round(new_x / _point_snap2_amount) * _point_snap2_amount;\n          new_y = Math.round(new_y / _point_snap2_amount) * _point_snap2_amount;\n        }\n\n        new_x = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(new_x, 0, _dim_x);\n        new_y = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(new_y, 0, _dim_y);\n        add_point(new_x, new_y);\n        _selected_point = _points.length - 1;\n        define_handle(new_x + 0, new_y + 0);\n        _bezier_down = true;\n      }\n\n      if (_bezier_down) {\n        var this_pt = _points[_points.length - 1];\n        var this_cpt1 = _handles[_points.length - 1][1];\n\n        var _new_x = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x - peek.x;\n\n        var _new_y = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y - peek.y;\n\n        if (_handle_snap2_enabled) {\n          _new_x = Math.round(_new_x / _handle_snap2_amount) * _handle_snap2_amount;\n          _new_y = Math.round(_new_y / _handle_snap2_amount) * _handle_snap2_amount;\n        }\n\n        this_cpt1[0] = _new_x;\n        this_cpt1[1] = _new_y;\n        var this_cpt0 = mirror_point(this_pt[0], this_pt[1], this_cpt1[0], this_cpt1[1]);\n        _handles[_points.length - 1][0] = this_cpt0;\n      }\n\n      if (_bezier_down && _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_up) {\n        _bezier_down = false;\n      }\n\n      do_bezier_edit(uiid + '-bezier-edit'); // a root uiid for sub-controls\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](_dim_x, _dim_y); // this needs to be after logic call and reticle            \n\n      {\n        // under the editor\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n          {\n            // selected point vertical\n            _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8);\n            _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('selected point', Rectangle(0, 0, 200, 20));\n            _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](200, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n            _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8);\n\n            if (_selected_point >= 0) {\n              _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-delete-selected-point-button', 'delete', RectangleP(0, 0, 200, 40));\n\n              if (_.clicked) {\n                var was_last_point = _selected_point == _points.length - 1;\n\n                _points.splice(_selected_point, 1);\n\n                _handles.splice(_selected_point, 1);\n\n                if (was_last_point) {\n                  _selected_point = _points.length - 1;\n                }\n              }\n            } else {\n              _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('(no point selected)', Rectangle(0, 0, 200, 20));\n              _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 20 - 2);\n            }\n          } // selected point vertical\n\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('click & drag to add & edit', RectangleP(120, 8, 200, 20));\n        }\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      } // under the editor\n    } // editor left vertical panel\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](8, 0);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical); // right vertical control panel\n\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-reset-button', 'reset', RectangleP(0, 0, 200 - 20, 40));\n\n        if (_.clicked) {\n          init();\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-random-button', '?', RectangleP(0, 0, 20, 40));\n\n        if (_.clicked) {\n          init_random();\n        }\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4); //ui.hline(200, 1, uidraw.normal_face);\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('line width', RectangleP(0, 0, 200, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-bezier-line-width-slider', RectangleP(0, 0, 200, 20), 1, 20, _bezier_line_width, '');\n\n      if (_.changed) {\n        _bezier_line_width = _.value;\n      }\n\n      {\n        // draw point / handle control configs\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-draw-point-controls-checkbox', RectangleP(0, 0, 20, 20), _draw_point_controls);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('draw points', RectangleP(0, 0, 200, 20));\n\n        if (_.changed) {\n          _draw_point_controls = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-draw-handle-controls-checkbox', RectangleP(0, 0, 20, 20), _draw_handle_controls);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('draw handles', RectangleP(0, 0, 200, 20));\n\n        if (_.changed) {\n          _draw_handle_controls = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      }\n      {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-close-path-checkbox', RectangleP(0, 0, 20, 20), _close_path);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('close path', RectangleP(0, 0, 200, 20));\n\n        if (_.changed) {\n          _close_path = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n\n      if (true) {\n        // movement snap\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('movement snap', Rectangle(0, 0, 200, 20));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](200, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('point', RectangleP(20 + 4, 0, 200, 20));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-point-snap-enabled-checkbox', RectangleP(0, 0, 20, 20), _point_snap_enabled);\n\n        if (_.changed) {\n          _point_snap_enabled = _.value;\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-point-snap-amount-slider', RectangleP(0, 0, 200 - 20, 20), 1, 128, _point_snap_amount, _point_snap_amount);\n\n        if (_.changed) {\n          _point_snap_amount = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('handle', RectangleP(20 + 4, 0, 200, 20));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-control-point-snap-enabled-checkbox', RectangleP(0, 0, 20, 20), _handle_snap_enabled);\n\n        if (_.changed) {\n          _handle_snap_enabled = _.value;\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-control-point-snap-amount-slider', RectangleP(0, 0, 200 - 20, 20), 1, 128, _handle_snap_amount, _handle_snap_amount);\n\n        if (_.changed) {\n          _handle_snap_amount = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      } // movement snap\n\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n\n      if (true) {\n        // placement snap\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('placement snap', Rectangle(0, 0, 200, 20));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](200, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('point', RectangleP(20 + 4, 0, 200, 20));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-point-snap2-enabled-checkbox', RectangleP(0, 0, 20, 20), _point_snap2_enabled);\n\n        if (_.changed) {\n          _point_snap2_enabled = _.value;\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-point-snap2-amount-slider', RectangleP(0, 0, 200 - 20, 20), 1, 128, _point_snap2_amount, _point_snap2_amount);\n\n        if (_.changed) {\n          _point_snap2_amount = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('handle', RectangleP(20 + 4, 0, 200, 20));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-control-point-snap2-enabled-checkbox', RectangleP(0, 0, 20, 20), _handle_snap2_enabled);\n\n        if (_.changed) {\n          _handle_snap2_enabled = _.value;\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-control-point-snap2-amount-slider', RectangleP(0, 0, 200 - 20, 20), 1, 128, _handle_snap2_amount, _handle_snap2_amount);\n\n        if (_.changed) {\n          _handle_snap2_amount = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      } // movement snap\n\n    } // right vertical control panel        \n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horizontal\n  } // panel.expanded\n\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n}\n\nfunction logic_for_grid_bezier(state, uiid, ox, oy, w, h, dim, allow_held_off_hotspot) {\n  var clamp_xy_values = true; // (might not need this, but we'll see with other uses)\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](uiid, Rectangle(ox, oy, dim * w, dim * h));\n  var cell_clicked = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == uiid;\n  var cell_clicked_right = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down_right == uiid;\n  var x = 0 | (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x - ox) / dim;\n  var y = 0 | (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y - oy) / dim;\n  var cell_held = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == uiid && (allow_held_off_hotspot || x >= 0 && x < w && y >= 0 && y < h);\n  var cell_dragged = cell_held && (state.previous_drag_x != x || state.previous_drag_y != y);\n  var cell_held_right = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held_right == uiid && (allow_held_off_hotspot || x >= 0 && x < w && y >= 0 && y < h);\n  var cell_dragged_right = cell_held_right && (state.previous_drag_x != x || state.previous_drag_y != y);\n\n  if (clamp_xy_values) {\n    x = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(x, 0, w - 1);\n    y = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(y, 0, h - 1);\n  }\n\n  return [cell_clicked, cell_dragged, cell_held, cell_clicked_right, cell_dragged_right, cell_held_right, x, y];\n} // random between a and b\n\n\nfunction randomInt(a, b) {\n  var delta = b - a + 1; // the +1 makes it inclusive\n\n  var rand = Math.floor(Math.random() * delta);\n  return a + rand;\n} // pt 0 is the prev point\n// pt 1 is this point\n// pt 0 cpt 0 is prev point's prev control point // move to\n// pt 0 cpt 1 is prev point's curr control point // bezier function's first control point param\n// pt 1 cpt 0 is curr point's curr control point // bezier function's second control point param\n// pt 1 cpt 1 is curr point's next control point // bezier curve to\n\n\nfunction do_bezier_edit(uiid) {\n  var _;\n\n  var pt_reticle_size = 24;\n  var pt_reticle_size_half = 12;\n  var cpt_reticle_size = 16;\n  var cpt_reticle_size_half = 8;\n\n  if (_points.length != 0) {\n    var start_point = _points[0];\n    var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"](); // purple [128,0,180,255]\n\n    var c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n    var path_color_css = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])([c[0], c[1], c[2], 255]); //path_color_css = 'green';\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](path_color_css);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].beginPath();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].moveTo(peek.x + start_point[0], peek.y + start_point[1]); // bezier /////////////////////////////////////////\n    // start at index 1\n\n    for (var i = 1; i < _points.length; i++) {\n      // one segment            \n      var pt0 = _points[i - 1]; // point 0 (prev point)\n\n      var pt0_cpt0 = _handles[i - 1][0]; // point 0, control point 0\n\n      var pt0_cpt1 = _handles[i - 1][1]; // point 0, control point 1\n\n      var pt1 = _points[i]; // point 1 (this point)\n\n      var pt1_cpt0 = _handles[i][0]; // point 1, control point 0\n\n      var pt1_cpt1 = _handles[i][1]; // point 1, control point 1\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].bezierCurveTo(peek.x + pt0_cpt1[0], peek.y + pt0_cpt1[1], peek.x + pt1_cpt0[0], peek.y + pt1_cpt0[1], peek.x + pt1[0], peek.y + pt1[1]);\n    }\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](_bezier_line_width);\n\n    if (_close_path) {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].closePath();\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].stroke();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // bezier controls ////////////////////////////////\n    // nolive: should reticle even impact layout at all in simpleui core? maybe not.\n\n    for (var _i = 0; _i < _points.length; _i++) {\n      var is_first_point = _i == 0;\n      var is_last_point = _i == _points.length - 1;\n      var is_selected_point = _i == _selected_point;\n      var pt = _points[_i];\n      var pt_cpt0 = _handles[_i][0];\n      var pt_cpt1 = _handles[_i][1]; // draw line to pt_cpt0 & pt_cpt1  \n\n      if (_draw_handle_controls) {\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linedash\"]([4, 2]);\n        {\n          // draw line from pt to pt_cpt0\n          if (!is_first_point) {\n            _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"]('gray');\n            _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](peek.x + pt[0], peek.y + pt[1], peek.x + pt_cpt0[0], peek.y + pt_cpt0[1]);\n            _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n          } // draw line from pt to pt_cpt1\n\n\n          if (!is_last_point || is_selected_point) {\n            _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"]('green');\n            _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](peek.x + pt[0], peek.y + pt[1], peek.x + pt_cpt1[0], peek.y + pt_cpt1[1]);\n            _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n          }\n        } // line dash\n\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linedash\"]();\n      } // _draw_handle_controls (lines)\n      // draw pt\n\n\n      if (_draw_point_controls) {\n        var pt_uiid = uiid + '-point-reticle-#' + _i;\n\n        if (_i == _selected_point) {\n          var more = -4;\n          var rect = RectangleP(peek.x + pt[0] - more - pt_reticle_size_half, peek.y + pt[1] - more - pt_reticle_size_half, pt_reticle_size + more * 2, pt_reticle_size + more * 2); //uidraw.reticle(pt_uiid, rect, calc_drawstate(pt_uiid));\n\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](rect, [255, 255, 255, 255]);\n        } else if (false) { var _rect, _more; }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"reticle\"](pt_uiid, RectangleP(pt[0] - pt_reticle_size_half, pt[1] - pt_reticle_size_half, pt_reticle_size, pt_reticle_size), pt[0], pt[1]);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](-pt_reticle_size - 4, -pt_reticle_size - 4); // why -4 lol nolive (layout padding prolly)\n        // nolive: should reticle even impact layout at all in simpleui core? maybe not.\n\n        if (_.changed) {\n          var new_x = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(_.x1, 0, _dim_x);\n          var new_y = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(_.y1, 0, _dim_y);\n\n          if (_point_snap_enabled) {\n            new_x = Math.round(new_x / _point_snap_amount) * _point_snap_amount;\n            new_y = Math.round(new_y / _point_snap_amount) * _point_snap_amount;\n          }\n\n          new_x = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(new_x, 0, _dim_x);\n          new_y = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(new_y, 0, _dim_y);\n          var dx = new_x - pt[0];\n          var dy = new_y - pt[1];\n          pt[0] = new_x;\n          pt[1] = new_y;\n          pt_cpt0[0] += dx;\n          pt_cpt0[1] += dy;\n          pt_cpt1[0] += dx;\n          pt_cpt1[1] += dy; //\n\n          _selected_point = _i;\n        }\n      } // _draw_point_controls\n      // draw pt_cpt0\n\n\n      if (_draw_handle_controls) {\n        if (!is_first_point) {\n          var pt_cpt0_uiid = uiid + '-point-cpt0-reticle-#' + _i;\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"reticle\"](pt_cpt0_uiid, RectangleP(pt_cpt0[0] - cpt_reticle_size_half, pt_cpt0[1] - cpt_reticle_size_half, cpt_reticle_size, cpt_reticle_size), pt_cpt0[0], pt_cpt0[1]);\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](-cpt_reticle_size - 4, -cpt_reticle_size - 4); // nolive: should reticle even impact layout at all in simpleui core? maybe not.\n\n          if (_.changed) {\n            var _new_x2 = _.x1;\n            var _new_y2 = _.y1;\n\n            if (_handle_snap_enabled) {\n              _new_x2 = Math.round(_new_x2 / _handle_snap_amount) * _handle_snap_amount;\n              _new_y2 = Math.round(_new_y2 / _handle_snap_amount) * _handle_snap_amount;\n            }\n\n            pt_cpt0[0] = _new_x2;\n            pt_cpt0[1] = _new_y2;\n          }\n        } // pt_cpt0\n        // draw pt_cpt1        \n\n\n        if (!is_last_point || is_selected_point) {\n          var pt_cpt1_uiid = uiid + '-point-cpt1-reticle-#' + _i;\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"reticle\"](pt_cpt1_uiid, RectangleP(pt_cpt1[0] - cpt_reticle_size_half, pt_cpt1[1] - cpt_reticle_size_half, cpt_reticle_size, cpt_reticle_size), pt_cpt1[0], pt_cpt1[1]);\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](-cpt_reticle_size - 4, -cpt_reticle_size - 4); // nolive: should reticle even impact layout at all in simpleui core? maybe not.\n\n          if (_.changed) {\n            var _new_x3 = _.x1;\n            var _new_y3 = _.y1;\n\n            if (_handle_snap_enabled) {\n              _new_x3 = Math.round(_new_x3 / _handle_snap_amount) * _handle_snap_amount;\n              _new_y3 = Math.round(_new_y3 / _handle_snap_amount) * _handle_snap_amount;\n            }\n\n            pt_cpt1[0] = _new_x3;\n            pt_cpt1[1] = _new_y3;\n          }\n        }\n      } // _draw_handle_controls\n\n    } // for points\n\n  }\n}\n\nfunction add_point(x, y) {\n  _points.push([x, y]);\n} // push [cpt0, cpt1] for most recent pt\n\n\nfunction define_handle(x1, y1) {\n  var pt = _points[_points.length - 1];\n  var mirrored_handle = mirror_point(pt[0], pt[1], x1, y1);\n  var x0 = mirrored_handle[0];\n  var y0 = mirrored_handle[1];\n\n  _handles.push([[x0, y0], [x1, y1]]);\n}\n\nfunction mirror_point(pt_x, pt_y, cpt1_x, cpt1_y) {\n  var dx = cpt1_x - pt_x;\n  var dy = cpt1_y - pt_y;\n  var cpt0_x = pt_x - dx;\n  var cpt0_y = pt_y - dy;\n  return [cpt0_x, cpt0_y];\n}\n\nfunction draw_grid_lines(dim_x, dim_y, snap_amount, hax_subpixel) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, dim_x, dim_y)); // might be a param\n\n  var w = Math.trunc(dim_x / snap_amount);\n  var h = Math.trunc(dim_y / snap_amount);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n\n  for (var x = 1; x <= w; x++) {\n    if (x * snap_amount == dim_x) continue; // skip if it's at border, since we decide to skip the other side by starting at 1\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x * snap_amount + hax_subpixel, rect.y + hax_subpixel);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x * snap_amount + hax_subpixel, rect.y + rect.h + hax_subpixel);\n  }\n\n  for (var y = 1; y <= h; y++) {\n    if (y * snap_amount == dim_y) continue; // same as above\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + hax_subpixel, rect.y + y * snap_amount + hax_subpixel);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + rect.w + hax_subpixel, rect.y + y * snap_amount + hax_subpixel);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_bezier.js?");

/***/ }),

/***/ "./src/simpleui_app_colorpick.js":
/*!***************************************!*\
  !*** ./src/simpleui_app_colorpick.js ***!
  \***************************************/
/*! exports provided: do_app_colorpick, logic_for_grid, logic_for_grid2, hsv2rgb */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_colorpick\", function() { return do_app_colorpick; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"logic_for_grid\", function() { return logic_for_grid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"logic_for_grid2\", function() { return logic_for_grid2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hsv2rgb\", function() { return hsv2rgb; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n/* harmony import */ var _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_app_demo.js */ \"./src/simpleui_app_demo.js\");\n\n\n\n\n\n // todo: set_color, then set color when changing modes so the reticle and slider updates\n\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_a\"];\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\n\nvar _image;\n\nvar _data;\n\nvar _offscreen_canvas;\n\nvar _offscreen_context;\n\nvar _dim_x = 0 | 256;\n\nvar _dim_y = 0 | 256;\n\nvar _slider_image;\n\nvar _slider_data;\n\nvar _color_update_step = 0;\nvar _color_update_interval = 1;\nvar _color_squares_border_size = 1;\nvar _selected_pos = [null, null];\n/*\r\nWhen true, draw the color square using gradients (fast) [less accurate, hard to engineer]\r\n    * gradients and blend modes should be able to produce the color square.\r\nWhen false, calculate every pixel to put with putImageData (slow) [accurate]\r\n    * putImageData is very slow and obliterates performance, presumably due to hardware junk.\r\n*/\n\nvar _use_gradient_trickery = true;\n\nvar _mode;\n\nvar _mode_hue = 0;\nvar _mode_saturation = 1;\nvar _mode_value = 2;\nvar _mode_red = 3;\nvar _mode_green = 4;\nvar _mode_blue = 5;\nvar _modes = ['hue', 'saturation', 'brightness', 'red', 'green', 'blue'];\nvar _mode_letters = ['h', 's', 'v', 'r', 'g', 'b'];\nvar _color_part_sliders = [];\n\nfor (var i = 0; i < _modes.length; i++) {\n  _color_part_sliders.push(null);\n}\n\nset_selected_pos(0, 0);\nset_color_part_slider(_mode_hue, 100);\nset_color_part_slider(_mode_saturation, 100);\nset_color_part_slider(_mode_value, 100);\nset_color_part_slider(_mode_red, 100);\nset_color_part_slider(_mode_green, 100);\nset_color_part_slider(_mode_blue, 100);\nvar _selected_color = [255, 0, 0]; // todo: this part is a little hackish, ordering problems hereabout\n\nset_mode(_mode_value);\nvar get_color; // set by set_mode\n\nvar get_slider_color; // set by set_mode\n\nconsole.assert(_selected_color);\nupdate_color();\nconsole.assert(_selected_color);\nvar _blend_modes = ['source-over', 'source-in', 'source-out', 'source-atop', 'destination-over', 'destination-in', 'destination-out', 'destination-atop', 'lighter', 'copy', 'xor', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n\nvar _blend_mode1; // color square gradient draw, top left blend mode\n\n\nvar _blend_mode1_index;\n\nset_blend_mode1(0);\n\nvar _blend_mode2; // color square gradient draw, bottom left blend mode\n\n\nvar _blend_mode2_index;\n\nset_blend_mode2(14);\n/*\r\ni think 14 is the right blend, but _mode_blue is a little weird, might be math problems or chrome bug\r\n*/\n\nfunction set_blend_mode1(value) {\n  _blend_mode1_index = value;\n  _blend_mode1 = _blend_modes[_blend_mode1_index];\n}\n\nfunction set_blend_mode2(value) {\n  _blend_mode2_index = value;\n  _blend_mode2 = _blend_modes[_blend_mode2_index];\n} //let _preset_index; // 0, 1, 2\n//let _preset_names = ['flame', 'stream', 'under', 'motes'];\n//let _preset_count = _preset_names.length;\n//set_preset(0);\n\n\nfunction do_app_colorpick() {\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n  var row_x0 = 222;\n  var row_y0 = 47;\n  do_colorpick_panel('colorpick panel', row_x0, row_y0, true, expanded);\n}\n\nfunction do_colorpick_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  if (_image == null) {\n    _image = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createImageData(_dim_x, _dim_y);\n    _data = _image.data;\n  }\n\n  var offscreenCanvasSupported = typeof OffscreenCanvas !== \"undefined\";\n\n  if (_offscreen_canvas == null && offscreenCanvasSupported) {\n    _offscreen_canvas = new OffscreenCanvas(_dim_x, _dim_y);\n    _offscreen_context = _offscreen_canvas.getContext('2d');\n  }\n\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (!offscreenCanvasSupported && useOffscreenCanvasTechnique) {\n    var msg_rect = RectangleP(0, 0, 400, 20);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('OffscreenCanvas not supported by this browser.', msg_rect);\n  } else if (panel.expanded) {\n    var horizontal = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    var rect_dilated = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](Rectangle(horizontal.x, horizontal.y, _dim_x, _dim_y), _color_squares_border_size);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect_dilated, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n\n    if (_use_gradient_trickery) {\n      draw_color_square_with_trickery(_mode);\n    } else {\n      _color_update_step++;\n\n      if (_color_update_step % _color_update_interval == 0) {\n        // perf: update every x-th frame\n        var color;\n\n        for (var x = 0; x < _dim_x; x++) {\n          for (var y = 0; y < _dim_y; y++) {\n            color = get_color(x, y);\n\n            var _i = 0 | x * 4 + y * _dim_x * 4;\n\n            _data[_i + 0] = 0 | color[0];\n            _data[_i + 1] = 0 | color[1];\n            _data[_i + 2] = 0 | color[2];\n            _data[_i + 3] = 0 | 255;\n          }\n        }\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].putImageData(_image, horizontal.x, horizontal.y); // half the performance cost is right here\n    }\n\n    {\n      var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n      if (!state) {\n        state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n          'previous_drag_x': null,\n          'previous_drag_y': null\n        });\n      }\n\n      ;\n      var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n      _ = logic_for_grid(state, uiid + '-color-square', peek.x, peek.y, _dim_x, _dim_y, 1);\n      var cell_clicked = _[0];\n      var cell_dragged = _[1];\n      var cell_held = _[2];\n      var cell_clicked_right = _[3];\n      var cell_dragged_right = _[4];\n      var cell_held_right = _[5];\n      var _x = _[6];\n      var _y = _[7];\n\n      if (cell_dragged) {\n        set_selected_pos(_x, _y);\n        update_color();\n        state.previous_drag_x = _x;\n        state.previous_drag_y = _y;\n      }\n\n      var reticle_dim = 12; // 18;\n\n      var reticle_dim_half = 6; //8;\n      //const peek = ui.layout_peek();\n\n      var reticle_rect = RectangleP(peek.x + _selected_pos[0] - reticle_dim_half, peek.y + _selected_pos[1] - reticle_dim_half, reticle_dim, reticle_dim); //ui.reticle(uiid + '-reticle', reticle_rect, _selected_pos[0], _selected_pos[1]);\n\n      var draw_state = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"calc_drawstate\"])(uiid); //const previous_blend_mode = ui.context.globalCompositeOperation;\n      //ui.context.globalCompositeOperation = _blend_mode;\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"reticle\"](uiid + '-reticle', reticle_rect, draw_state); //ui.context.globalCompositeOperation = previous_blend_mode;\n      //ui.layout_increment2(-reticle_dim, -reticle_dim);\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](_dim_x, _dim_y); // this needs to be after logic call and reticle            \n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](8, 0); // a slider for the mode\n\n    var color_part_slider_value = 0 | _color_part_sliders[_mode];\n    var color_part_slider_label = _mode_letters[_mode];\n    var custom_hotspot_increase_x = 8;\n    var custom_hotspot_increase_y = 4;\n    var custom_hotspot = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](RectangleP(0 - custom_hotspot_increase_x, 0 - custom_hotspot_increase_y, 20 + custom_hotspot_increase_x * 2, _dim_y + custom_hotspot_increase_y * 2));\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"vslider\"](uiid + '-color-part-slider-$' + _mode, Rectangle(0, 0, 20, _dim_y), 100, 0, color_part_slider_value, color_part_slider_label, draw_vslider_colorpick, custom_hotspot);\n\n    if (_.changed) {\n      set_color_part_slider(_mode, _.value);\n      update_color();\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](8, 0);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    var swatch_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](RectangleP(0, 0, 60, 60));\n    var swatch_rect_dilated = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](swatch_rect, _color_squares_border_size);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](swatch_rect_dilated, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](swatch_rect, _selected_color);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](swatch_rect);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8); // hsb(rightness) in photoshop is hsv(alue)\n\n    for (var _i2 = 0; _i2 < _modes.length; _i2++) {\n      var mode_name = _modes[_i2];\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-checkbox-mode-#' + _i2, RectangleP(0, 0, 20, 20), _mode == _i2);\n\n      if (_.changed) {\n        set_mode(_i2);\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](mode_name, RectangleP(0, 0, 80, 20));\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n\n      if (_i2 == _mode_value) {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8);\n      }\n    }\n\n    if (false) { var is_active, button_text, i; }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // vertical - swatch & mode buttons\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horizontal\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8); //ui.layout_push(_vertical)\n\n    {\n      if (false) {} // these were for debugging/exploring\n\n\n      if (false) { var s; }\n\n      if (false) { var _s; }\n\n      if (true) {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-use-gradient-trickery-checkbox', RectangleP(0, 0, 20, 20), _use_gradient_trickery);\n\n        if (_.changed) {\n          _use_gradient_trickery = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('draw with gradients (10x faster)', RectangleP(0, 0, 300, 20));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      }\n\n      if (!_use_gradient_trickery) {\n        var fastest = ''; // _color_update_interval == 1 ? ' (every frame)': '';\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('pixel redraw interval: ' + _color_update_interval + fastest, RectangleP(0, 0, 100, 20));\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-step-slider', Rectangle(0, 0, 200, 20), 1, 8, _color_update_interval, '');\n\n        if (_.changed) {\n          _color_update_interval = _.value;\n        }\n      }\n    } //ui.layout_pop();\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 8); //ui.label('no cache, no real optimization, for now', Rectangle(0, 0, 100, 20));\n  } // panel.expanded\n\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n}\n\nfunction hsv2rgb(hsv_h, hsv_s, hsv_v) {\n  // 'i wrote this code in ninety-fo'\n  var R, G, B;\n\n  if (hsv_s == 0) {\n    R = hsv_v;\n    G = hsv_v;\n    B = hsv_v;\n  } else {\n    var H, S, V;\n\n    if (hsv_h == 360) {\n      H = 0.0;\n    } else {\n      H = hsv_h;\n    }\n\n    S = hsv_s;\n    V = hsv_v;\n    H = H / 60.0;\n\n    var _i3 = Math.floor(H);\n\n    var f = H - _i3;\n    var p = V * (1.0 - S);\n    var q = V * (1.0 - S * f);\n    var t = V * (1.0 - S * (1.0 - f));\n\n    switch (_i3) {\n      case 0:\n        R = V;\n        G = t;\n        B = p;\n        break;\n\n      case 1:\n        R = q;\n        G = V;\n        B = p;\n        break;\n\n      case 2:\n        R = p;\n        G = V;\n        B = t;\n        break;\n\n      case 3:\n        R = p;\n        G = q;\n        B = V;\n        break;\n\n      case 4:\n        R = t;\n        G = p;\n        B = V;\n        break;\n\n      case 5:\n        R = V;\n        G = p;\n        B = q;\n        break;\n    }\n  }\n\n  var r255 = Math.round(R * 255);\n  var g255 = Math.round(G * 255);\n  var b255 = Math.round(B * 255);\n  return [r255, g255, b255];\n}\n\nfunction rgb2hsv(rgb) {\n  var R = rgb[0] / 255;\n  var G = rgb[1] / 255;\n  var B = rgb[2] / 255;\n  var max = Math.max(R, G, B);\n  var min = Math.min(R, G, B);\n  var h, s, v;\n  v = max;\n\n  if (max != 0) {\n    s = (max - min) / max;\n  } else {\n    s = 0;\n  }\n\n  if (s == 0) {\n    h = 0;\n  } else {\n    var rc = (max - R) / (max - min);\n    var gc = (max - G) / (max - min);\n    var bc = (max - B) / (max - min);\n\n    if (R == max) {\n      h = bc - gc;\n    } else if (G == max) {\n      h = 2 + rc - bc;\n    } else if (B == max) {\n      h = 4 + gc - rc;\n    }\n\n    h = h * 60;\n\n    if (h < 0) {\n      h = h + 360;\n    }\n  }\n\n  return [h, s, v];\n} // 2021: this third version of logic_for_grid is replacing the prior two in app_drop and app_audio1/2\n// the colorpicker works like those because i tell it the cell size is 1 pixel and the math works\n// the other differences are related to clamping and allowing dragging off the hotspot while held and still firing\n// WISH: find and accept a nicer way to make these variations available, maybe pass options object\n\n\nfunction logic_for_grid(state, uiid, ox, oy, w, h, dim) {\n  return logic_for_grid_internal(state, uiid, ox, oy, w, h, dim, true);\n}\n\nfunction logic_for_grid2(state, uiid, ox, oy, w, h, dim) {\n  return logic_for_grid_internal(state, uiid, ox, oy, w, h, dim, false);\n}\n\nfunction logic_for_grid_internal(state, uiid, ox, oy, w, h, dim, allow_held_off_hotspot) {\n  var clamp_xy_values = true; // (might not need this, but we'll see with other uses)\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](uiid, Rectangle(ox, oy, dim * w, dim * h));\n  var cell_clicked = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == uiid;\n  var cell_clicked_right = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down_right == uiid;\n  var x = 0 | (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x - ox) / dim;\n  var y = 0 | (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y - oy) / dim;\n  var cell_held = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == uiid && (allow_held_off_hotspot || x >= 0 && x < w && y >= 0 && y < h);\n  var cell_dragged = cell_held && (state.previous_drag_x != x || state.previous_drag_y != y);\n  var cell_held_right = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held_right == uiid && (allow_held_off_hotspot || x >= 0 && x < w && y >= 0 && y < h);\n  var cell_dragged_right = cell_held_right && (state.previous_drag_x != x || state.previous_drag_y != y);\n\n  if (clamp_xy_values) {\n    x = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(x, 0, w - 1);\n    y = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(y, 0, h - 1);\n  }\n\n  return [cell_clicked, cell_dragged, cell_held, cell_clicked_right, cell_dragged_right, cell_held_right, x, y];\n} // random between a and b\n\n\nfunction randomInt(a, b) {\n  var delta = b - a + 1; // the +1 makes it inclusive\n\n  var rand = Math.floor(Math.random() * delta);\n  return a + rand;\n}\n\nfunction set_selected_pos(x, y) {\n  _selected_pos[0] = 0 | x;\n  _selected_pos[1] = 0 | y;\n}\n\nfunction set_color_part_slider(mode, value) {\n  _color_part_sliders[mode] = 0 | value;\n}\n\n;\n\nfunction set_mode(mode) {\n  console.assert(_selected_color);\n  _mode = 0 | mode;\n  console.log('[set_mode]', _mode, _modes[_mode]); // need to set this color part slider\n\n  if (_mode == _mode_hue) {\n    var hsv = rgb2hsv(_selected_color);\n    _color_part_sliders[mode] = Math.round(hsv[0] / 360 * 100);\n    _selected_pos[0] = Math.round(hsv[1] * _dim_x);\n    _selected_pos[1] = Math.round(hsv[2] * _dim_y);\n    get_color = get_color_h;\n    get_slider_color = get_slider_color_h;\n  } else if (_mode == _mode_saturation) {\n    var _hsv = rgb2hsv(_selected_color);\n\n    _selected_pos[0] = Math.round(_hsv[0] / 360 * _dim_x);\n    _color_part_sliders[mode] = Math.round(_hsv[1] * 100);\n    _selected_pos[1] = Math.round((1 - _hsv[2]) * _dim_y);\n    get_color = get_color_s;\n    get_slider_color = get_slider_color_s;\n  } else if (_mode == _mode_value) {\n    var _hsv2 = rgb2hsv(_selected_color);\n\n    _selected_pos[0] = Math.round(_hsv2[0] / 360 * _dim_x);\n    _selected_pos[1] = Math.round((1 - _hsv2[1]) * _dim_y);\n    _color_part_sliders[mode] = Math.round(_hsv2[2] * 100);\n    get_color = get_color_v;\n    get_slider_color = get_slider_color_v;\n  } else if (_mode == _mode_red) {\n    var rgb = _selected_color;\n    _color_part_sliders[mode] = Math.round(rgb[0] / 255 * 100);\n    _selected_pos[0] = Math.round(rgb[2] / 255 * _dim_x);\n    _selected_pos[1] = Math.round(rgb[1] / 255 * _dim_y);\n    get_color = get_color_r;\n    get_slider_color = get_slider_color_r;\n  } else if (_mode == _mode_green) {\n    var _rgb = _selected_color;\n    _color_part_sliders[mode] = Math.round(_rgb[1] / 255 * 100);\n    _selected_pos[0] = Math.round(_rgb[2] / 255 * _dim_x);\n    _selected_pos[1] = Math.round(_rgb[0] / 255 * _dim_y);\n    get_color = get_color_g;\n    get_slider_color = get_slider_color_g;\n  } else if (_mode == _mode_blue) {\n    var _rgb2 = _selected_color;\n    _color_part_sliders[mode] = Math.round(_rgb2[2] / 255 * 100);\n    _selected_pos[0] = Math.round(_rgb2[0] / 255 * _dim_x);\n    _selected_pos[1] = Math.round(_rgb2[1] / 255 * _dim_y);\n    get_color = get_color_b;\n    get_slider_color = get_slider_color_b;\n  }\n} // todo: maybe i make separate functions for everything\n\n\nfunction get_color_h(x, y) {\n  var hue = _color_part_sliders[_mode] / 100 * 360;\n  var saturation = x / (_dim_x - 1);\n  var value = 1 - y / (_dim_y - 1);\n  var rgb = hsv2rgb(hue, saturation, value);\n  return rgb;\n}\n\nfunction get_color_s(x, y) {\n  var hue = x / (_dim_x - 1) * 360;\n  var saturation = _color_part_sliders[_mode] / 100;\n  var value = 1 - y / (_dim_y - 1);\n  var rgb = hsv2rgb(hue, saturation, value);\n  return rgb;\n}\n\nfunction get_color_v(x, y) {\n  var hue = x / (_dim_x - 1) * 360;\n  var saturation = 1 - y / (_dim_y - 1);\n  var value = _color_part_sliders[_mode] / 100;\n  var rgb = hsv2rgb(hue, saturation, value);\n  return rgb;\n}\n\nfunction get_color_r(x, y) {\n  var inverted_y = _dim_y - y; // matching photoshop, inverted y for rgb modes\n\n  var r = Math.round(_color_part_sliders[_mode] / 100 * 255);\n  var g = Math.round(inverted_y / (_dim_y - 1) * 255);\n  var b = Math.round(x / (_dim_x - 1) * 255);\n  return [r, g, b];\n}\n\nfunction get_color_g(x, y) {\n  var inverted_y = _dim_y - y; // matching photoshop, inverted y for rgb modes\n\n  var r = Math.round(inverted_y / (_dim_y - 1) * 255);\n  var g = Math.round(_color_part_sliders[_mode] / 100 * 255);\n  var b = Math.round(x / (_dim_x - 1) * 255);\n  return [r, g, b];\n}\n\nfunction get_color_b(x, y) {\n  var inverted_y = _dim_y - y; // matching photoshop, inverted y for rgb modes\n\n  var r = Math.round(x / (_dim_x - 1) * 255);\n  var g = Math.round(inverted_y / (_dim_y - 1) * 255);\n  var b = Math.round(_color_part_sliders[_mode] / 100 * 255);\n  return [r, g, b];\n}\n\nfunction get_slider_color_h(y) {\n  var hue = Math.round((1 - y / _dim_y) * 360);\n  var saturation = 1;\n  var value = 1;\n  var rgb = hsv2rgb(hue, saturation, value);\n  return rgb;\n}\n\nfunction get_slider_color_s(y) {\n  var hsv = rgb2hsv(_selected_color);\n  var saturation = 1 - y / _dim_y; //let value = hsv[2] * 1.5;\n  //if (value > 1) value = 1;\n\n  var value = hsv[2];\n  var rgb = hsv2rgb(hsv[0], saturation, value);\n  return rgb;\n}\n\nfunction get_slider_color_v(y) {\n  var hsv = rgb2hsv(_selected_color);\n  var value = 1 - y / _dim_y;\n  var rgb = hsv2rgb(hsv[0], hsv[1], value);\n  return rgb;\n}\n\nfunction get_slider_color_r(y) {\n  var r = Math.round((1 - y / _dim_y) * 255);\n  var g = _selected_color[1];\n  var b = _selected_color[2];\n  return [r, g, b];\n}\n\nfunction get_slider_color_g(y) {\n  var r = _selected_color[0];\n  var g = Math.round((1 - y / _dim_y) * 255);\n  var b = _selected_color[2];\n  return [r, g, b];\n}\n\nfunction get_slider_color_b(y) {\n  var r = _selected_color[0];\n  var g = _selected_color[1];\n  var b = Math.round((1 - y / _dim_y) * 255);\n  return [r, g, b];\n}\n\nfunction update_color() {\n  var color = get_color(_selected_pos[0], _selected_pos[1]);\n  color.push(255);\n  _selected_color = color;\n  console.assert(_selected_color);\n}\n\nfunction draw_vslider_colorpick(uiid, rect, state, min, max, value, handle_label) {\n  if (_slider_image == null) {\n    _slider_image = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createImageData(rect.w, rect.h);\n    _slider_data = _slider_image.data;\n  }\n\n  console.assert(handle_label != null);\n  console.assert(handle_label != undefined);\n  var range = 0 | max - min;\n  var rel_value = 0 | value - min;\n  var value_percent = rel_value / range;\n  var rect1 = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](rect, 1);\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n  var rect_dilated = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, _color_squares_border_size);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect_dilated, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n\n  if (_use_gradient_trickery) {\n    var g;\n\n    if (_mode == _mode_hue) {\n      g = get_rainbow_gradient(peek.x, peek.y + rect.h, rect.x, rect.y); // bottom to top\n    } else {\n      // all other modes are a two-stop gradient, get_slider_color changes with mode\n      g = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createLinearGradient(peek.x, peek.y, rect.x, rect.y + rect.h); // top to bottom\n\n      var top_color = get_slider_color(0);\n      var top_color_css = \"rgba(\".concat(top_color[_r], \", \").concat(top_color[_g], \", \").concat(top_color[_b], \", 1)\");\n      g.addColorStop(0, top_color_css);\n      var bot_color = get_slider_color(rect.h - 1);\n      var bot_color_css = \"rgba(\".concat(bot_color[_r], \", \").concat(bot_color[_g], \", \").concat(bot_color[_b], \", 1)\");\n      g.addColorStop(1, bot_color_css);\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = g;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(peek.x, peek.y, rect.w, rect.h);\n  } else {\n    if (_color_update_step % _color_update_interval == 0) {\n      // step inc happens in main square drawing\n      var color;\n\n      for (var x = 0; x < rect.w; x++) {\n        for (var y = 0; y < rect.h; y++) {\n          color = get_slider_color(y);\n\n          var _i4 = 0 | x * 4 + y * rect.w * 4;\n\n          _slider_data[_i4 + 0] = 0 | color[0];\n          _slider_data[_i4 + 1] = 0 | color[1];\n          _slider_data[_i4 + 2] = 0 | color[2];\n          _slider_data[_i4 + 3] = 0 | 255;\n        }\n      }\n    }\n  }\n\n  if (!_use_gradient_trickery) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].putImageData(_slider_image, peek.x, peek.y, 0, 0, rect.w, rect.h); // SLOW 4 ms\n  } // handle\n\n\n  var handledim = 0 | rect1.w;\n  var handleh = 0 | handledim / 4;\n  var handlepos = 0 | (rect1.h - handleh) * value_percent + handledim / 2;\n  var rectx = 0 | rect1.x;\n  var recty = 0 | rect1.y + handlepos - handledim / 2;\n  var hrect = RectangleP(rectx + 1, recty, handledim - 2, handleh);\n  /*if (state[consts._Held]) {\r\n      uidraw.rectangle3d(hrect, uidraw.activating_face);\r\n  } else if (state[consts._Hovered]) {\r\n      uidraw.rectangle3d(hrect, uidraw.raised_accent);\r\n  } else { // normal\r\n      uidraw.rectangle3d(hrect, uidraw.raised_face);\r\n  }*/\n\n  {\n    // arrows for color picker slider\n    var size = 5;\n    var x1 = rect.x - 1.5;\n    var arrowpos = rect1.h * value_percent;\n    var y1 = rect1.y + arrowpos + 0.5;\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x1, y1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x1 - size, y1 - size);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x1 - size, y1 + size);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x1, y1); //\n\n    var x2 = rect.x + rect.w + 1.5;\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x2, y1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x2 + size, y1 + size);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x2 + size, y1 - size);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x2, y1); //\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  }\n\n  if (handle_label) {\n    var textx = 0 | hrect.x + hrect.w / 2 - 5;\n    var texty = 0 | rect.y + rect.h - 16;\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](handle_label, textx, texty, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"color_white\"]);\n  }\n} // draw color square using trickery, not calculating every pixel\n// some trickery may not be perfect, yet, but still looks reasonable\n\n\nfunction draw_color_square_with_trickery(mode) {\n  var local_rect = Rectangle(0, 0, _dim_x, _dim_y);\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n\n  if (mode == _mode_hue) {\n    // perfect afaict\n    // WRONG => white bg + hgradient with transparent start color\n    // RIGHT => hgradient with start color of opaque white\n    // horizontal gradient: white to upper-right color.. can use get_color hoy hoy hoy\n    {\n      var g = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createLinearGradient(rect.x, rect.y, rect.x + rect.w, rect.y);\n      g.addColorStop(0, 'rgba(255,255,255,1)');\n      var color = get_color_h(_dim_x - 1, 0);\n      var color_css = \"rgba(\".concat(color[_r], \", \").concat(color[_g], \", \").concat(color[_b], \", 1)\");\n      g.addColorStop(1, color_css); // nolive: DrawBox color pass stuff is annoying. Don't like it. Doesn't let me do DrawBox with gradient. Doing manually here.\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = g;\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(rect.x, rect.y, rect.w, rect.h);\n    } // vertical gradient: transparent to black\n\n    {\n      var _g2 = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createLinearGradient(rect.x, rect.y, rect.x, rect.y + rect.h);\n\n      _g2.addColorStop(0, 'rgba(0,0,0,0)');\n\n      _g2.addColorStop(1, 'rgba(0,0,0,1)');\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = _g2;\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(rect.x, rect.y, rect.w, rect.h);\n    }\n  } else if (mode == _mode_saturation) {\n    // perfect afaict\n    // horizontal gradient: rainbow\n    {\n      var _g3 = get_rainbow_gradient(rect.x, rect.y, rect.x + rect.w, rect.y);\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = _g3;\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(rect.x, rect.y, rect.w, rect.h);\n    } // white fill with alpha of part value\n\n    if (true) {\n      var alpha = 1 - _color_part_sliders[_mode_saturation] / 100;\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = 'rgba(255,255,255,' + alpha + ')';\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(rect.x, rect.y, rect.w, rect.h);\n    } // vertical gradient: transparent black to black, static!\n\n\n    if (true) {\n      var _g4 = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createLinearGradient(rect.x, rect.y, rect.x, rect.y + rect.h); //const alpha = 0; // 1 - _color_part_sliders[_mode_saturation] / 100;\n\n\n      _g4.addColorStop(0, 'rgba(0,0,0,0)'); // transparent white is subtly wrong, transparent black is correct\n\n\n      _g4.addColorStop(1, 'rgba(0,0,0,1)');\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = _g4;\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(rect.x, rect.y, rect.w, rect.h);\n    }\n  } else if (mode == _mode_value) {\n    // perfect afaict\n    // horizontal gradient: rainbow\n    {\n      var _g5 = get_rainbow_gradient(rect.x, rect.y, rect.x + rect.w, rect.y);\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = _g5;\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(rect.x, rect.y, rect.w, rect.h);\n    } // vertical gradient: transparent white to white, static!\n\n    if (true) {\n      var _g6 = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createLinearGradient(rect.x, rect.y, rect.x, rect.y + rect.h); //const alpha = 0; // 1 - _color_part_sliders[_mode_value] / 100;\n\n\n      _g6.addColorStop(0, 'rgba(255,255,255,0)'); // transparent white is subtly wrong, transparent black is correct\n\n\n      _g6.addColorStop(1, 'rgba(255,255,255,1)');\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = _g6;\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(rect.x, rect.y, rect.w, rect.h);\n    } // black fill with alpha of part value\n\n\n    if (true) {\n      var _alpha = 1 - _color_part_sliders[_mode_value] / 100;\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = 'rgba(0,0,0,' + _alpha + ')';\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(rect.x, rect.y, rect.w, rect.h);\n    }\n  } else if (mode == _mode_red) {\n    draw_color_square_with_trickery_rgb(rect, _mode_red);\n  } else if (mode == _mode_green) {\n    draw_color_square_with_trickery_rgb(rect, _mode_green);\n  } else if (mode == _mode_blue) {\n    draw_color_square_with_trickery_rgb(rect, _mode_blue);\n  }\n}\n\nfunction draw_color_square_with_trickery_rgb(rect, mode) {\n  var part = Math.round(_color_part_sliders[mode] / 100 * 255);\n\n  if (mode == _mode_red) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = 'rgb(' + part + '255,255)';\n  } else if (mode == _mode_green) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = 'rgb(255,' + part + ',255)';\n  } else if (mode == _mode_blue) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = 'rgb(255,255,' + part + ')';\n  } // background fill\n\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(rect.x, rect.y, rect.w, rect.h);\n  var upper_left_stop0, upper_left_stop1;\n  var bottom_left_stop0, bottom_left_stop1;\n\n  if (mode == _mode_red) {\n    upper_left_stop0 = 'rgba(' + part + ',255,0,1)';\n    upper_left_stop1 = 'rgba(' + part + ',255,255,1)'; // alpha 1 is right\n\n    bottom_left_stop0 = 'rgba(' + part + ',0,0,0)';\n    bottom_left_stop1 = 'rgba(' + part + ',0,255,1)';\n  } else if (mode == _mode_green) {\n    upper_left_stop0 = 'rgba(255,' + part + ',0,1)';\n    upper_left_stop1 = 'rgba(255,' + part + ',255,1)'; // color 255 is right, alpha 1 is right\n\n    bottom_left_stop0 = 'rgba(0,' + part + ',0,0)'; // color 0 is right, \n\n    bottom_left_stop1 = 'rgba(0,' + part + ',255,1)';\n  } else if (mode == _mode_blue) {\n    upper_left_stop0 = 'rgba(0,255,' + part + ',1)';\n    upper_left_stop1 = 'rgba(255,255,' + part + ',1)';\n    bottom_left_stop0 = 'rgba(0,0,' + part + ',0)';\n    bottom_left_stop1 = 'rgba(255,0,' + part + ',1)';\n  }\n\n  if (true) {\n    // upper left, horizontal gradient\n    var previous_composite_op = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].globalCompositeOperation;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].globalCompositeOperation = _blend_mode1;\n\n    if (true) {\n      var g = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createLinearGradient(rect.x, rect.y, rect.x + rect.w, rect.y); // horizontal\n\n      g.addColorStop(0, upper_left_stop0);\n      g.addColorStop(1, upper_left_stop1);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = g;\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(rect.x, rect.y, rect.w, rect.h);\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].globalCompositeOperation = previous_composite_op;\n  }\n\n  if (true) {\n    // bottom left, vertical gradient\n    var _previous_composite_op = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].globalCompositeOperation;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].globalCompositeOperation = _blend_mode2;\n\n    if (true) {\n      var _g7 = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createLinearGradient(rect.x, rect.y, rect.x, rect.y + rect.h);\n\n      _g7.addColorStop(0, bottom_left_stop0); // 0,0,0 is right, 255,255,255 is wrong\n\n\n      _g7.addColorStop(1, bottom_left_stop1);\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillStyle = _g7;\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fillRect(rect.x, rect.y, rect.w, rect.h);\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].globalCompositeOperation = _previous_composite_op;\n  }\n}\n\nfunction get_rainbow_gradient(x0, y0, x1, y1) {\n  var g = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createLinearGradient(x0, y0, x1, y1);\n  /* photoshop hue gradient\r\n  0/360, [255,0,0,1] // red\r\n  60/360, [255,255,0,1] // yellow\r\n  120/360 [0,255,0,1] // green\r\n  180/360 [0,255,255,1] // cyan\r\n  240/360 [0,0,255,1] // blue\r\n  300/360 [255,0,255,1] // magenta\r\n  360,360 [255,0,0,1] // back to red    \r\n  */\n\n  g.addColorStop(0 / 360, 'rgba(255,0,0,1)'); // r\n\n  g.addColorStop(60 / 360, 'rgba(255,255,0,1)'); // y\n\n  g.addColorStop(120 / 360, 'rgba(0,255,0,1)'); // g\n\n  g.addColorStop(180 / 360, 'rgba(0,255,255,1)'); // c\n\n  g.addColorStop(240 / 360, 'rgba(0,0,255,1)'); // b\n\n  g.addColorStop(300 / 360, 'rgba(255,0,255,1)'); // m\n\n  g.addColorStop(360 / 360, 'rgba(255,0,0,1)'); // r\n\n  return g;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_colorpick.js?");

/***/ }),

/***/ "./src/simpleui_app_demo.js":
/*!**********************************!*\
  !*** ./src/simpleui_app_demo.js ***!
  \**********************************/
/*! exports provided: do_app_demo, do_background_anim, do_sidepanel, do_color */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_demo\", function() { return do_app_demo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_background_anim\", function() { return do_background_anim; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_sidepanel\", function() { return do_sidepanel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_color\", function() { return do_color; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n/* harmony import */ var _simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_ex_gradient.js */ \"./src/simpleui_ex_gradient.js\");\n/* harmony import */ var _simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./simpleui_ex_gridfont.js */ \"./src/simpleui_ex_gridfont.js\");\n/* harmony import */ var _simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./simpleui_ex_scroll.js */ \"./src/simpleui_ex_scroll.js\");\n/* harmony import */ var _simpleui_ex_linestar_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./simpleui_ex_linestar.js */ \"./src/simpleui_ex_linestar.js\");\n\n\n\n\n\n\n\n\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_a\"];\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar Color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar Point = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Point\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"]; //const Rectangle = ui.Rectangle;\n\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar make_css_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"];\n\nfunction init_array(size, init_val) {\n  var a = [];\n\n  for (var i = 0; i < size; i++) {\n    a[i] = init_val;\n  }\n\n  return a;\n}\n\nfunction sum(a) {\n  var result = 0 | 0;\n\n  for (var i = 0; i < a.length; i++) {\n    var v = a[i];\n    result = result + v;\n  }\n\n  return result;\n}\n\nconsole.assert(sum([1, 2, 3]) == 6);\n\nfunction randomize_color(color) {\n  var a = [0, 1, 2];\n\n  for (var i = 0; i < a.length; i++) {\n    var k = a[i];\n    var v = 50 + Math.round(Math.random() * 150);\n    color[k] = v;\n  }\n}\n\nfunction do_color(uiid, color, label, enable_alpha) {\n  if (enable_alpha == null) {\n    enable_alpha = true;\n  }\n\n  var _;\n\n  var changed = false | 0; // base component sizes\n\n  var h = 24 | 0;\n  var w = h * 5 | 0;\n  var rect = RectangleP(0, 0, w, h);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    // label & sliders\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](label, rect);\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-r', rect, 0, 255, color[_r], 'r');\n\n      if (_.changed) {\n        changed = 0 | true;\n        color[_r] = _.value;\n      }\n\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-g', rect, 0, 255, color[_g], 'g');\n\n      if (_.changed) {\n        changed = 0 | true;\n        color[_g] = _.value;\n      }\n\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-b', rect, 0, 255, color[_b], 'b');\n\n      if (_.changed) {\n        changed = 0 | true;\n        color[_b] = _.value;\n      }\n\n      if (enable_alpha) {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-a', rect, 0, 255, color[_a], 'a');\n\n        if (_.changed) {\n          changed = 0 | true;\n          color[_a] = _.value;\n        }\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // swatch\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    var pad = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]().padding; // parent pad\n\n    {\n      // this increment moves the swatch down so it aligns with the sliders, not the label                    \n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, h);\n      var swatch_dim = h * 3 + pad * 2;\n      var swatch_rect = RectangleP(0, 0, swatch_dim, swatch_dim);\n      var swatch_color;\n\n      if (enable_alpha) {\n        swatch_color = color;\n      } else {\n        swatch_color = [color[0], color[1], color[2], 255];\n      }\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](swatch_rect), swatch_color);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](swatch_rect);\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-rand-button', 'random', RectangleP(0, 0, swatch_dim, h));\n\n      if (_.clicked) {\n        randomize_color(color);\n        changed = true | 0;\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      changed: 0 | false,\n      value: null\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = color;\n  return state; //return {changed: 0 | changed, value: color};\n}\n\nfunction do_ms_meter(uiid, a_time, high_value) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'times': init_array(30, 0)\n    });\n  }\n\n  var times = state.times;\n  times.push(a_time);\n  times.shift(); //let high_value = 32;\n\n  var value = 0 | sum(times) / times.length;\n  var constrained_value = 0 | Math.floor(Math.min(high_value, value));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"progressbar\"](uiid + '-progbar', RectangleP(0, 0, 100, 20), high_value, 0 | constrained_value);\n  var tmp = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable = true;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](value + 'ms', RectangleP(0, 0, 100, 20));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable = tmp;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_ms_graph(uiid, a_time, graph_height) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'times': init_array(30, 0)\n    });\n  }\n\n  var times = state.times;\n  times.push(a_time);\n  times.shift(); //let graph_height = 40;\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, 0);\n\n  for (var i = 0; i < times.length; i++) {\n    var v = 0 | Math.min(graph_height, times[i]);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"rectangle\"](RectangleP(0, 0, 4, v), ColorP(255, 255, 255, 51));\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, graph_height);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction sidelabel(text) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](text, RectangleP(0, 5, 100, 24));\n}\n\nfunction do_sidepanel() {\n  var _;\n\n  var pad = 8; //let none1 = ui.layout_push(_none, 0, 0, 0);\n\n  var rect = RectangleP(0, 0, 200, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetClientHeight() | 0); //let rect2 = uidraw.rectangle_erode(rect, 2);\n\n  var sidepanel_color = ColorP(_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"][_r], _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"][_g], _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"][_b], 127);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"rectangle\"](rect, sidepanel_color); //let vert1 = \n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, pad, pad, pad);\n  {\n    var app_button_group = function app_button_group(names) {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, -1);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n      for (var i = 0; i < names.length; i++) {\n        var name = names[i];\n        var is_desktop_active = 0 | name == app.desktop;\n        var button_text = name;\n\n        if (button_text == 'hordewave') {\n          button_text = 'shoot';\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"]('sidepanel-desktop-button-' + name, button_text, RectangleP(0, 0, 100, 24), is_desktop_active);\n\n        if (_.changed && _.value) {\n          app.desktop = name;\n          window.location.hash = '#' + name;\n        }\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    };\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('simpleui v' + _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_version\"](), RectangleP(0, 0, 100, 20)); // reload\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"]('sidepanel-reload-button', 'reload', RectangleP(0, 0, 100, 24));\n\n    if (_.clicked) {\n      document.location.reload(true);\n    } // desktop select\n\n\n    sidelabel('experiments');\n\n    if (true) {\n      app_button_group(app.desktops);\n    } else { var mid_index; } // mouse status :->\n\n\n    if (false) { var mouse_rect, layout, radar_cursor_pos_y, radar_cursor_pos_x, cursor_size, h, w, h_, aspect, w_; } // padding (lost this feature when modularized due to namespace/scope boundaries, might fix one day)\n\n    /*\r\n    sidelabel('padding');\r\n    _ = ui.slider('sidepanel-padding-slider', RectangleP(0, 0, 100, 20), 0, 12, app.panel_layout_padding, '');\r\n    if (_.changed) {\r\n        app.panel_layout_padding = _.value;\r\n    }*/\n    // cpu (not reasonably possible in js)\n    // frame times + graph\n\n\n    sidelabel('frame time');\n    do_ms_meter('sidepanel-ms-meter', _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].dt, 50);\n    do_ms_graph('sidepanel-frame-graph', _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].dt, 20); // actual times + graph\n\n    sidelabel('cpu time per frame');\n    do_ms_meter('sidepanel-actual-meter', app.main_proc_time, 10);\n    do_ms_graph('sidepanel-actual-graph', app.main_proc_time, 20); // memory\n\n    do_memory_graphs(); // canvas size hack\n    // disabling until i do it with flicker\n\n    /*\r\n    ui.label('canvas trim', RectangleP(0, 0, 100, 20));\r\n    ui.layout_push(_horizontal);\r\n    _ = ui.slider('sidepanel-canvas-size-hack-slider', RectangleP0, 0, 100, 20), 0, 60, app.canvas_size_hack, '');\r\n    if (_.changed) {\r\n        app.canvas_size_hack = _.value;\r\n        set_size();\r\n    }\r\n    ui.label(app.canvas_size_hack + 'px', RectangleP(0, 0, 100, 20));\r\n    ui.layout_pop();\r\n    */\n    // show/hides\n\n    /*{\r\n        let panels = ['color panel', 'gradient panel', 'gridfont paneli', 'scroll test panel'];\r\n          for (let i = 0; i < panels.length; i++) {\r\n            let uiid = panels[i];\r\n            let panel = ui.get_state(uiid);\r\n            _ = ui.checkbutton('sidepanel-toggle-' + uiid, 'show ' + uiid, RectangleP(0, 0, 183, 24), panel && panel.visible);\r\n            if (_.changed) {\r\n                panel.visible = !panel.visible;\r\n            }\r\n        }\r\n    }*/\n    // misc\n\n    if (false) { var mem2, mem1, memory; } // flags\n\n\n    {\n      // editor help for function arguments needs some hjalp\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"]('button-rtc', 'reset text cache', RectangleP(0, 0, 150, 24));\n      if (_.clicked) _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].ResetDrawTextCache(); //_ = ui.button('button-rbc', 'reset box cache', RectangleP(0, 0, 150, 24));\n      //if (_.clicked) _drawbox_cache = {};\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"]('ui.config.drawtext_bitmap checkbox', RectangleP(0, 0, 20, 20), _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_bitmap);\n\n        if (_.changed) {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_bitmap = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('drawtext bitmap', RectangleP(0, 0, 100, 20));\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"]('ui.config.drawhotspots_enable checkbox', RectangleP(0, 0, 20, 20), _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawhotspots_enable); // todo: move this let to ui.config.\n\n        if (_.changed) {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawhotspots_enable = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('draw hotspots', RectangleP(0, 0, 100, 20));\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"]('ui.config.drawtext_enable checkbox', RectangleP(0, 0, 20, 20), _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable);\n\n        if (_.changed) {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('draw text', RectangleP(0, 0, 100, 20));\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      /*ui.layout_push(_horizontal);\r\n      {\r\n          _ = ui.checkbox('ui.config.drawbox_gradient', RectangleP(0, 0, 20, 20), ui.config.drawbox_gradient_enable);\r\n          if (_.changed) {\r\n              ui.config.drawbox_gradient_enable = _.value;\r\n          }\r\n          ui.label('drawbox gradient', RectangleP(0, 0, 100, 20));\r\n      }\r\n      ui.layout_pop();*/\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n}\n\nfunction do_color_row(obj, keys) {\n  for (var i = 0; i < keys.length; i++) {\n    var k = keys[i];\n    do_color('color_' + k, obj[k], k);\n  }\n}\n\nfunction do_color_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    // row 1\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      do_color_row(_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__, ['accent', 'panel_color', 'bg_color']);\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // row 2\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    do_color_row(_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__, ['normal_back', 'normal_face', 'activating_face']);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // row 3\n\n    var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, peek.padding, peek.x + 202, peek.y);\n    do_color_row(_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__, ['raised_face', 'raised_accent']);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n}\n\nfunction do_gradient_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    var changed = 0 | false;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      //const min_x = -50;\n      //const max_x = 150;\n      var min_y = -50;\n      var max_y = 150; //const dim_w = max_x - min_x;\n\n      var dim_h = max_y - min_y;\n      _ = Object(_simpleui_ex_gradient_js__WEBPACK_IMPORTED_MODULE_4__[\"do_gradient_stroke_edit\"])(uiid + 'stroke-edit', -50, 150, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2);\n\n      if (_.changed) {\n        changed = 0 | changed || _.changed;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1 = 0 | _.x1;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1 = 0 | _.y1;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2 = 0 | _.x2;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2 = 0 | _.y2;\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n      {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"]('grad-panel-slider-x1', RectangleP(0, 0, 200, 20), -50, 150, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1, 'x1');\n\n        if (_.changed) {\n          changed = 0 | true;\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1 = 0 | _.value;\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"]('grad-panel-slider-y1', RectangleP(0, 0, 200, 20), -50, 150, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1, 'y1');\n\n        if (_.changed) {\n          changed = 0 | true;\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1 = 0 | _.value;\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"]('grad-panel-slider-x2', RectangleP(0, 0, 200, 20), -50, 150, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2, 'x2');\n\n        if (_.changed) {\n          changed = 0 | true;\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2 = 0 | _.value;\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"]('grad-panel-slider-y2', RectangleP(0, 0, 200, 20), -50, 150, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2, 'y2');\n\n        if (_.changed) {\n          changed = 0 | true;\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2 = 0 | _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 20);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('pt1: ' + _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1 + ', ' + _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1, RectangleP(0, 0, 200, 20));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('pt2: ' + _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2 + ', ' + _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2, RectangleP(0, 0, 200, 20));\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, dim_h);\n    } // horizontal 1                \n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _ = do_color('box_gradient.color_stop1', _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop1, 'stop1 color');\n      changed = 0 | changed || _.changed;\n      _ = do_color('box_gradient.color_stop2', _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop2, 'stop2 color');\n      changed = 0 | changed || _.changed;\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n\n    if (changed && _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].config.has_drawbox_gradient) {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawbox_gradient = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].CreateDrawboxGradient(context, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop2);\n    }\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n}\n\nfunction do_gridfont_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'uiid': uiid,\n      'run': 0 | true,\n      'reset': 0 | false\n    });\n  } // cannot shared panel uiid here since do_gridfont_panel has state (above) (keyed by uiid)\n\n\n  var panel_uiid = uiid + 'i';\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(panel_uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n\n    var _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-test-button', 'gridfont ' + (state.run ? 'stop' : 'run'), RectangleP(0, 0, 150, 24));\n\n    if (_.clicked) {\n      state.run = 0 | !state.run;\n    }\n\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-test-button2', 'gridfont reset', RectangleP(0, 0, 150, 24));\n\n    if (_.clicked) {\n      state.reset = 0 | true;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 24);\n    var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](RectangleP(0, 0, 0, 0));\n    var complete = 0 | (state.run && true);\n    var reset_complete = 0 | (state.reset && true);\n\n    if (state.run) {\n      _ = Object(_simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_5__[\"do_gridfont\"])(uiid + '-gridfont1', 'abcdefghijklmnopqrstuvwxyz', 'hint-four', rect.x, rect.y, 10, state.reset);\n      complete = 0 | (complete && _.complete);\n      reset_complete = 0 | (reset_complete && _.reset_complete);\n\n      if (_.complete || state.reset && _.reset_complete) {\n        _ = Object(_simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_5__[\"do_gridfont\"])(uiid + '-gridfont2', 'leverage agile frameworks', 'hint-four', rect.x, 0 | rect.y + 10 * 7, 10, state.reset);\n        complete = 0 | (complete && _.complete);\n        reset_complete = 0 | (reset_complete && _.reset_complete);\n\n        if (_.complete || state.reset && _.reset_complete) {\n          _ = Object(_simpleui_ex_gridfont_js__WEBPACK_IMPORTED_MODULE_5__[\"do_gridfont\"])(uiid + '-gridfont3', 'provide robust synopsis', 'hint-four', rect.x, 0 | rect.y + 20 * 7, 10, state.reset);\n          complete = 0 | (complete && _.complete);\n          reset_complete = 0 | (reset_complete && _.reset_complete);\n        }\n      }\n    }\n\n    if (reset_complete) {\n      state.reset = 0 | 0;\n    }\n\n    if (complete) {\n      state.reset = 0 | 1;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](780, 10 * 7 * 3 + 40);\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(panel_uiid);\n}\n\nvar _linestar_segments = 13;\nvar _linestar_segments_direction = 1;\nvar _linestar_segments_accumulator = 0;\nvar _linestar_segments_accumulator_max = 17;\nvar _linestar_joints = 12;\nvar _linestar_joints_direction = 1;\nvar _linestar_joints_accumulator = 0;\nvar _linestar_joints_accumulator_max = 5;\nvar _linestar_webs = 0;\n\nvar _linestar_anim_enabled = 0 | false;\n\nfunction do_linestar_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.expanded) {\n    var _ = Object(_simpleui_ex_linestar_js__WEBPACK_IMPORTED_MODULE_7__[\"do_linestar_edit\"])(uiid + '-linestar-edit', _linestar_segments, _linestar_joints, _linestar_webs);\n\n    if (_.changed) {\n      _linestar_segments = _.segments;\n      _linestar_joints = _.joints;\n      _linestar_webs = _.webs;\n    } else if (_linestar_anim_enabled) {\n      _linestar_segments_accumulator++;\n\n      if (_linestar_segments > 20 || _linestar_segments < 3) {\n        _linestar_segments = Math.max(3, Math.min(20, _linestar_segments));\n        _linestar_segments_direction = -_linestar_segments_direction;\n      }\n\n      if (_linestar_segments_accumulator == _linestar_segments_accumulator_max) {\n        _linestar_segments = _linestar_segments + _linestar_segments_direction;\n        _linestar_segments_accumulator = 0;\n      }\n\n      _linestar_joints_accumulator++;\n\n      if (_linestar_joints > 20 || _linestar_joints < 3) {\n        _linestar_joints = Math.max(3, Math.min(20, _linestar_joints));\n        _linestar_joints_direction = -_linestar_joints_direction;\n      }\n\n      if (_linestar_joints_accumulator == _linestar_joints_accumulator_max) {\n        _linestar_joints = _linestar_joints + _linestar_joints_direction;\n        _linestar_joints_accumulator = 0;\n      }\n    }\n\n    var label = (_linestar_anim_enabled ? 'disable' : 'enable') + ' idle animation';\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-enable-anim-button', label, RectangleP(0, 0, 200, 24), _linestar_anim_enabled);\n\n    if (_.changed) {\n      _linestar_anim_enabled = _.value;\n    }\n\n    var rect = RectangleP(0, 0, 200, 20);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-1', rect, 1, 20, _linestar_segments_accumulator_max, '');\n\n    if (_.changed) {\n      _linestar_segments_accumulator = 0;\n      _linestar_segments_accumulator_max = 0 | _.value;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('segment anim delay', rect);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-2', rect, 1, 20, _linestar_joints_accumulator_max, '');\n\n    if (_.changed) {\n      _linestar_joints_accumulator = 0;\n      _linestar_joints_accumulator_max = 0 | _.value;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('joint anim delay', rect);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n}\n\nfunction do_scrolltest_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.visible && panel.expanded) {\n    // todo: design so that when i remove the scroll widget, the contained widgets will just render as usual (no glue)\n    var scroll_uiid = uiid + '-scroll';\n    var scroll = Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_6__[\"do_scroll_begin\"])(scroll_uiid, RectangleP(0, 0, 200, 200), 20, 10000); // todo:\n    // maybe an opt-in api for widgets to call to see if they are... \"in view\"\n    // if (!in_view(uiid)) { return null; } // or something\n\n    for (var i = scroll.first_visible_index; i < scroll.last_visible_index; i++) {\n      Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_6__[\"do_scroll_item_begin\"])(scroll_uiid, i);\n\n      var _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-button-' + i, 'button #' + i, RectangleP(0, 0, 200, 20));\n\n      if (_.clicked) console.log('clicked #' + i);\n      Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_6__[\"do_scroll_item_end\"])(scroll_uiid);\n    }\n\n    Object(_simpleui_ex_scroll_js__WEBPACK_IMPORTED_MODULE_6__[\"do_scroll_end\"])(scroll_uiid);\n  }\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n}\n\nvar _used_heap_size = 0 | 0;\n\nvar _uhs_sample_counter = 0 | 0;\n\nfunction do_memory_graphs() {\n  if (window.performance) {\n    var high_value = 100 * 1024 * 1024;\n    var label_value;\n    sidelabel('memory');\n\n    if (window.performance && window.performance.memory) {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"progressbar\"]('--memory-graph-progbar', RectangleP(0, 0, 100, 20), high_value, 0 | window.performance.memory.usedJSHeapSize); // total heap memory    \n\n      _uhs_sample_counter++;\n\n      if (_uhs_sample_counter == 10) {\n        _used_heap_size = window.performance.memory.usedJSHeapSize / 1024;\n        _uhs_sample_counter = 0;\n      }\n\n      label_value = 0 | _used_heap_size;\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](label_value + 'k', RectangleP(0, 0, 100, 20), ColorP(255, 255, 255, 255));\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"progressbar\"]('--memory-graph-progbar2', RectangleP(0, 0, 100, 20), high_value, 0 | window.performance.memory.totalJSHeapSize); // currently used heap memory\n\n      label_value = 0 | window.performance.memory.totalJSHeapSize / 1024 / 1024;\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](label_value + 'meg', RectangleP(0, 0, 100, 20), ColorP(255, 255, 255, 255));\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    } // if window.performance && window.performance.memory (firefox)\n\n  }\n}\n/** create random point, with no zero components */\n\n\nfunction random_anim_vector() {\n  var vecx = 0 | 1;\n  var vecy = 0 | 1;\n\n  if (Math.random() < 0.5) {\n    vecx = -vecx;\n  }\n\n  if (Math.random() < 0.5) {\n    vecy = -vecy;\n  }\n\n  m_v8.assert_smi(vecx);\n  m_v8.assert_smi(vecy);\n  return Point(vecx, vecy);\n}\n\nvar anim_items = [PointP(0, 0)];\nvar anim_vectors = [random_anim_vector()];\nvar anim_color1 = make_css_color(Color(255, 255, 255, 8));\nvar anim_color2 = make_css_color(Color(255, 255, 255, 8));\n\nvar _bg_init = 0 | false;\n\nfunction do_background_anim() {\n  if (!_bg_init) {\n    for (var i = 1; i < 100; i++) {\n      var randx = 0 | Math.random() * canvas.width * 3 - canvas.width;\n      var randy = 0 | Math.random() * canvas.height * 3 - canvas.height;\n      anim_items.push(PointP(randx, randy));\n      anim_vectors.push(random_anim_vector());\n    }\n\n    _bg_init = 0 | true;\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](0, 0);\n\n  for (var _i = 0; _i < anim_items.length; _i++) {\n    var item = anim_items[_i];\n    var vec = anim_vectors[_i];\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](item.x, item.y); // update positions from vectors                \n\n    item.x = 0 | item.x + vec.x;\n    item.y = 0 | item.y + vec.y;\n    var min_x = 0 | -canvas.width;\n    var max_x = 0 | canvas.width * 2;\n    var min_y = 0 | -canvas.height;\n    var max_y = 0 | canvas.height * 2;\n    m_v8.assert_smi(item.x);\n    m_v8.assert_smi(item.y);\n    m_v8.assert_smi(vec.x);\n    m_v8.assert_smi(vec.y); // reverse vectors when out of bounds\n\n    if (item[0] < min_x || item[0] > max_x) {\n      vec[0] *= -1;\n    }\n\n    if (item[1] < min_y || item[1] > max_y) {\n      vec[1] *= -1; //vec[1] = 0 | -vec[1];\n    }\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](anim_color1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // todo: uidraw.custom_line2(x1, y1, x2, y2, width, style)\n\n  var dash_scale = 20;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linedash\"]([1 * dash_scale, 3 * dash_scale, 3 * dash_scale, 5 * dash_scale, 5 * dash_scale, 8 * dash_scale, 8 * dash_scale, 13 * dash_scale]);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](3);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](anim_color2);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linedash\"](); // todo: uidraw.custom_line3(x1, y1, x2, y2, width, style, dash)\n}\n\nfunction do_app_demo() {\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n  var row_x0 = 222;\n  var row_y0 = 47;\n  do_linestar_panel('linestar panel', row_x0, row_y0, true, expanded);\n  var row_x1 = row_x0 + 465;\n  do_color_panel('color panel', row_x1, row_y0, true, expanded);\n  var row_x2 = row_x1 + 666;\n  do_gradient_panel('gradient panel', row_x2, row_y0, true, expanded);\n  do_gridfont_panel('gridfont panel ', row_x1, 547 + 27 - 40 - 3, true, expanded);\n  do_scrolltest_panel('scroll test panel', 1579 - 30 - 12, 486 + 25 - 42, true, expanded);\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_demo.js?");

/***/ }),

/***/ "./src/simpleui_app_dial.js":
/*!**********************************!*\
  !*** ./src/simpleui_app_dial.js ***!
  \**********************************/
/*! exports provided: do_app_dial, do_dial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_dial\", function() { return do_app_dial; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_dial\", function() { return do_dial; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n\n\n\n\nvar _Hovered = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_Hovered\"];\nvar _Held = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_Held\"];\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_a\"];\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\n\nfunction sum(a) {\n  var result = 0 | 0;\n\n  for (var i = 0; i < a.length; i++) {\n    var v = a[i];\n    result = result + v;\n  }\n\n  return result;\n}\n\nconsole.assert(sum([1, 2, 3]) == 6);\nvar _dial_value = 40;\nvar _dial_dim = 96;\nvar _dial_min = 0;\nvar _dial_max = 100;\nvar _dial_sensitivity = 2;\n\nfunction distance(x1, y1, x2, y2) {\n  var dx = x2 - x1;\n  var dy = y2 - y1;\n  var c = dx * dx + dy * dy;\n  return Math.sqrt(c);\n}\n\nfunction do_app_dial() {\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n  var row_x0 = 222;\n  var row_y0 = 47;\n  do_dial_panel('dial panel', row_x0, row_y0, true, expanded);\n}\n\nfunction do_dial_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.expanded) {\n    var horizontal = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    _ = do_dial(uiid + '-dial-test', RectangleP(0, 0, _dial_dim, _dial_dim), _dial_min, _dial_max, _dial_value, _dial_sensitivity);\n\n    if (_.changed) {\n      _dial_value = _.value;\n    } //ui.layout_increment2(dim_x + 20, dim_y);\n\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](256 - _dial_dim, 256 - _dial_dim);\n    var vertical = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical); // todo: inset on a darker padded rect?\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('dim: ' + _dial_dim, RectangleP(0, 0, 120, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-dial-dim-slider', RectangleP(0, 0, 200, 20), 1, 512, _dial_dim, '');\n\n      if (_.changed) {\n        _dial_dim = _.value;\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('min: ' + _dial_min, RectangleP(0, 0, 120, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-dial-min-slider', RectangleP(0, 0, 200, 20), 1, 512, _dial_min, '');\n\n      if (_.changed) {\n        _dial_min = _.value;\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('max: ' + _dial_max, RectangleP(0, 0, 120, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-dial-max-slider', RectangleP(0, 0, 200, 20), 1, 512, _dial_max, '');\n\n      if (_.changed) {\n        _dial_max = _.value;\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      var get_sens_slider_value = function get_sens_slider_value() {\n        return _dial_sensitivity * 100;\n      };\n\n      var set_sens_value = function set_sens_value(slider_value) {\n        _dial_sensitivity = slider_value / 100;\n      };\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('sensitivity: ' + _dial_sensitivity, RectangleP(0, 0, 120, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-sensitivity-slider', RectangleP(0, 0, 200, 20), 0, 400, get_sens_slider_value(), '');\n\n      if (_.changed) {\n        set_sens_value(_.value);\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // vertical\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horizontal\n  } // panel.expanded\n\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n}\n\nvar _dial_down_x;\n\nvar _dial_down_y;\n\nvar _dial_down_value; //let _dial_up_x = 0 | 0;\n//let _dial_up_y = 0 | 0;\n\n\nfunction do_dial(uiid, local_rect, min, max, value, sensitivity) {\n  if (!sensitivity) {\n    sensitivity = 1;\n  }\n\n  console.assert(sensitivity != null);\n  console.assert(uiid != '', 'id cannot be blank');\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](uiid, rect);\n  var x = 0 | rect.x;\n  var w = 0 | rect.w;\n  var range = 0 | max - min;\n  var x_mid = rect.x + rect.w / 2;\n  var y_mid = rect.y + rect.h / 2;\n  var changed = 0 | false;\n  var is_held = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == uiid;\n  var is_hovered = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_hovered == uiid;\n  var is_any_item_held = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held != null;\n\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == uiid) {\n    //changed = 0 | true;\n    _dial_down_x = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x;\n    _dial_down_y = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y;\n    _dial_down_value = value; //console.log('dial down', _dial_down_x, _dial_down_y);\n  }\n\n  if (is_held) {\n    var mouse_total_held_dx = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x - _dial_down_x; // nolive: dial_down_x can be replaced with mouse_went_down_point...\n\n    mouse_total_held_dx = Math.round(mouse_total_held_dx * sensitivity);\n    var mouse_total_held_dy = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y - _dial_down_y; // nolive: dial_down_y can be replaced with mouse_went_down_point...\n\n    mouse_total_held_dy = Math.round(mouse_total_held_dy * sensitivity);\n    var manhattan_distance = mouse_total_held_dx - mouse_total_held_dy; // y inverted\n\n    var new_value = _dial_down_value + manhattan_distance;\n    new_value = Math.round(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"](new_value, min, max));\n\n    if (new_value != value) {\n      changed = 0 | true;\n      value = new_value;\n    }\n  }\n\n  var draw_state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"calc_drawstate\"](uiid);\n  draw_dial(rect, draw_state, min, max, value);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](rect);\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.value = 0 | value;\n  return state;\n}\n\nfunction draw_dial(rect, state, min, max, value) {\n  var range = 0 | max - min;\n  var rel_value = 0 | value - min;\n  var value_percent = rel_value / range;\n  var value_arc_color_css;\n\n  if (state[_Held]) {\n    value_arc_color_css = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"]);\n  } else {\n    value_arc_color_css = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]);\n  }\n\n  var face_color_css;\n\n  if (state[_Hovered] || state[_Held]) {\n    face_color_css = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"raised_accent\"]);\n  } else {\n    face_color_css = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"raised_face\"]);\n  }\n\n  var start_angle = 0.75 * Math.PI;\n  var end_angle = 0.25 * Math.PI;\n  {\n    var scale = rect.w / 96;\n    if (scale < 0.5) scale = 0.5;\n    var arc_linewidth = scale * 10;\n    var arc_circle_shrink = Math.round(arc_linewidth / 2);\n    var arc_radius = Math.round(rect.w / 2 - arc_circle_shrink);\n    if (arc_radius < 1) arc_radius = 1;\n    var face_circle_linewidth = scale * 5;\n    var face_circle_shrink = arc_circle_shrink + Math.round(scale * 5 * 2.5);\n    var face_circle_radius = Math.round(rect.w / 2 - face_circle_shrink);\n    if (face_circle_radius < 1) face_circle_radius = 1;\n    var face_indicator_linewidth = scale * 5;\n    var face_indicator_length = face_circle_radius * 0.70; // back arc\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]));\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](arc_linewidth);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].arc(rect.x + rect.w / 2, rect.y + rect.h / 2, arc_radius, start_angle, end_angle);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].stroke();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // value arc\n\n    var value_end_angle = start_angle + (2 * Math.PI + end_angle - start_angle) * value_percent;\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](value_arc_color_css);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](arc_linewidth);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].arc(rect.x + rect.w / 2, rect.y + rect.h / 2, arc_radius, start_angle, value_end_angle);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].stroke();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // dial face - circle\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](face_color_css);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](face_circle_linewidth);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].arc(rect.x + rect.w / 2, rect.y + rect.h / 2, face_circle_radius, 0, 2 * Math.PI);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].stroke();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"](); // dial face - indicator        \n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](face_color_css);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](face_indicator_linewidth);\n    var indicator_end_point = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"angled_norm_line\"](2 * Math.PI - value_end_angle + 0.5 * Math.PI, face_indicator_length);\n    var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n    var x1 = peek.x + rect.w / 2;\n    var y1 = peek.y + rect.h / 2;\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](x1, y1, x1 + indicator_end_point.x, y1 + indicator_end_point.y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  }\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_dial.js?");

/***/ }),

/***/ "./src/simpleui_app_drop.js":
/*!**********************************!*\
  !*** ./src/simpleui_app_drop.js ***!
  \**********************************/
/*! exports provided: do_app_drop */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_drop\", function() { return do_app_drop; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n/* harmony import */ var _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_app_demo.js */ \"./src/simpleui_app_demo.js\");\n/* harmony import */ var _simpleui_app_colorpick_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./simpleui_app_colorpick.js */ \"./src/simpleui_app_colorpick.js\");\n\n\n\n\n\n\n\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_a\"];\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\n\nvar _image;\n\nvar _data;\n\nvar _offscreen_canvas;\n\nvar _offscreen_context;\n\nvar _grid_w = 64;\nvar _grid_h = 64;\nvar _grid_cell_size = 8;\n\nvar _grid; // []: contains tings that can move between cells\n\n\nvar _grid_state; // []: contains grid cell state, false = go left, true = go right\n\n\nvar _grid_state_bubble; // []: contains grid cell state, false = go left, true = go right\n\n\nvar _preset_index;\n\nvar _preset_names = ['default'];\nvar _preset_count = _preset_names.length;\nvar _step = 0;\nvar _step_interval = 1;\nvar _step_through_enabled = false;\nvar _step_through = false;\nvar _ting_kind_normal = 0;\nvar _ting_kind_anchor = 1;\nvar _ting_kind_bubble = 2; // like normal, but goes up\n\nvar _enable_fall_through = false;\nvar _blend_modes = ['source-over', 'source-in', 'source-out', 'source-atop', 'destination-over', 'destination-in', 'destination-out', 'destination-atop', 'lighter', 'copy', 'xor', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n\nvar _blend_mode;\n\nvar _blend_mode_index;\n\nvar _blend_mode_count = _blend_modes.length;\nset_blend_mode(10);\n\nfunction set_blend_mode(value) {\n  _blend_mode_index = value;\n  _blend_mode = _blend_modes[_blend_mode_index];\n}\n\nvar _fillStyle_alpha;\n\nvar _fillStyle_alpha_slider;\n\nfunction set_fillstyle_alpha(value) {\n  _fillStyle_alpha_slider = value;\n  _fillStyle_alpha = value / 100;\n}\n\nvar _ting_color_normal;\n\nvar _ting_color_anchor;\n\nvar _ting_color_bubble;\n\nvar _ting_color_variance_normal;\n\nvar _ting_color_variance_anchor;\n\nvar _ting_color_variance_bubble;\n\nfunction set_normal_color(value) {\n  _ting_color_normal = value;\n}\n\nfunction set_anchor_color(value) {\n  _ting_color_anchor = value;\n}\n\nfunction set_bubble_color(value) {\n  _ting_color_bubble = value;\n}\n\nfunction get_color_variance(variance) {\n  var r = 0 | randomInt(-variance[0], variance[0]);\n  var g = 0 | randomInt(-variance[1], variance[1]);\n  var b = 0 | randomInt(-variance[2], variance[2]);\n  return [r, g, b];\n}\n\nfunction get_ting_color_css(o) {\n  var color;\n\n  if (o.kind == _ting_kind_normal) {\n    color = get_varied_color(_ting_color_normal, o.color_variance);\n  } else if (o.kind == _ting_kind_anchor) {\n    color = get_varied_color(_ting_color_anchor, o.color_variance);\n  } else if (o.kind == _ting_kind_bubble) {\n    color = get_varied_color(_ting_color_bubble, o.color_variance);\n  }\n\n  return \"rgba(\".concat(color[_r], \", \").concat(color[_g], \", \").concat(color[_b], \", 1)\");\n}\n\nfunction get_varied_color(base, variance) {\n  var r = base[0] + variance[0];\n  r = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(r, 0, 255);\n  var g = base[1] + variance[1];\n  g = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(g, 0, 255);\n  var b = base[2] + variance[2];\n  b = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(b, 0, 255);\n  return [0 | r, 0 | g, 0 | b];\n}\n\nfunction new_ting(kind) {\n  var color_variance;\n\n  if (kind == _ting_kind_normal || kind == _ting_kind_bubble) {\n    //normal: 128 +-64\n    color_variance = get_color_variance(_ting_color_variance_normal);\n  } else if (kind == _ting_kind_anchor) {\n    //anchor:  96 +-32\n    color_variance = get_color_variance(_ting_color_variance_anchor);\n    color_variance[2] = color_variance[0];\n    color_variance[1] = color_variance[0];\n  }\n\n  return {\n    kind: kind,\n    color_variance: color_variance\n  };\n}\n\nfunction init() {\n  set_preset(0);\n  _grid = [];\n  _grid_state = [];\n  _grid_state_bubble = [];\n\n  for (var i = 0; i < _grid_w; i++) {\n    _grid.push([]);\n\n    _grid_state.push([]);\n\n    _grid_state_bubble.push([]);\n\n    for (var j = 0; j < _grid_h; j++) {\n      _grid[i].push(null);\n\n      _grid_state[i].push(randomInt(0, 1)); // left/right toggle\n\n\n      _grid_state_bubble[i].push(randomInt(0, 1)); // left/right toggle\n\n    }\n  }\n\n  random_kind(_ting_kind_anchor);\n  random_kind(_ting_kind_normal);\n  random_kind(_ting_kind_bubble);\n  random_kind(_ting_kind_normal);\n  random_kind(_ting_kind_bubble);\n  random_kind(_ting_kind_anchor);\n  random_kind(_ting_kind_normal); //random_kind(_ting_kind_bubble);\n}\n\nfunction init_old() {\n  set_preset(0);\n  _grid = [];\n  _grid_state = [];\n\n  for (var i = 0; i < _grid_w; i++) {\n    _grid.push([]);\n\n    _grid_state.push([]);\n\n    for (var j = 0; j < _grid_h; j++) {\n      if (Math.random() < 0.1) {\n        _grid[i].push(new_ting(_ting_kind_normal));\n      } else {\n        _grid[i].push(null);\n      }\n\n      _grid_state[i].push(randomInt(0, 1)); // left/right toggle\n\n    }\n  }\n\n  random_kind(_ting_kind_anchor);\n}\n\ninit();\n\nfunction set_preset(preset_index) {\n  if (preset_index == 0) {\n    set_fillstyle_alpha(50); //_enable_fall_through = false;\n\n    if (true) {\n      _ting_color_variance_normal = [48, 24, 64];\n      set_normal_color([128, 0, 180]);\n      set_bubble_color([100, 150, 240]);\n    } else {}\n\n    _ting_color_variance_anchor = [32, 32, 24];\n    set_anchor_color([96, 96, 96]);\n  }\n}\n\nfunction move_ting(i, j, i2, j2) {\n  console.assert(_grid[i][j] != null);\n  _grid[i2][j2] = _grid[i][j];\n  _grid[i][j] = null;\n}\n\nfunction do_app_drop() {\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n  var row_x0 = 222;\n  var row_y0 = 47;\n  do_drop_panel('drop panel', row_x0, row_y0, true, expanded);\n}\n\nfunction do_drop_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var dim_x = 512;\n  var dim_y = 512;\n  var offscreenCanvasSupported = typeof OffscreenCanvas !== \"undefined\";\n\n  if (_offscreen_canvas == null && offscreenCanvasSupported) {\n    _offscreen_canvas = new OffscreenCanvas(dim_x, dim_y);\n    _offscreen_context = _offscreen_canvas.getContext('2d');\n  }\n\n  if (_image == null) {\n    _image = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createImageData(dim_x, dim_y);\n    _data = _image.data;\n  }\n\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (!offscreenCanvasSupported) {\n    var msg_rect = RectangleP(0, 0, 400, 20);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('OffscreenCanvas not supported by this browser.', msg_rect);\n  } else if (panel.expanded) {\n    var horizontal = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    _step++;\n    var allow_step;\n\n    if (_step_through_enabled) {\n      allow_step = _step_through;\n    } else {\n      allow_step = _step % _step_interval == 0;\n    }\n\n    if (allow_step) {\n      _step_through = false;\n      update_bubbles(); // update cells, from bottom\n\n      for (var i_mod = 0; i_mod < 2; i_mod++) {\n        // run twice per update .... mayb...\n        for (var j = _grid_h - 1; j >= 0; j--) {\n          // j = y\n          for (var i_ = 0; i_ < _grid_w; i_++) {\n            // i = x            \n            var i = void 0; // row alternating trickery\n\n            if (i_ % 2 == i_mod) {\n              //if (i_ % 2 == 0) {\n              // when you process left to right, tings will prefer to fill left edges     \n              i = _grid_w - 1 - i_; //i = i_;\n            } else {\n              // when you process right to left, tings will prefer to fill right edges\n              i = i_;\n            }\n\n            var ting = _grid[i][j]; // duplicated this logic to bubble in next else\n\n            if (ting != null && ting.kind == _ting_kind_normal) {\n              var below_pos = get_below_pos(i, j);\n              var ting_below = _grid[below_pos[0]][below_pos[1]];\n\n              if (ting_below == null) {\n                move_ting(i, j, below_pos[0], below_pos[1]);\n                continue;\n              }\n\n              var left_empty = false;\n              var right_empty = false;\n              var below_left_pos = get_below_left_pos(i, j);\n              var below_right_pos = get_below_right_pos(i, j); //if (i > 0) { // ignoring left edge column                  \n              //if (i >= 0) { // including left edge column\n              // below is the latest logic, it falls through floor and sides\n\n              if (true && _enable_fall_through && i >= 0 || _enable_fall_through == false && i > 0) {\n                var ting_below_left = _grid[below_left_pos[0]][below_left_pos[1]];\n\n                if (ting_below_left == null) {\n                  left_empty = true;\n                }\n              } //if (i < _grid_w - 1) { // ignoring right edge column              \n              //if (i < _grid_w) { // including right edge column\n              // below is the latest logic, it falls through floor and sides\n\n\n              if (true && _enable_fall_through && i < _grid_w || _enable_fall_through == false && i < _grid_w - 1) {\n                var ting_below_right = _grid[below_right_pos[0]][below_right_pos[1]];\n\n                if (ting_below_right == null) {\n                  right_empty = true;\n                }\n              }\n\n              if (left_empty && right_empty) {\n                var grid_state = _grid_state[i][j];\n\n                if (grid_state == 0) {\n                  left_empty = true;\n                  right_empty = false;\n                  _grid_state[i][j] = 1;\n                } else {\n                  left_empty = false;\n                  right_empty = true;\n                  _grid_state[i][j] = 0;\n                }\n              }\n\n              if (left_empty) {\n                move_ting(i, j, below_left_pos[0], below_left_pos[1]);\n                continue;\n              } else if (right_empty) {\n                move_ting(i, j, below_right_pos[0], below_right_pos[1]);\n                continue;\n              }\n            }\n          }\n        } // update cells\n\n      } // z loop\n\n    } // step\n\n\n    var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n    {\n      // add tings on mouse press\n      var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n      if (!state) {\n        state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n          'previous_drag_x': null,\n          'previous_drag_y': null\n        });\n      }\n\n      ; //_ = logic_for_grid(state, uiid, peek.x, peek.y, _grid_w, _grid_h, _grid_cell_size);\n\n      _ = Object(_simpleui_app_colorpick_js__WEBPACK_IMPORTED_MODULE_5__[\"logic_for_grid\"])(state, uiid, peek.x, peek.y, _grid_w, _grid_h, _grid_cell_size);\n      var cell_clicked = _[0];\n      var cell_dragged = _[1];\n      var cell_held = _[2];\n      var cell_clicked_right = _[3];\n      var cell_dragged_right = _[4];\n      var cell_held_right = _[5];\n      var x = _[6];\n      var y = _[7];\n\n      if (cell_held) {\n        _grid[x][y] = new_ting(_ting_kind_normal);\n        state.previous_drag_x = x;\n        state.previous_drag_y = y;\n      }\n\n      if (cell_held_right) {\n        _grid[x][y] = new_ting(_ting_kind_anchor);\n        state.previous_drag_x = x;\n        state.previous_drag_y = y;\n      }\n    } // add tings on mouse press\n    // clear        \n\n    _offscreen_context.fillStyle = 'rgba(0,0,0,' + _fillStyle_alpha + ')';\n\n    _offscreen_context.fillRect(0, 0, _offscreen_canvas.width, _offscreen_canvas.height); // draw cells        \n\n\n    var previous_composite_op = _offscreen_context.globalCompositeOperation;\n    _offscreen_context.globalCompositeOperation = _blend_mode;\n\n    for (var _i = 0; _i < _grid_w; _i++) {\n      for (var _j = 0; _j < _grid_h; _j++) {\n        var _ting = _grid[_i][_j];\n\n        if (_ting != null) {\n          var _x = _i * _grid_cell_size;\n\n          var _y = _j * _grid_cell_size;\n\n          if (false) {} else if (true) {\n            // draw diamonds\n            _offscreen_context.beginPath();\n\n            _offscreen_context.fillStyle = get_ting_color_css(_ting); //_offscreen_context.lineWidth = \"1\";\n            //_offscreen_context.fillStyle = \"green\"; // Green path\n\n            var half = Math.trunc(_grid_cell_size / 2);\n            var more = 4;\n\n            _offscreen_context.moveTo(_x - more, _y + half);\n\n            _offscreen_context.lineTo(_x + half, _y - more);\n\n            _offscreen_context.lineTo(_x + half + half + more, _y + half);\n\n            _offscreen_context.lineTo(_x + half, _y + half + half + more);\n\n            _offscreen_context.fill(); // Draw it\n\n          }\n        }\n      }\n    } // for\n\n\n    _offscreen_context.globalCompositeOperation = previous_composite_op; // back fill\n    //ui.context.fillStyle = 'rgba(0,0,0,1)';\n    //ui.context.fillRect(peek.x, peek.y, _offscreen_canvas.width, _offscreen_canvas.height);        \n    // i like the weird stuff that happens when i don't back fill\n    // draw offscreen to screen\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].drawImage(_offscreen_canvas, horizontal.x, horizontal.y);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](dim_x + 20, dim_y);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('( left & right mouse to place sand & stone )', Rectangle(0, 0, 512, 20));\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    var vertical = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-enable-fallthrough-checkbox', RectangleP(0, 0, 24, 24), _enable_fall_through);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](4, 0);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('cross edges', Rectangle(0, 0, 100, 24));\n\n      if (_.changed) {\n        _enable_fall_through = _.value;\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](300, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-reset-button', 'reset', RectangleP(0, 0, 300, 40));\n\n      if (_.clicked) {\n        init();\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n        {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('sand', RectangleP(0, 0, 100, 24));\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-clear-sand-button', 'clear', RectangleP(0, 0, 100, 24));\n\n          if (_.clicked) {\n            clear_kind(_ting_kind_normal);\n          }\n\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-random-sand-button', 'add more', RectangleP(0, 0, 100, 24));\n\n          if (_.clicked) {\n            random_kind(_ting_kind_normal);\n          }\n        }\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n        _ = Object(_simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_4__[\"do_color\"])(uiid + '-color-normal', _ting_color_normal, '', false);\n        if (_.changed) set_normal_color(_.value); //_ = ui.slider(uiid + '-color-variance-normal', Rectangle(0, 0, 150, 24), 0, 128, _ting_color_variance_normal, '');\n        //if (_.changed) _ting_color_variance_normal = _.value;                \n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n        {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('stone', RectangleP(0, 0, 100, 24));\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-clear-stone-button', 'clear', RectangleP(0, 0, 100, 24));\n\n          if (_.clicked) {\n            clear_kind(_ting_kind_anchor);\n          }\n\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-random-stone-button', 'add more', RectangleP(0, 0, 100, 24));\n\n          if (_.clicked) {\n            random_kind(_ting_kind_anchor);\n          }\n        }\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n        _ = Object(_simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_4__[\"do_color\"])(uiid + '-color-anchor', _ting_color_anchor, '', false);\n        if (_.changed) set_anchor_color(_.value); //_ = ui.slider(uiid + '-color-variance-anchor', Rectangle(0, 0, 150, 24), 0, 128, _ting_color_variance_anchor, '');\n        //if (_.changed) _ting_color_variance_anchor = _.value;    \n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n      {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n        {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('bubble', RectangleP(0, 0, 100, 24));\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-clear-bubble-button', 'clear', RectangleP(0, 0, 100, 24));\n\n          if (_.clicked) {\n            clear_kind(_ting_kind_bubble);\n          }\n\n          _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-random-bubble-button', 'add more', RectangleP(0, 0, 100, 24));\n\n          if (_.clicked) {\n            random_kind(_ting_kind_bubble);\n          }\n        }\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n        _ = Object(_simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_4__[\"do_color\"])(uiid + '-color-bubble', _ting_color_bubble, '', false);\n        if (_.changed) set_bubble_color(_.value);\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // ------------\n\n      if (false) {} // advanced config\n\n      /*ui.label('presets', RectangleP(0, 0, 100, 20));\r\n      ui.layout_push(_vertical, -1);\r\n      ui.group_buttons_begin();\r\n      for(var i = 0; i < _preset_count; i++) {\r\n          const button_text = _preset_names[i];\r\n          const is_active = _preset_index == i;\r\n          _ = ui.checkbutton(uiid + '-flame-mode-button-group-#' + i, button_text, RectangleP(0,0,200,24), is_active);\r\n          if (_.changed && _.value) {\r\n              set_preset(i);\r\n          }\r\n      }\r\n      ui.group_buttons_end();    \r\n      ui.layout_pop();\r\n      */\n\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // vertical\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horizontal\n  } // panel.expanded\n\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n}\n\nfunction update_bubbles() {\n  // update cells, from top\n  for (var i_mod = 0; i_mod < 1; i_mod++) {\n    // run twice per update .... mayb...\n    for (var j = 0; j < _grid_h; j++) {\n      // j = y\n      for (var i_ = 0; i_ < _grid_w; i_++) {\n        // i = x            \n        var i = void 0; // row alternating trickery\n        //if (i_ % 2 == i_mod) {\n\n        if (i_ % 2 == 0) {\n          // when you process left to right, tings will prefer to fill left edges     \n          //i = (_grid_w - 1) - i_;\n          i = i_;\n        } else {\n          // when you process right to left, tings will prefer to fill right edges\n          i = i_;\n        }\n\n        var ting = _grid[i][j];\n\n        if (ting != null && ting.kind == _ting_kind_bubble) {\n          // everything is still named below except get_below_* functions\n          // and grid_w is still used, but grid is square so w/e\n          // and added _grid_state_bubble for this...\n          var below_pos = get_above_pos(i, j);\n          var ting_below = _grid[below_pos[0]][below_pos[1]];\n\n          if (ting_below == null) {\n            move_ting(i, j, below_pos[0], below_pos[1]);\n            continue;\n          }\n\n          var left_empty = false;\n          var right_empty = false;\n          var below_left_pos = get_above_left_pos(i, j);\n          var below_right_pos = get_above_right_pos(i, j); //if (i > 0) { // ignoring left edge column                  \n          //if (i >= 0) { // including left edge column\n          // below is the latest logic, it falls through floor and sides\n\n          if (true && _enable_fall_through && i >= 0 || _enable_fall_through == false && i > 0) {\n            var ting_below_left = _grid[below_left_pos[0]][below_left_pos[1]];\n\n            if (ting_below_left == null) {\n              left_empty = true;\n            }\n          } //if (i < _grid_w - 1) { // ignoring right edge column              \n          //if (i < _grid_w) { // including right edge column\n          // below is the latest logic, it falls through floor and sides\n\n\n          if (true && _enable_fall_through && i < _grid_w || _enable_fall_through == false && i < _grid_w - 1) {\n            var ting_below_right = _grid[below_right_pos[0]][below_right_pos[1]];\n\n            if (ting_below_right == null) {\n              right_empty = true;\n            }\n          }\n\n          if (left_empty && right_empty) {\n            var grid_state = _grid_state_bubble[i][j];\n\n            if (grid_state == 0) {\n              left_empty = true;\n              right_empty = false;\n              _grid_state_bubble[i][j] = 1;\n            } else {\n              left_empty = false;\n              right_empty = true;\n              _grid_state_bubble[i][j] = 0;\n            }\n          }\n\n          if (left_empty) {\n            move_ting(i, j, below_left_pos[0], below_left_pos[1]);\n            continue;\n          } else if (right_empty) {\n            move_ting(i, j, below_right_pos[0], below_right_pos[1]);\n            continue;\n          }\n        }\n      }\n    }\n  } // z loop\n\n}\n\nfunction get_below_pos(i, j) {\n  var new_i = i;\n  var new_j = j + 1;\n\n  if (_enable_fall_through && new_j >= _grid_h) {\n    new_j -= _grid_h;\n  }\n\n  return [new_i, new_j];\n}\n\nfunction get_below_left_pos(i, j) {\n  var new_i = i - 1;\n\n  if (_enable_fall_through && new_i < 0) {\n    new_i += _grid_w;\n  }\n\n  var new_j = j + 1;\n\n  if (_enable_fall_through && new_j >= _grid_h) {\n    new_j -= _grid_h;\n  }\n\n  return [new_i, new_j];\n}\n\nfunction get_below_right_pos(i, j) {\n  var new_i = i + 1;\n\n  if (_enable_fall_through && new_i >= _grid_w) {\n    new_i -= _grid_w;\n  }\n\n  var new_j = j + 1;\n\n  if (_enable_fall_through && new_j >= _grid_h) {\n    new_j -= _grid_h;\n  }\n\n  return [new_i, new_j];\n}\n\nfunction get_above_pos(i, j) {\n  var new_i = i;\n  var new_j = j - 1;\n\n  if (_enable_fall_through && new_j < 0) {\n    new_j += _grid_h;\n  }\n\n  return [new_i, new_j];\n}\n\nfunction get_above_left_pos(i, j) {\n  var new_i = i - 1;\n\n  if (_enable_fall_through && new_i < 0) {\n    new_i += _grid_w;\n  }\n\n  var new_j = j - 1;\n\n  if (_enable_fall_through && new_j < 0) {\n    new_j += _grid_h;\n  }\n\n  return [new_i, new_j];\n}\n\nfunction get_above_right_pos(i, j) {\n  var new_i = i + 1;\n\n  if (_enable_fall_through && new_i >= _grid_w) {\n    new_i -= _grid_w;\n  }\n\n  var new_j = j - 1;\n\n  if (_enable_fall_through && new_j < 0) {\n    new_j += _grid_h;\n  }\n\n  return [new_i, new_j];\n}\n\nfunction clear_kind(kind) {\n  for (var i = 0; i < _grid_w; i++) {\n    for (var j = 0; j < _grid_h; j++) {\n      var ting = _grid[i][j];\n\n      if (ting) {\n        if (ting.kind == kind) {\n          _grid[i][j] = null;\n        }\n      }\n    }\n  }\n}\n\nfunction random_kind(kind) {\n  if (kind == _ting_kind_normal || kind == _ting_kind_bubble) {\n    var count = 200;\n    if (kind == _ting_kind_bubble) count = 100;\n\n    for (var i = 0; i < count; i++) {\n      var x = randomInt(0, _grid_w - 1);\n      var y = randomInt(0, _grid_h - 1);\n      var ting = new_ting(kind);\n      _grid[x][y] = ting;\n    }\n  } else {\n    for (var _i2 = 0; _i2 < 40; _i2++) {\n      var x0 = randomInt(0, _grid_w - 4);\n      var y0 = randomInt(0, _grid_h - 4);\n      var rand_length = randomInt(1, 8);\n      var rand_x = void 0; // prevent vertical walls\n\n      if (Math.random() < 0.5) {\n        rand_x = -1;\n      } else {\n        rand_x = 1;\n      }\n\n      var rand_direction = [rand_x, randomInt(-1, 1)]; // make diagonals longer\n\n      if (rand_direction[0] != 0 && rand_direction[1] != 0) {\n        if (Math.random() < 0.10) {\n          rand_length = rand_length * 5;\n        }\n      }\n\n      for (var j = 0; j < rand_length; j++) {\n        var _x2 = x0 + j * rand_direction[0];\n\n        var _y2 = y0 + j * rand_direction[1];\n\n        if (_x2 < 0 || _x2 >= _grid_w || _y2 < 0 || _y2 >= _grid_h) {\n          break;\n        }\n\n        _grid[_x2][_y2] = new_ting(kind);\n        _grid[_x2][_y2 + 1] = new_ting(kind);\n      }\n    }\n  }\n} // random between a and b\n\n\nfunction randomInt(a, b) {\n  var delta = b - a + 1; // the +1 makes it inclusive\n\n  var rand = Math.floor(Math.random() * delta);\n  return a + rand;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_drop.js?");

/***/ }),

/***/ "./src/simpleui_app_fire.js":
/*!**********************************!*\
  !*** ./src/simpleui_app_fire.js ***!
  \**********************************/
/*! exports provided: do_app_fire */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_fire\", function() { return do_app_fire; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n/* harmony import */ var _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_app_demo.js */ \"./src/simpleui_app_demo.js\");\n\n\n\n\n\n\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_a\"];\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\n\nvar _blob_canvas;\n\nvar _offscreen_canvas;\n\nvar _offscreen_context;\n\nvar _image;\n\nvar _time = 0;\nvar _step = 0;\nvar _step_interval = 4;\nvar _blend_modes = ['source-over', 'source-in', 'source-out', 'source-atop', 'destination-over', 'destination-in', 'destination-out', 'destination-atop', 'lighter', 'copy', 'xor', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\n\nvar _blend_mode;\n\nvar _blend_mode_index = 8;\nvar _blend_mode_count = _blend_modes.length;\nset_blend_mode(_blend_mode_index);\nvar _tings = [];\n\nfor (var i = 0; i < 200; i++) {\n  var o = newTing();\n\n  _tings.push(o);\n}\n\nvar _preset_index; // 0, 1, 2\n\n\nvar _preset_names = ['flame', 'stream', 'under', 'motes'];\nvar _preset_count = _preset_names.length;\nset_preset(0);\n\nfor (var _i = 0; _i < _tings.length; _i++) {\n  var o = _tings[_i];\n  console.assert(o.x >= 0 || o.x <= 0);\n  console.assert(o.y >= 0 || o.y <= 0);\n  console.assert(o.ox >= 0 || o.ox <= 0);\n  console.assert(o.oy >= 0 || o.oy <= 0);\n} // other values set by preset\n\n\nvar _fillStyle_alpha;\n\nvar _fillStyle_alpha_slider;\n\nvar _end_color;\n\nvar _end_color_css;\n\nvar _start_color; //let _start_color_css;\n\n\nfunction set_end_color(value) {\n  _end_color = value;\n  _end_color_css = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])(value);\n}\n\nfunction set_start_color(value) {\n  _start_color = value; //_start_color_css = make_css_color(value);\n}\n\nfunction set_blend_mode(value) {\n  _blend_mode_index = value;\n  _blend_mode = _blend_modes[_blend_mode_index];\n}\n\nfunction set_preset(preset_index) {\n  function set_fillstyle_alpha(value) {\n    _fillStyle_alpha_slider = value;\n    _fillStyle_alpha = value / 100;\n  }\n\n  _preset_index = preset_index;\n\n  if (preset_index == 0) {\n    set_fillstyle_alpha(50);\n    set_start_color([255, 50, 0, 0]);\n    set_end_color([0, 0, 0, 0]);\n\n    for (var _i2 = 0; _i2 < _tings.length; _i2++) {\n      var _o = _tings[_i2];\n      _o.x = randomInt(256 - 50, 256 + 50);\n      _o.y = randomInt(0 - _o.radius, 512 + _o.radius);\n      _o.ox = _o.x;\n      _o.oy = _o.y;\n    }\n  } else if (preset_index == 1) {\n    set_fillstyle_alpha(80);\n    set_start_color([50, 128, 20, 0]);\n    set_end_color([0, 0, 0, 0]);\n\n    for (var _i3 = 0; _i3 < _tings.length; _i3++) {\n      var _o2 = _tings[_i3];\n      _o2.x = randomInt(256 - 50, 256 + 50);\n      _o2.y = randomInt(0 - _o2.radius, 512 + _o2.radius);\n      _o2.ox = _o2.x;\n      _o2.oy = _o2.y;\n    }\n  } else if (preset_index == 2) {\n    set_fillstyle_alpha(35);\n    set_start_color([19, 50, 255, 0]);\n    set_end_color([23, 0, 0, 0]);\n\n    for (var _i4 = 0; _i4 < _tings.length; _i4++) {\n      var _o3 = _tings[_i4];\n      _o3.x = randomInt(256 - 40, 256 + 40);\n      _o3.y = randomInt(0 - _o3.radius, 512 + _o3.radius);\n      _o3.ox = _o3.x;\n      _o3.oy = _o3.y;\n    }\n  } else if (preset_index == 3) {\n    set_fillstyle_alpha(20); //set_start_color([27,34,0,0]);\n    //set_start_color([20,0,180,0]);\n    //set_end_color([0,8,0,0]);        \n\n    set_start_color([20, 50, 0, 0]);\n    set_end_color([0, 0, 35, 0]);\n\n    for (var _i5 = 0; _i5 < _tings.length; _i5++) {\n      var _o4 = _tings[_i5];\n      _o4.mode = randomInt(0, 2); //o.ox = randomInt(0,512);\n      //o.oy = randomInt(0,512);\n\n      _o4.ox = randomInt(_mote_source_x - 256 + 64, _mote_source_x + 256 - 64);\n      _o4.oy = randomInt(_mote_source_y - 512 + 64, _mote_source_y + 64);\n      _o4.x = _o4.ox;\n      _o4.y = _o4.oy;\n    }\n\n    for (var _i6 = 0; _i6 < Math.trunc(_tings.length / 4); _i6++) {\n      var _o5 = _tings[_i6];\n      _o5.mode = randomInt(0, 2);\n      _o5.ox = randomInt(_mote_source_x - _o5.radius, _mote_source_x + _o5.radius);\n      _o5.oy = randomInt(_mote_source_y - _o5.radius, _mote_source_y + _o5.radius);\n      _o5.x = _o5.ox;\n      _o5.y = _o5.oy;\n    }\n  }\n}\n\nvar _mote_source_x = 256;\n\nvar _mote_source_y = 512 - 64;\n\nvar _mote_acceleration_x;\n\nvar _mote_acceleration_y;\n\nvar _mote_acceleration_y_global = -0.05;\n\nvar _mote_acceleration_x_slider;\n\nvar _mote_acceleration_y_slider;\n\nfunction set_mote_acceleration_x(value) {\n  _mote_acceleration_x = value / 100;\n  _mote_acceleration_x_slider = value;\n}\n\nfunction set_mote_acceleration_y(value) {\n  _mote_acceleration_y = value / 100;\n  _mote_acceleration_y_slider = value;\n}\n\nset_mote_acceleration_x(250);\nset_mote_acceleration_y(250);\n\nfunction newTing() {\n  var o = {};\n  o.radius = randomInt(20, 80);\n  o.scale = null;\n  o.alpha = null;\n  o.urate = randomInt(2, 8);\n  o.step = 0;\n  o.mote_circle_mode = randomInt(0, 2);\n  o.mote_circle_period = randomInt(40, 100);\n\n  if (Math.random() < 0.1) {\n    o.mote_circle_period = randomInt(100, 200);\n  }\n\n  o.mote_circle_radius = randomInt(20, 80); // 10 * o.urate;\n\n  o.mote_circle_step = 0;\n  o.mote_circle_stop = randomInt(20, 80);\n  o.mote_movement = [0, 0];\n  o.mote_acceleration = [(Math.random() - 0.5) * 2, (Math.random() - 0.5) * 2];\n  return o;\n}\n\nfunction updateTing_stream(o) {\n  var dx = Math.sin(2 * Math.PI * (o.y / 300));\n  o.x = o.ox + dx * o.urate * 8;\n  o.y -= o.urate / 4;\n  o.scale = 1 - Math.abs(o.x - 256) / 256;\n  o.alpha = Math.min(o.scale + 0.25, 1.0);\n\n  if (o.y < -o.radius * 2) {\n    o.y = 512 + o.radius * 2;\n  }\n}\n\nfunction updateTing_reverse(o) {\n  var dx = Math.sin(2 * Math.PI * (o.y / 300));\n  o.x = o.ox + dx * o.urate * 6;\n  o.y -= o.urate / 4;\n  o.scale = Math.abs(o.x - 256) / 50;\n  o.alpha = Math.min(o.scale + 0.25, 1.0);\n\n  if (o.y < -o.radius * 2) {\n    o.y = 512 + o.radius * 2;\n  }\n}\n\nfunction updateTing_normal(o) {\n  var dx = Math.sin(2 * Math.PI * (o.urate * 40 / 400)) * (1 - o.y / 400);\n  o.x = o.ox + dx * o.urate * 12;\n  o.y -= o.urate / 2;\n\n  if (o.y < 0) {\n    o.y = 512 + o.radius * 2;\n  }\n\n  o.scale = o.y / 512;\n  o.alpha = Math.min(o.scale + 0.25, 1.0);\n}\n\nfunction updateTing_motes(o) {\n  console.assert(o.x >= 0 || o.x <= 0);\n  console.assert(o.ox >= 0 || o.ox <= 0);\n  console.assert(o.y >= 0 || o.y <= 0);\n  console.assert(o.oy >= 0 || o.oy <= 0);\n  console.assert(o.mote_acceleration[0] >= 0 || o.mote_acceleration[0] <= 0);\n  console.assert(o.mote_movement[0] >= 0 || o.mote_movement[0] <= 0);\n  o.step = o.step % 0x7fffffff; // for motes, ox/oy are the real coordinates\n  // x/y is ox/oy plus the spiraling offset\n\n  {\n    // basic physics\n    o.mote_movement[0] = o.mote_movement[0] + o.mote_acceleration[0];\n    o.mote_movement[1] = o.mote_movement[1] + o.mote_acceleration[1];\n    console.assert(o.mote_acceleration[0] >= 0 || o.mote_acceleration[0] <= 0);\n    console.assert(o.mote_movement[0] >= 0 || o.mote_movement[0] <= 0);\n    o.mote_movement[0] = o.mote_movement[0] * 0.95;\n    o.mote_movement[1] = o.mote_movement[1] * 0.95;\n  }\n  o.mote_acceleration[0] = (Math.random() - 0.5) * _mote_acceleration_x;\n  o.mote_acceleration[1] = (Math.random() - 0.5) * _mote_acceleration_y + _mote_acceleration_y_global;\n\n  if (true) {\n    // change direction        \n    o.step++;\n    o.mote_circle_step++;\n\n    if (o.mote_circle_step >= o.mote_circle_stop) {\n      o.mote_circle_step = 0;\n\n      if (o.mote_circle_mode == 0 || o.mote_circle_mode == 1) {\n        if (Math.random() < 0.2) {\n          // move again\n          //o.mote_circle_radius = randomInt(20,80);\n          o.mote_circle_mode = randomInt(0, 1);\n          o.mote_circle_stop = randomInt(40, 80);\n        } else {\n          // stop\n          o.mote_circle_mode = 2;\n          o.mote_circle_stop = randomInt(20, 120);\n        }\n      } else if (o.mote_circle_mode == 2) {\n        if (Math.random() < 0.4) {\n          // stay stopped\n          o.mote_circle_mode = 2;\n          o.mote_circle_stop = randomInt(60, 120);\n        } else {\n          //o.mote_circle_radius = randomInt(o.mote_circle_period, o.mote_circle_period * 2);\n          o.mote_circle_mode = randomInt(0, 1);\n          o.mote_circle_stop = randomInt(10, 50); //o.scale = 1 + o.mote_circle_radius / (o.mote_circle_period * 2);\n        }\n      }\n    }\n  } // step 1: make them go in circles\n\n\n  if (o.mote_circle_mode == 0) {\n    o.ox = o.ox + o.mote_movement[0];\n    console.assert(o.ox >= 0 || o.ox <= 0);\n    o.oy = o.oy + o.mote_movement[1]; //o.x = o.ox;\n    //o.y = o.oy;\n\n    o.dx = Math.sin(2 * Math.PI * (o.step % o.mote_circle_period) / o.mote_circle_period) / 2; // * o.mote_circle_radius;\n\n    console.assert(o.dx >= 0 || o.dx <= 0);\n    o.dy = Math.cos(2 * Math.PI * (o.step % o.mote_circle_period) / o.mote_circle_period) / 2; // * o.mote_circle_radius;    \n\n    o.x = o.ox + o.dx;\n    console.assert(o.x >= 0 || o.x <= 0);\n    o.y = o.oy + o.dy;\n  } else if (o.mote_circle_mode == 1) {\n    console.assert(o.ox >= 0 || o.ox <= 0);\n    console.assert(o.mote_movement[0] >= 0 || o.mote_movement[0] <= 0);\n    o.ox = o.ox + o.mote_movement[0];\n    console.assert(o.ox >= 0 || o.ox <= 0);\n    o.oy = o.oy + o.mote_movement[1]; //o.x = o.ox + Math.cos(2 * Math.PI * o.step/o.mote_circle_period) * o.mote_circle_radius;\n    //o.y = o.oy + Math.sin(2 * Math.PI * o.step/o.mote_circle_period) * o.mote_circle_radius;    \n\n    o.dx = Math.cos(2 * Math.PI * (o.step % o.mote_circle_period) / o.mote_circle_period); // * o.mote_circle_radius;\n\n    console.assert(o.dx >= 0 || o.dx <= 0);\n    o.dy = Math.sin(2 * Math.PI * (o.step % o.mote_circle_period) / o.mote_circle_period); // * o.mote_circle_radius;    \n\n    o.x = o.ox + o.dx;\n    console.assert(o.x >= 0 || o.x <= 0);\n    o.y = o.oy + o.dy;\n  } else if (o.mote_circle_mode == 2) {} //o.ox = o.x; //o.ox + o.mote_movement[0]/100;\n  //o.oy = o.y; //o.oy + o.mote_movement[1]/100;\n  //o.x = o.ox;\n  //o.y = o.oy;\n  //o.x = o.ox + Math.cos(2 * Math.PI * o.step/o.mote_circle_period) * o.mote_circle_radius;\n  //o.y = o.oy + Math.sin(2 * Math.PI * o.step/o.mote_circle_period) * o.mote_circle_radius;    \n\n  /*\r\n  var dx = Math.sin(2 * Math.PI * (o.urate*40/400)) * (1 - o.y/400);\r\n  o.x = o.ox + dx * o.urate * 12;\r\n  //o.y -= o.urate / 2;\r\n  */\n  //if (o.y + o.radius < 0 || o.y - o.radius > 512 || o.x + o.radius < 0 || o.x - o.radius > 512)\n  //if (o.x < -o.radius*2 || o.y < -o.radius*2 || o.x - o.radius*2 > 512 || o.y - o.radius*2 > 512)\n\n\n  if (o.x <= 0 || o.y <= 0 || o.x - o.radius * 2 > 512 || o.y - o.radius * 2 > 512) {\n    o.ox = _mote_source_x; // o.ox;\n\n    o.oy = _mote_source_y; // 512 + o.radius * 2;\n  } //const scale_percent = ( Math.abs(o.mote_movement[0]) + Math.abs(o.mote_movement[1]) ) / 5;\n\n\n  var scale_percent = Math.abs(o.mote_movement[0]) / 20; //o.scale = 0.3 + 0.2 * scale_percent;\n\n  o.scale = (0.42 + 0.2 * scale_percent) * (Math.max(o.y, 0) / 512);\n  o.alpha = 1; // Math.min(o.scale + 0.25, 1.0);\n\n  console.assert(o.x >= 0 || o.x <= 0);\n  console.assert(o.y >= 0 || o.y <= 0);\n  console.assert(o.ox >= 0 || o.ox <= 0);\n  console.assert(o.oy >= 0 || o.oy <= 0);\n}\n\nfunction updateTing(o) {\n  if (_preset_index == 0) {\n    updateTing_normal(o);\n  } else if (_preset_index == 1) {\n    updateTing_stream(o);\n  } else if (_preset_index == 2) {\n    updateTing_reverse(o);\n  } else if (_preset_index == 3) {\n    updateTing_motes(o);\n  } else {\n    throw 'eep';\n  }\n}\n\nfunction do_app_fire() {\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n  var row_x0 = 222;\n  var row_y0 = 47;\n  do_fire_panel('fire panel', row_x0, row_y0, true, expanded);\n}\n\nfunction do_fire_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var dim_x = 512;\n  var dim_y = 512;\n  var offscreenCanvasSupported = typeof OffscreenCanvas !== \"undefined\";\n\n  if (_offscreen_canvas == null && offscreenCanvasSupported) {\n    _offscreen_canvas = new OffscreenCanvas(dim_x, dim_y);\n    _offscreen_context = _offscreen_canvas.getContext('2d');\n  }\n\n  if (_image == null) {\n    _image = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createImageData(dim_x, dim_y);\n  }\n\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (!offscreenCanvasSupported) {\n    var msg_rect = RectangleP(0, 0, 400, 20);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('OffscreenCanvas not supported by this browser.', msg_rect);\n  } else if (panel.expanded) {\n    var horizontal = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n\n    if (true) {\n      //  || _step % _step_interval == 0) { // perf: update every x-th frame\n      _offscreen_context.fillStyle = 'rgba(0,0,0,' + _fillStyle_alpha + ')';\n\n      _offscreen_context.fillRect(0, 0, _offscreen_canvas.width, _offscreen_canvas.height);\n\n      var previous_composite_op = _offscreen_context.globalCompositeOperation;\n      _offscreen_context.globalCompositeOperation = _blend_mode;\n\n      for (var _i7 = 0; _i7 < _tings.length; _i7++) {\n        var ting = _tings[_i7];\n        updateTing(ting); //_offscreen_context.drawImage(_blob_canvas, ting.x, ting.y, ting.radius*2, ting.radius*2);\n\n        var grad_x1 = ting.x; // Math.max(ting.x, 0)\n\n        var grad_y1 = ting.y; // Math.max(ting.y, 0)\n\n        var grad_x2 = ting.x; // Math.max(ting.x, 0)\n\n        var grad_y2 = ting.y; // Math.max(ting.y, 0);\n        // wish: push transforms and use global gradient? does that work?\n\n        var gradient = _offscreen_context.createRadialGradient(grad_x1, grad_y1, 0, grad_x2, grad_y2, ting.radius * ting.scale);\n\n        gradient.addColorStop(0, 'rgba(' + _start_color[0] + ',' + _start_color[1] + ',' + _start_color[2] + ',' + ting.alpha + ')');\n        gradient.addColorStop(1, _end_color_css);\n\n        _offscreen_context.beginPath();\n\n        _offscreen_context.arc(ting.x, ting.y, ting.radius * ting.scale, 0, 2 * Math.PI); //_offscreen_context.arc(ting.x, ting.y, ting.radius, 0, 2 * Math.PI);\n\n\n        _offscreen_context.fillStyle = gradient;\n\n        _offscreen_context.fill();\n      }\n\n      _offscreen_context.globalCompositeOperation = previous_composite_op;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].drawImage(_offscreen_canvas, horizontal.x, horizontal.y);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](dim_x + 20, dim_y);\n    var vertical = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    /*ui.layout_push(_horizontal);\r\n    {\r\n        ui.label('blend mode', RectangleP(0, 0, 100, 20));\r\n        _ = ui.slider(uiid + '-blend-mode-slider', RectangleP(0, 0, 200, 20), 0, _blend_mode_count, _blend_mode_index, '');\r\n        if (_.changed) {\r\n            set_blend_mode(_.value);\r\n        }                        \r\n    }\r\n    ui.layout_pop();\r\n    ui.label(_blend_modes[_blend_mode_index] + ' (' + _blend_mode_index +')', RectangleP(0, 0, 100, 20));*/\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('presets', RectangleP(0, 0, 100, 20));\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, -1);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_begin\"]();\n\n      for (var i = 0; i < _preset_count; i++) {\n        var button_text = _preset_names[i];\n        var is_active = _preset_index == i;\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-flame-mode-button-group-#' + i, button_text, RectangleP(0, 0, 200, 24), is_active);\n\n        if (_.changed && _.value) {\n          set_preset(i);\n        }\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"group_buttons_end\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('fillStyle alpha', RectangleP(0, 0, 200, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-fillstyle-alpha-slider', RectangleP(0, 0, 200, 24), 0, 100, _fillStyle_alpha_slider, '');\n\n      if (_.changed) {\n        _fillStyle_alpha_slider = _.value;\n        _fillStyle_alpha = _.value / 100;\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _ = Object(_simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_4__[\"do_color\"])(uiid + '-start-color', _start_color, 'start color', false);\n\n      if (_.changed) {\n        set_start_color(_.value);\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _ = Object(_simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_4__[\"do_color\"])(uiid + '-end-color', _end_color, 'end color', false);\n\n      if (_.changed) {\n        set_end_color(_.value);\n      }\n\n      if (_preset_index == 3) {\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('mote acceleration', RectangleP(0, 0, 200, 20));\n        /*_ = ui.slider(uiid + '-mote-acceleration-x-slider', RectangleP(0, 0, 200, 20), 0, 1000, _mote_acceleration_x_slider, 'x');\r\n        if (_.changed) {\r\n            set_mote_acceleration_x(_.value);\r\n        }\r\n        \r\n        _ = ui.slider(uiid + '-mote-acceleration-y-slider', RectangleP(0, 0, 200, 20), 0, 1000, _mote_acceleration_y_slider, 'y');\r\n        if (_.changed) {\r\n            set_mote_acceleration_y(_.value);\r\n        }*/\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-mote-acceleration-slider', RectangleP(0, 0, 200, 24), 0, 1000, _mote_acceleration_x_slider, '');\n\n        if (_.changed) {\n          set_mote_acceleration_x(_.value);\n          set_mote_acceleration_y(_.value);\n        }\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // vertical\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horizontal\n  } // panel.expanded\n\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n} // random between a and b\n\n\nfunction randomInt(a, b) {\n  var delta = b - a + 1; // the +1 makes it inclusive\n\n  var rand = Math.floor(Math.random() * delta);\n  return a + rand;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_fire.js?");

/***/ }),

/***/ "./src/simpleui_app_hordewave.js":
/*!***************************************!*\
  !*** ./src/simpleui_app_hordewave.js ***!
  \***************************************/
/*! exports provided: do_app_hordewave, Map, Game, Entity, randomInt, get_cell_for_position, set_entity_position, add_entity, cell_to_world_xy, world_to_screen_xy, get_cell2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_hordewave\", function() { return do_app_hordewave; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Map\", function() { return Map; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Game\", function() { return Game; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Entity\", function() { return Entity; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"randomInt\", function() { return randomInt; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get_cell_for_position\", function() { return get_cell_for_position; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"set_entity_position\", function() { return set_entity_position; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"add_entity\", function() { return add_entity; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cell_to_world_xy\", function() { return cell_to_world_xy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"world_to_screen_xy\", function() { return world_to_screen_xy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get_cell2\", function() { return get_cell2; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n/* harmony import */ var _hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./hordewave_tiles.js */ \"./src/hordewave_tiles.js\");\n/* harmony import */ var _hordewave_gen_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./hordewave_gen.js */ \"./src/hordewave_gen.js\");\n/* harmony import */ var _hordewave_linewalk_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./hordewave_linewalk.js */ \"./src/hordewave_linewalk.js\");\n/* harmony import */ var _simpleui_ex_tabbed_pane_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./simpleui_ex_tabbed_pane.js */ \"./src/simpleui_ex_tabbed_pane.js\");\n\n\n\n\n\n\n\n\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"]; // nolive: these stay attached when app is not active... not a massive problem, but it is something to think about\n//         maybe...\n\ndocument.addEventListener('keydown', on_key_down);\ndocument.addEventListener('keyup', on_key_up);\ndocument.addEventListener('mousedown', on_mouse_down);\ndocument.addEventListener('mouseup', on_mouse_up);\nvar Player; // shortcut to player entity\n\nvar Entities = [];\nvar Bullets = [];\nvar ParticleSystems = [];\nvar Game = {\n  dt: 0,\n  // 'buttons' are both keys and mouse buttons    \n  button_events: [],\n  // resets before interval\n  buttons_down: {},\n  buttons_went_down: [],\n  // resets before frame, using list because it should be very small, to avoid object garbage\n  buttons_went_up: [],\n  // ^\n  mouse_world_xy: null,\n  game_x: null,\n  game_y: null,\n  mouse_on_game: null,\n  paused: false,\n  bypass_pause_count: 0,\n  // bypass pause for this many frames\n  canvas: null,\n  // main drawing canvas, added for pause support\n  context: null,\n  // main drawing canvas context,\n  entity_canvas: null,\n  // a canvas for doing complex entity draws with blendmodes\n  entity_context: null\n};\nvar Config = {\n  player: {\n    speed: 3,\n    // 2\n    attack_cooldown: 3,\n    // 20,\n    weapon: {\n      bullet_speed: 8,\n      // 6            \n      bullet_health: 3,\n      bullet_damage: 1\n    },\n    light_size: 100 // 100\n\n  },\n  flags: {\n    clip_game_window: true,\n    draw_bullet_debug: false,\n    draw_bullet_debug2: false,\n    draw_entities_debug: false,\n    draw_player_debug: false,\n    update_enemy: true\n  }\n};\nvar SidePanel = {\n  active_tab: 0\n};\nvar Camera = {\n  view_width: 640,\n  view_height: 480,\n  view_width_in_cells: 40,\n  view_height_in_cells: 30,\n  position: [0, 0]\n};\nvar Map = {\n  width: 3200,\n  height: 3200,\n  cell_size: 32,\n  cell_grid: [],\n  width_in_cells: 100,\n  height_in_cells: 100\n};\nvar Direction = {\n  Up: 0,\n  UpRight: 1,\n  Right: 2,\n  DownRight: 3,\n  Down: 4,\n  DownLeft: 5,\n  Left: 6,\n  UpLeft: 7\n};\nvar DirectionByBitfield = [null, // 0000\nDirection.Left, // 0001\nDirection.Right, // 0010\nnull, // 0011 \nDirection.Up, // 0100\nDirection.UpLeft, // 0101\nDirection.UpRight, // 0110\nnull, // 0111\nDirection.Down, // 1000\nDirection.DownLeft, // 1001\nDirection.DownRight];\nvar DirectionOffset = [[0, -1], // Up\n[1, -1], // UpRight\n[1, 0], // Right\n[1, 1], // DownRight\n[0, 1], // Down\n[-1, 1], // DownLeft\n[-1, 0], // Left\n[-1, -1]];\nvar Directions180 = [[Direction.Up, Direction.UpLeft, Direction.UpRight, Direction.Left, Direction.Right], [Direction.UpRight, Direction.Right, Direction.Up, Direction.UpLeft, Direction.DownRight], [Direction.Right, Direction.UpRight, Direction.DownRight, Direction.Up, Direction.Down], [Direction.DownRight, Direction.Right, Direction.Down, Direction.DownLeft, Direction.UpRight], [Direction.Down, Direction.DownLeft, Direction.DownRight, Direction.Left, Direction.Right], [Direction.DownLeft, Direction.Left, Direction.Down, Direction.UpLeft, Direction.DownRight], [Direction.Left, Direction.UpLeft, Direction.DownLeft, Direction.Up, Direction.Down], [Direction.UpLeft, Direction.Left, Direction.Up, Direction.UpRight, Direction.DownLeft]];\nvar Directions90 = [[Direction.Up], [Direction.UpRight, Direction.Right, Direction.Up], [Direction.Right], [Direction.DownRight, Direction.Right, Direction.Down], [Direction.Down], [Direction.DownLeft, Direction.Left, Direction.Down], [Direction.Left], [Direction.UpLeft, Direction.Left, Direction.Up]];\n\nfunction Cell(xy, i) {\n  console.assert(xy[0] + xy[1] * Map.width_in_cells == i);\n  return {\n    entity: null,\n    passives: [],\n    // passive entities\n    floor: null,\n    xy: xy,\n    i: i\n  };\n}\n\nfunction Entity(kind, i) {\n  return {\n    i: i,\n    active: true,\n    position: [0, 0],\n    size: Map.cell_size,\n    speed: 1,\n    kind: kind,\n    sub_kind: null,\n    cell: null,\n    direction: randomInt(0, 7),\n    debug_color: null,\n    anim_kind: null,\n    anim_frame: null,\n    anim_cooldown: null,\n    hit_anim: false,\n    is_moving: false,\n    health: 1,\n    health_max: 1,\n    angle: 0,\n    attack_state: 'idle',\n    // idle, windup, attack\n    attack_windup: 30,\n    attack_windup_default: 30,\n    attack_cooldown: 120,\n    attack_cooldown_default: 120,\n    attack_damage: 1,\n    tint_cooldown: 0\n  };\n}\n\nfunction Bullet(start_xy, direction, speed, health, damage, angle) {\n  return {\n    start_xy: start_xy,\n    position: [start_xy[0], start_xy[1]],\n    position_prev: [start_xy[0], start_xy[1]],\n    direction: direction,\n    speed: speed,\n    i: null,\n    active: true,\n    pending_deactivation: false,\n    collisions: [],\n    // resets before interval\n    health: health,\n    health_max: health,\n    damage: damage,\n    angle: angle\n  };\n}\n\nfunction init() {\n  Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"hordewave_tiles_init\"])();\n\n  for (var y = 0; y < Map.height_in_cells; y++) {\n    for (var x = 0; x < Map.width_in_cells; x++) {\n      var cell = Cell([x, y], Map.cell_grid.length);\n      Map.cell_grid.push(cell);\n    }\n  }\n\n  _hordewave_gen_js__WEBPACK_IMPORTED_MODULE_5__[\"generate\"]();\n  _hordewave_gen_js__WEBPACK_IMPORTED_MODULE_5__[\"generate2\"]();\n  var player_world_xy = [Map.width / 2 + Map.cell_size / 2, Map.height / 2 + Map.cell_size / 2];\n  var player_cell_xy = world_to_cell_xy(player_world_xy);\n  var player_cell = get_cell(player_cell_xy);\n\n  if (player_cell.entity) {\n    deactivate_entity(player_cell.entity);\n  }\n\n  var player = Entity('player');\n  player.health = 10;\n  player.health_max = 10;\n  player.sub_kind = 'elf_m';\n  player.speed = Config.player.speed;\n  player.position = [player_world_xy[0], player_world_xy[1]];\n  player.attack_cooldown = 0;\n  player_cell.entity = player;\n  player.cell = player_cell;\n  player.anim_kind = 'idle';\n  player.anim_frame = 0;\n  player.anim_cooldown = 30;\n  Player = player;\n}\n\ninit();\n\nfunction distance(x1, y1, x2, y2) {\n  var dx = x2 - x1;\n  var dy = y2 - y1;\n  var c = dx * dx + dy * dy;\n  return Math.sqrt(c);\n}\n\nfunction do_app_hordewave() {\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n  var row_x0 = 222;\n  var row_y0 = 47;\n  do_hordewave_panel('engine test v00', row_x0, row_y0, true, expanded);\n}\n\nfunction do_hordewave_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.expanded) {\n    var horizontal = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n    var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n    do_hordewave(peek.x, peek.y);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](Camera.view_width + 20, Camera.view_height + 20);\n    var vertical = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n    do_sidepanel(uiid + '-sidepanel');\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // vertical\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horizontal\n  } // panel.expanded\n\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n}\n\nfunction do_hordewave(game_x, game_y) {\n  if (Game.context == null) {\n    // we're gonna make the canvas as large as the simpleui canvas\n    // this is so i can see stuff drawn way off the game screen and fix it    \n    Game.canvas = document.createElement('canvas');\n    Game.canvas.width = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"canvas\"].width;\n    Game.canvas.height = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"canvas\"].height;\n    Game.context = Game.canvas.getContext('2d');\n    Game.context.imageSmoothingEnabled = false;\n  }\n\n  if (Game.entity_context == null) {\n    Game.entity_canvas = document.createElement('canvas');\n    Game.entity_canvas.width = Map.cell_size * 4; // oversized, draw centered\n\n    Game.entity_canvas.height = Map.cell_size * 4;\n    Game.entity_context = Game.entity_canvas.getContext('2d');\n    Game.entity_context.imageSmoothingEnabled = false;\n  }\n\n  var allow_game_step = Game.paused == false || Game.bypass_pause_count > 0;\n\n  if (allow_game_step) {\n    Game.dt = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].dt;\n    var max_dt = 33;\n    Game.dt = Math.min(Game.dt, max_dt);\n\n    if (Game.bypass_pause_count > 0) {\n      console.log('[ bypassing pause ]', Game.bypass_pause_count);\n      Game.bypass_pause_count--;\n    } // input\n\n\n    Game.game_x = game_x;\n    Game.game_y = game_y;\n\n    if (is_mouse_on_game()) {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].auto_cursor = false;\n      document.body.style.cursor = 'crosshair';\n      Game.mouse_world_xy = screen_to_world_xy([_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y]);\n      Game.mouse_on_game = true;\n    } else {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].auto_cursor = true;\n      Game.mouse_world_xy = null;\n      Game.mouse_on_game = false;\n    }\n\n    process_button_events();\n    handle_pause_buttons();\n    Game.context.fillStyle = 'rgba(0,0,0,255)';\n    Game.context.fillRect(0, 0, Game.canvas.width, Game.canvas.height);\n    Game.context.translate(game_x, game_y);\n    update_player();\n    update_entities();\n    update_bullets();\n    update_particle_systems();\n    var top_left_world_xy = get_top_left_world_xy();\n    Camera.position[0] = top_left_world_xy[0];\n    Camera.position[1] = top_left_world_xy[1];\n    draw_background();\n    draw_entities_debug();\n    draw_entities(); // player drawn here\n\n    draw_particle_systems();\n    draw_bullets();\n    draw_player_debug();\n    draw_foreground();\n    draw_hud();\n    cleanup_bullets();\n    cleanup_particle_systems();\n    Game.context.translate(-game_x, -game_y);\n  } else {\n    // game is paused...\n    // don't do any updates, just draw last frame (after all this)\n    process_button_events();\n    handle_pause_buttons();\n  } // blit canvas... this is the only ui.context call\n\n\n  if (Config.flags.clip_game_window) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_clip\"](RectangleP(Game.game_x, Game.game_y, Camera.view_width, Camera.view_height));\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].drawImage(Game.canvas, 0, 0);\n\n  if (!allow_game_step) {\n    var text = '------  [ paused ]  ------';\n    var text_width = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"get_text_width\"](text);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](text, Game.game_x + Math.floor(Camera.view_width / 2 - text_width / 2), Game.game_y + Camera.view_height - 40, [255, 255, 255, 1]);\n  }\n\n  if (Config.flags.clip_game_window) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"end_clip\"]();\n  }\n}\n\nfunction do_sidepanel(uiid) {\n  var _;\n\n  var rect = RectangleP(0, 0, 200, 20);\n  _ = Object(_simpleui_ex_tabbed_pane_js__WEBPACK_IMPORTED_MODULE_7__[\"do_tabbed_pane_begin\"])(uiid + '-tabbed-pane', rect, ['main'], SidePanel.active_tab);\n\n  if (_.changed) {\n    SidePanel.active_tab = _.value;\n  }\n\n  var padding_x = 20;\n  var padding_y = padding_x;\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](padding_x, 0);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, padding_y);\n\n  if (SidePanel.active_tab == 0) {\n    do_sidepanel_tab_main(uiid + '-tab-main');\n  } else if (SidePanel.active_tab == 1) {\n    do_sidepanel_tab_particles(uiid + '-tab-general');\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, padding_y);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](padding_x, 0);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  Object(_simpleui_ex_tabbed_pane_js__WEBPACK_IMPORTED_MODULE_7__[\"do_tabbed_pane_end\"])();\n}\n\nfunction do_sidepanel_tab_main(uiid) {\n  var _;\n  /*ui.layout_increment2(0, 4);\r\n  ui.hline(300, 1, uidraw.normal_face);\r\n  ui.layout_increment2(0, 4);*/\n\n\n  var flag_checkbuttons = Object.keys(Config.flags).sort();\n\n  for (var i = 0; i < flag_checkbuttons.length; i++) {\n    var key = flag_checkbuttons[i];\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-checkbox-' + key, RectangleP(0, 0, 20, 20), Config.flags[key]);\n\n    if (_.changed) {\n      Config.flags[key] = _.value;\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](4, 0);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](key, RectangleP(0, 0, 200, 20));\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](300, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-game-paused-checkbox', RectangleP(0, 0, 24, 24), Game.paused);\n\n  if (_.changed) {\n    Game.paused = _.value;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](4, 0);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](\"pause 'p'\", Rectangle(0, 0, 200, 24));\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-game-step-through-1x-button', \"bypass pause once '['\", RectangleP(0, 0, 200, 20));\n\n  if (_.changed) {\n    Game.bypass_pause_count++;\n  }\n\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-game-step-through-10x-button', \"bypass pause 10x ']'\", RectangleP(0, 0, 200, 20));\n\n  if (_.changed) {\n    Game.bypass_pause_count += 10;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](300, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('player.weapon.bullet_speed', RectangleP(0, 0, 200, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-weapon-bullet-speed-slider', RectangleP(0, 0, 200, 20), 1, 100, Config.player.weapon.bullet_speed, '');\n\n  if (_.changed) {\n    Config.player.weapon.bullet_speed = _.value;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('player.weapon.bullet_health', RectangleP(0, 0, 200, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-weapon-bullet-health-slider', RectangleP(0, 0, 200, 20), 1, 10, Config.player.weapon.bullet_health, '');\n\n  if (_.changed) {\n    Config.player.weapon.bullet_health = _.value;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('player.weapon.bullet_damage', RectangleP(0, 0, 200, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-weapon-bullet-damage-slider', RectangleP(0, 0, 200, 20), 1, 10, Config.player.weapon.bullet_damage, '');\n\n  if (_.changed) {\n    Config.player.weapon.bullet_damage = _.value;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('player.attack_cooldown', RectangleP(0, 0, 200, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-player-attack-cooldown-slider', RectangleP(0, 0, 200, 20), 1, 90, Config.player.attack_cooldown, '');\n\n  if (_.changed) {\n    Config.player.attack_cooldown = _.value;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('player.speed', RectangleP(0, 0, 200, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-player-speed-cooldown-slider', RectangleP(0, 0, 200, 20), 5, 30, Config.player.speed * 5, '');\n\n  if (_.changed) {\n    Config.player.speed = _.value / 5;\n    Player.speed = Config.player.speed;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('player.light_size', RectangleP(0, 0, 200, 20));\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-player-light_size-slider', RectangleP(0, 0, 200, 20), 0, 400, Config.player.light_size, '');\n\n  if (_.changed) {\n    Config.player.light_size = _.value;\n  }\n  /*_ = do_blendmode_slider(uiid + 'blend-mode-player-hit-slider', _blend_mode_player_hit);\r\n  if (_.changed) {\r\n      _blend_mode_player_hit = _.value;\r\n  }\r\n    _ = do_blendmode_slider(uiid + 'blend-mode-player-hit2-slider', _blend_mode_player_hit2);\r\n  if (_.changed) {\r\n      _blend_mode_player_hit2 = _.value;\r\n  }\r\n    _ = do_blendmode_slider(uiid + 'blend-mode-player-hit3-slider', _blend_mode_player_hit3);\r\n  if (_.changed) {\r\n      _blend_mode_player_hit3 = _.value;\r\n  }\r\n    _ = do_blendmode_slider(uiid + 'blend-mode-player-hit4-slider', _blend_mode_player_hit4);\r\n  if (_.changed) {\r\n      _blend_mode_player_hit4 = _.value;\r\n  }\r\n    _ = ui.slider(uiid + 'player-hit-alpha1-slider', RectangleP(0, 0, 200, 20), 0, 100, Math.round(_player_hit_alpha1 * 100), '');\r\n  if (_.changed) {\r\n      _player_hit_alpha1 = _.value / 100;\r\n  }\r\n    _ = ui.slider(uiid + 'player-hit-alpha2-slider', RectangleP(0, 0, 200, 20), 0, 100, Math.round(_player_hit_alpha2 * 100), '');\r\n  if (_.changed) {\r\n      _player_hit_alpha2 = _.value / 100;\r\n  }\r\n    _ = ui.slider(uiid + 'player-hit-alpha3-slider', RectangleP(0, 0, 200, 20), 0, 100, Math.round(_player_hit_alpha3 * 100), '');\r\n  if (_.changed) {\r\n      _player_hit_alpha3 = _.value / 100;\r\n  }*/\n\n}\n\nfunction do_sidepanel_tab_particles(uiid) {\n  var _;\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"](); // container\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n\n  if (false) { var new_clip; }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_vertical\"](); // body\n\n  var scroll_uiid = uiid + '-scroll-particle-systems';\n  var scroll = do_scroll_begin(scroll_uiid, RectangleP(0, 0, 150, 400), 20, ParticleSystems.length);\n\n  for (var i = scroll.first_visible_index; i < scroll.last_visible_index; i++) {\n    var o = ParticleSystems[i];\n    do_scroll_item_begin(scroll_uiid, i);\n\n    var _2 = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](scroll_uiid + '-button-' + i, i + '', RectangleP(0, 0, 150, 20));\n\n    if (_2.clicked) {//\n    }\n\n    do_scroll_item_end(scroll_uiid);\n  }\n\n  do_scroll_end(scroll_uiid); //ui.layout_increment2(0, 400);\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // body\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // container\n}\n\nfunction world_to_cell_xy(world_xy) {\n  //console.assert(world_xy[0] >= 0);\n  //console.assert(world_xy[1] >= 0);\n  //console.assert(world_xy[0] < Map.width);\n  //console.assert(world_xy[1] < Map.height);\n  return [Math.floor(world_xy[0] / Map.cell_size), Math.floor(world_xy[1] / Map.cell_size)];\n}\n\nfunction cell_to_world_xy(cell_xy) {\n  return [cell_xy[0] * Map.cell_size, cell_xy[1] * Map.cell_size];\n}\n\nfunction world_to_screen_xy(world_xy) {\n  return [0 | world_xy[0] - Camera.position[0], 0 | world_xy[1] - Camera.position[1]];\n}\n\nfunction screen_to_world_xy(screen_xy) {\n  var dx = screen_xy[0] - Game.game_x;\n  var dy = screen_xy[1] - Game.game_y;\n  return [0 | Camera.position[0] + dx, 0 | Camera.position[1] + dy];\n}\n\nfunction get_cell(cell_xy, arg2) {\n  console.assert(arg2 == null);\n  var cell_x = 0 | cell_xy[0];\n  var cell_y = 0 | cell_xy[1];\n  return get_cell2(cell_x, cell_y);\n}\n\nfunction get_cell2(cell_x, cell_y) {\n  console.assert(cell_y != null);\n\n  if (cell_x >= 0 && cell_y >= 0 && cell_x < Map.width_in_cells && cell_y < Map.height_in_cells) {\n    return Map.cell_grid[cell_x + cell_y * Map.width_in_cells];\n  } else {\n    return null;\n  }\n}\n\nfunction deactivate_entity(entity) {\n  entity.active = false;\n  entity.cell.entity = null;\n  entity.cell = null;\n}\n\nfunction deactivate_passive_entity(entity) {\n  entity.active = false;\n  var index = entity.cell.passives.indexOf(entity);\n\n  if (index >= 0) {\n    entity.cell.passives.splice(index, 1);\n  }\n}\n\nfunction add_entity(o) {\n  console.assert(o.position[0] >= 0 || o.position[0] < 0);\n  console.assert(o.position[1] >= 0 || o.position[1] < 0);\n  var j = null; // find empty slot\n\n  for (var i = 0; i < Entities.length; i++) {\n    var el = Entities[i];\n\n    if (el == null || el.active == false) {\n      j = i;\n      break;\n    }\n  }\n\n  if (j == null) {\n    // no slot, add one\n    o.i = Entities.length;\n    Entities.push(o);\n  } else {\n    o.i = j;\n    Entities[j] = o;\n  }\n\n  console.assert(o.position[0] >= 0 || o.position[0] < 0);\n  console.assert(o.position[1] >= 0 || o.position[1] < 0);\n  Entities.push(o);\n}\n\nfunction randomInt(a, b) {\n  var delta = b - a;\n  var rand = Math.floor(Math.random() * delta);\n  return a + rand;\n}\n\nfunction update_entities() {\n  for (var i = 0; i < Entities.length; i++) {\n    var entity = Entities[i];\n    var o = Entities[i];\n    if (!entity.active) continue;\n\n    if (entity.health <= 0) {\n      entity.pending_death = true;\n      add_entity_death(entity);\n      deactivate_entity(entity);\n    }\n\n    entity.tint_cooldown -= 1 * 16 / Game.dt;\n\n    if (entity.kind == 'enemy') {\n      update_enemy(entity);\n    }\n\n    if (entity.kind == 'death') {\n      o.angle += 0.3;\n      o.size -= 0.5;\n\n      if (o.size <= 0) {\n        deactivate_passive_entity(entity);\n      }\n    }\n  } // loop cells adjacent to player, entities in them may attack\n\n\n  var start_cell_x = Player.cell.xy[0] - 1;\n  var end_cell_x = Player.cell.xy[0] + 1;\n  var start_cell_y = Player.cell.xy[1] - 1;\n  var end_cell_y = Player.cell.xy[1] + 1;\n\n  for (var y = start_cell_y; y <= end_cell_y; y++) {\n    for (var x = start_cell_x; x <= end_cell_x; x++) {\n      var cell = get_cell2(x, y);\n\n      if (cell && cell.entity && cell.entity != Player) {\n        var _entity = cell.entity;\n        var can_windup = _entity.attack_state == 'idle';\n\n        if (can_windup) {\n          _entity.attack_state = 'windup';\n          _entity.attack_windup = _entity.attack_windup_default;\n        }\n\n        var can_attack = _entity.attack_state == 'windup' && _entity.attack_windup <= 0;\n\n        if (can_attack) {\n          _entity.attack_state = 'attack';\n          _entity.attack_cooldown = _entity.attack_cooldown_default;\n          Player.health -= _entity.attack_damage;\n          Player.hit_anim = true;\n          console.log('player attacked', Player.health);\n          var p_sys = ParticleSystem([0, 0], Player);\n          add_particle_system(p_sys);\n          emit_particles(p_sys, 20);\n        }\n\n        var can_idle = _entity.attack_state == 'attack' && _entity.attack_cooldown <= 0;\n\n        if (can_idle) {\n          _entity.attack_state = 'idle';\n        }\n      }\n    }\n  }\n}\n\nfunction update_enemy(entity) {\n  if (!entity.active) return;\n  if (!Config.flags.update_enemy) return;\n\n  var _;\n\n  console.assert(entity.position != null);\n  console.assert(entity.position[0] != null);\n  console.assert(entity.position[1] != null); //// movement ////\n\n  var direction_to_player = get_direction(entity.position, Player.position);\n  console.assert(direction_to_player != null);\n  var directions_180 = Directions180[direction_to_player]; // loop directions 180, if can move, then do so and break\n\n  for (var i = 0; i < directions_180.length; i++) {\n    var direction = directions_180[i];\n    var direction_vector = DirectionOffset[direction];\n    var move_result = try_move_entity(entity, direction_vector);\n\n    if (move_result[0]) {\n      entity.direction = direction;\n      break;\n    }\n  } //// attack ////\n\n\n  if (entity.attack_cooldown > 0) entity.attack_cooldown -= 1 * 16 / Game.dt;\n  if (entity.attack_windup > 0) entity.attack_windup -= 1 * 16 / Game.dt; //// animation ////\n\n  update_entity_animation(entity);\n}\n\nfunction update_entity_animation(o) {\n  if (o.anim_kind == 'idle' && o.is_moving) {\n    o.anim_kind = 'run';\n    o.anim_frame = -1;\n    o.anim_cooldown = 0;\n  }\n\n  if (o.anim_kind == 'run' && !o.is_moving) {\n    o.anim_kind = 'idle';\n    o.anim_frame = -1;\n    o.anim_cooldown = 0;\n  }\n\n  if (o.anim_cooldown <= 0) {\n    o.anim_frame++;\n    var mod;\n\n    if (o.anim_kind == 'idle') {\n      o.anim_cooldown = 30;\n      mod = 4;\n    } else if (o.anim_kind == 'run') {\n      o.anim_cooldown = Math.round(16 / o.speed);\n      mod = 4;\n    } else if (o.anim_kind == 'hit') {\n      o.anim_kind = 'idle'; // todo: store prev and set to prev here? idk\n\n      o.anim_cooldown = 30;\n      mod = 1;\n    } else {\n      o.anim_cooldown = 20;\n    }\n\n    if (mod != null) {\n      o.anim_frame = o.anim_frame % mod;\n    }\n  } //o.anim_cooldown -= 1;    \n\n\n  var step_time = 1 * 16 / Game.dt;\n  o.anim_cooldown -= step_time;\n\n  if (o.hit_anim && o == Player) {\n    o.hit_anim = false;\n    o.anim_kind = 'hit';\n    o.anim_cooldown = 10;\n    o.anim_frame = 0;\n  }\n} // direction between two points\n\n\nfunction get_direction(a, b) {\n  var dx = b[0] - a[0];\n  var dy = b[1] - a[1];\n  var bits = 0;\n\n  if (dy > 0) {\n    bits |= 8;\n  } else if (dy < 0) {\n    bits |= 4;\n  }\n\n  if (dx > 0) {\n    bits |= 2;\n  } else if (dx < 0) {\n    bits |= 1;\n  }\n\n  return DirectionByBitfield[bits];\n}\n\nfunction draw_entity_debug(entity) {\n  if (!entity.active) return;\n  console.assert(entity.active == true);\n  var cell_xy = entity.cell.xy;\n  if (!cell_xy) debugger;\n  var cell_world_xy = cell_to_world_xy(cell_xy);\n  var cell_screen_xy = world_to_screen_xy(cell_world_xy);\n  var cell_fillstyle;\n  var entity_square_strokestyle;\n\n  if (entity.kind == 'enemy') {\n    entity_square_strokestyle = 'rgba(255,0,0,1)';\n    cell_fillstyle = 'rgba(255,0,0,0.2)';\n  } else if (entity.kind == 'player') {\n    entity_square_strokestyle = 'rgba(255,255,255,1)';\n    cell_fillstyle = 'rgba(0,255,0,1)';\n  } else {\n    entity_square_strokestyle = 'rgba(255,255,255,0.5)';\n    cell_fillstyle = 'rgba(127,127,127,1)';\n  } // cell background: debug\n  //if (entity.kind != 'enemy' && entity.kind != 'player') {\n\n\n  if (true) {\n    Game.context.fillStyle = cell_fillstyle;\n    Game.context.fillRect(cell_screen_xy[0] + 1, cell_screen_xy[1] + 1, Map.cell_size - 2, Map.cell_size - 2);\n  }\n\n  var entity_screen_pos = world_to_screen_xy(entity.position);\n\n  if (entity.kind == 'enemy') {\n    // draw a direction line\n    if (false) { var y1, x1, direction_offset, y0, x0, len; }\n  } // draw small square to show actual position in cell    \n\n\n  Game.context.strokeStyle = entity_square_strokestyle;\n  Game.context.beginPath();\n  Game.context.rect(entity_screen_pos[0] - entity.size / 2, entity_screen_pos[1] - entity.size / 2, entity.size, entity.size);\n  Game.context.stroke();\n\n  if (entity.debug_color) {\n    Game.context.strokeStyle = entity.debug_color;\n    Game.context.beginPath();\n    Game.context.rect(entity_screen_pos[0] - entity.size / 2, entity_screen_pos[1] - entity.size / 2, entity.size, entity.size);\n    Game.context.stroke();\n  }\n}\n\nfunction is_same_point(a, b) {\n  return a[0] == b[0] && a[1] == b[1];\n} // can entity move to this position?\n\n/*function is_new_position_valid(entity, new_position) {      \r\n    const new_cell_xy = world_to_cell_xy(new_position);\r\n    const is_same_cell = is_same_point(cell_xy, new_cell_xy)\r\n    let new_cell;\r\n    \r\n    let allow_move = false;\r\n    if (is_same_cell) {\r\n        allow_move = true;\r\n    } else {            \r\n        new_cell = get_cell(new_cell_xy);\r\n        if (is_new_cell_valid(entity, new_cell)) {\r\n            allow_move = true;\r\n        }\r\n    }\r\n\r\n    return allow_move;\r\n}*/\n// can entity move to this cell?\n\n\nfunction is_cell_movement_valid(entity, new_cell) {\n  var allow_diagonal_cheese = true; // allow passing through diagonal corners\n\n  if (entity.kind == 'player') {\n    allow_diagonal_cheese = false;\n  }\n\n  if (allow_diagonal_cheese) {\n    // the most basic form is like this\n    // only check one cell, enemies can pass through diagonal corners\n    return new_cell && new_cell.entity == null;\n  } else {\n    // check sides, but only when direction between entity cell and new_cell is diagonal\n    var cell_dx = new_cell.xy[0] - entity.cell.xy[0];\n    var cell_dy = new_cell.xy[1] - entity.cell.xy[1];\n    console.assert(Math.abs(cell_dx) <= 1);\n    console.assert(Math.abs(cell_dy) <= 1);\n    {\n      // shouldn't be checking valid for same cell\n      console.assert(entity.cell != new_cell);\n      console.assert(Math.abs(cell_dx) + Math.abs(cell_dy) != 0);\n    }\n    var is_straight = Math.abs(cell_dx) + Math.abs(cell_dy) == 1;\n\n    if (is_straight) {\n      // new cell needs to be open\n      return new_cell && new_cell.entity == null;\n    } else {\n      // new cell -AND- at least one side needs to be open\n      // this prevents diagonal movement across corners\n      var side_a, side_b;\n\n      if (cell_dx == -1 && cell_dy == -1) {\n        // up left from entity\n        side_a = get_cell2(new_cell.xy[0], new_cell.xy[1] + 1); // down\n\n        side_b = get_cell2(new_cell.xy[0] + 1, new_cell.xy[1]); // right\n      } else if (cell_dx == 1 && cell_dy == -1) {\n        // up right\n        side_a = get_cell2(new_cell.xy[0] - 1, new_cell.xy[1]); // left\n\n        side_b = get_cell2(new_cell.xy[0], new_cell.xy[1] + 1); // down\n      } else if (cell_dx == -1 && cell_dy == 1) {\n        // down left\n        side_a = get_cell2(new_cell.xy[0], new_cell.xy[1] - 1); // up\n\n        side_b = get_cell2(new_cell.xy[0] + 1, new_cell.xy[1]); // right\n      } else if (cell_dx == 1 && cell_dy == 1) {\n        // down right\n        side_a = get_cell2(new_cell.xy[0], new_cell.xy[1] - 1); // up\n\n        side_b = get_cell2(new_cell.xy[0], new_cell.xy[1] + 1); // left\n      }\n\n      var new_cell_good = new_cell && new_cell.entity == null;\n      var side_a_good, side_b_good;\n      var diagonal_pass_through_enemies = false;\n\n      if (diagonal_pass_through_enemies) {\n        // the 'enemy' checks mean enemies can be diagonally passed through... though im not sure how useful that is\n        side_a_good = side_a && (side_a.entity == null || side_a.entity.kind == 'enemy');\n        side_b_good = side_b && (side_b.entity == null || side_b.entity.kind == 'enemy');\n      } else {\n        side_a_good = side_a && side_a.entity == null;\n        side_b_good = side_b && side_b.entity == null;\n      }\n\n      return new_cell_good && (side_a_good || side_b_good);\n    }\n  }\n}\n\nfunction set_entity_position(entity, new_position) {\n  console.assert(entity != null);\n  console.assert(new_position != null);\n  console.assert(new_position[0] != null);\n  console.assert(new_position[1] != null); //\n\n  var new_cell = get_cell_for_position(new_position);\n  console.assert(new_cell);\n  console.assert(new_cell.entity == null || new_cell.entity == entity);\n  var old_cell = entity.cell;\n  console.assert(old_cell);\n  entity.position[0] = new_position[0];\n  entity.position[1] = new_position[1];\n  entity.cell = new_cell;\n  old_cell.entity = null;\n  new_cell.entity = entity;\n}\n\nfunction calc_new_position(entity, direction_vector) {\n  console.assert(direction_vector);\n  var entity_speed = entity.speed / 16 * Game.dt;\n  var new_position = [entity.position[0] + direction_vector[0] * entity_speed, entity.position[1] + direction_vector[1] * entity_speed];\n  return new_position;\n}\n\nfunction get_cell_for_position(position) {\n  var cell_xy = world_to_cell_xy(position);\n  return get_cell(cell_xy);\n}\n\nfunction is_same_cell(a, b) {\n  console.assert((a.xy[0] === b.xy[0] && a.xy[1] == b.xy[1]) == (a === b)); //return a === b;\n\n  return a.xy[0] === b.xy[0] && a.xy[1] == b.xy[1];\n}\n\nfunction is_game_button(name) {\n  var game_buttons = {\n    'ArrowLeft': true,\n    'ArrowUp': true,\n    'ArrowRight': true,\n    'ArrowDown': true,\n    'w': true,\n    'a': true,\n    's': true,\n    'd': true,\n    'MouseLeft': true,\n    'MouseMiddle': true,\n    'MouseRight': true,\n    'p': true,\n    '[': true,\n    ']': true\n  };\n  return game_buttons[name];\n}\n\nfunction on_key_down(e) {\n  Game.button_events.push(['down', e.key]); //console.log(e.key);\n\n  if (is_game_button(e.key)) {\n    return false; // suppress default\n  }\n}\n\nfunction on_key_up(e) {\n  Game.button_events.push(['up', e.key]); //console.log(e.key);\n\n  if (is_game_button(e.key)) {\n    return false; // suppress default\n  }\n}\n\nfunction on_mouse_down(e) {\n  var names = ['MouseLeft', 'MouseMiddle', 'MouseRight'];\n  var name = names[e.button];\n  return on_key_down({\n    key: name\n  });\n}\n\nfunction on_mouse_up(e) {\n  var names = ['MouseLeft', 'MouseMiddle', 'MouseRight'];\n  var name = names[e.button];\n  return on_key_up({\n    key: name\n  });\n} // key_event = ['down', e.key]\n\n\nfunction process_button_events() {\n  // frame resets    \n  {\n    Game.buttons_went_down.length = 0;\n    Game.buttons_went_up.length = 0;\n  }\n\n  for (var i = 0; i < Game.button_events.length; i++) {\n    var button_event = Game.button_events[i];\n    var kind = button_event[0];\n    var key = button_event[1];\n\n    if (kind == 'down') {\n      // keydown fires when key is held, so don't record to keys_went_down when... keys_down[key] is already true...\n      if (!Game.buttons_down[key]) {\n        //if (Game.paused) console.log('processed key went down', key);\n        Game.buttons_went_down.push(key);\n      }\n\n      Game.buttons_down[key] = true;\n    } else if (kind == 'up') {\n      //if (Game.paused) console.log('processed key went up', key);\n      Game.buttons_went_up.push(key);\n      Game.buttons_down[key] = false;\n    } else {\n      console.assert('unexpected key_event kind, ', kind);\n    }\n  }\n\n  Game.button_events.length = 0; // reset\n}\n\nfunction is_button_down(name) {\n  return Game.buttons_down[name];\n}\n\nfunction is_mouse_on_game() {\n  var game_x0_screen = Game.game_x;\n  var game_x1_screen = Game.game_x + Camera.view_width;\n  var game_y0_screen = Game.game_y;\n  var game_y1_screen = Game.game_y + Camera.view_height;\n\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x >= game_x0_screen && _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.x < game_x1_screen && _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y >= game_y0_screen && _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouselocation.y < game_y1_screen) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction update_player() {\n  var entity = Player; //// move ////\n\n  var command_up = is_button_down('ArrowUp') || is_button_down('w');\n  var command_left = is_button_down('ArrowLeft') || is_button_down('a');\n  var command_right = is_button_down('ArrowRight') || is_button_down('d');\n  var command_down = is_button_down('ArrowDown') || is_button_down('s');\n  var movement_bits = 0;\n  if (command_left) movement_bits |= 1;\n  if (command_right) movement_bits |= 2;\n  if (command_up) movement_bits |= 4;\n  if (command_down) movement_bits |= 8;\n  var direction = DirectionByBitfield[movement_bits];\n\n  if (direction != null) {\n    // stay facing last direction\n    entity.direction = direction;\n  }\n\n  var moved = false;\n\n  if (direction == null) {// pass (dont move moved)\n  } else {\n    var direction_vector = DirectionOffset[direction];\n    var move_result = try_move_entity(entity, direction_vector);\n\n    if (move_result[0] && move_result[1] == false) {\n      // moved to same cell\n      moved = true;\n    } else if (move_result[0] && move_result[1]) {\n      // moved to a new cell\n      moved = true;\n    } else {\n      // try x-slide\n      var direction_vector2 = [0, direction_vector[1]];\n      var move_result2 = try_move_entity(entity, direction_vector2);\n\n      if (move_result2[0]) {\n        // moved with x-slide\n        moved = true;\n      } else {\n        // try y-slide\n        var direction_vector3 = [direction_vector[0], 0];\n        var move_result3 = try_move_entity(entity, direction_vector3);\n\n        if (move_result3[0]) {\n          // moved with y-slide\n          moved = true;\n        }\n      }\n    }\n  }\n\n  Player.is_moving = moved; //// attack ////\n  //Player.attack_cooldown -= 1;    \n\n  Player.attack_cooldown -= 1 * 16 / Game.dt;\n  var can_attack = Player.attack_cooldown <= 0;\n  var command_attack = is_button_down('MouseLeft');\n\n  if (can_attack) {\n    if (is_mouse_on_game() && command_attack) {\n      var start = [Player.position[0], Player.position[1]];\n\n      var _direction = get_aim_vector();\n\n      var speed = Config.player.weapon.bullet_speed;\n      var health = Config.player.weapon.bullet_health;\n      var damage = Config.player.weapon.bullet_damage;\n      add_bullet(start, _direction, speed, health, damage, get_aim_angle());\n      Player.attack_cooldown = Config.player.attack_cooldown;\n    }\n  } //// anim state ////\n\n\n  update_entity_animation(Player);\n}\n\nfunction draw_player() {\n  var screen_xy = world_to_screen_xy(Player.position); // player body debug circle\n\n  /*Game.context.fillStyle = 'rgba(200,255,200,0.8)';\r\n  Game.context.beginPath();\r\n  Game.context.arc(screen_xy[0], screen_xy[1], Player.size / 2, 0, Math.PI * 2);\r\n  Game.context.fill();*/\n\n  var mirror_x = is_left(Player.direction);\n  var offset_y = -4 - Map.cell_size / 2;\n  var sprite_key = Player.sub_kind + '_' + Player.anim_kind + '_anim#' + Player.anim_frame;\n  var tint;\n\n  if (Player.anim_kind == 'hit') {\n    tint = 'rgba(255,0,0,' + _player_hit_alpha2 + ')';\n  }\n\n  Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, sprite_key, screen_xy[0], screen_xy[1] + offset_y, Player.size, Player.size, mirror_x, 0, 0, 0, 1, tint);\n\n  if (Game.mouse_on_game) {\n    Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, 'weapon_bow', screen_xy[0], screen_xy[1], 32, 32, true, get_aim_angle() + Math.PI / 2, -28, -5);\n  }\n}\n\nfunction draw_player_debug() {\n  if (!Config.flags.draw_player_debug) return;\n\n  if (Game.mouse_on_game) {\n    var mouse_cell_xy = world_to_cell_xy(Game.mouse_world_xy);\n    var mouse_cell_world_xy = cell_to_world_xy(mouse_cell_xy);\n    var mouse_cell_screen_xy = world_to_screen_xy(mouse_cell_world_xy); //const mouse_cell = get_cell(mouse_cell_xy);\n\n    if (true) {\n      Game.context.fillStyle = 'rgba(255,255,0,1)';\n      Game.context.fillRect(mouse_cell_screen_xy[0], mouse_cell_screen_xy[1], Map.cell_size, Map.cell_size);\n    }\n\n    if (true) {\n      Object(_hordewave_linewalk_js__WEBPACK_IMPORTED_MODULE_6__[\"line_walk4\"])(Player.cell.xy[0], Player.cell.xy[1], mouse_cell_xy[0], mouse_cell_xy[1], [true, true]);\n    } // draw line from player to mouse...\n\n\n    if (true) {\n      var mouse_screen_xy = world_to_screen_xy(Game.mouse_world_xy);\n      var player_screen_xy = world_to_screen_xy(Player.position);\n      Game.context.beginPath();\n      Game.context.strokeStyle = 'rgba(255,255,0,1)';\n      Game.context.moveTo(mouse_screen_xy[0], mouse_screen_xy[1]);\n      Game.context.lineTo(player_screen_xy[0], player_screen_xy[1]);\n      Game.context.stroke();\n    }\n  }\n}\n\nvar _background_canvas;\n\nvar _background_canvas_context;\n\nfunction draw_background() {\n  if (_background_canvas == null) {\n    _background_canvas = document.createElement(\"canvas\");\n    _background_canvas.width = Map.width;\n    _background_canvas.height = Map.height;\n    _background_canvas_context = _background_canvas.getContext(\"2d\");\n    _background_canvas_context.imageSmoothingEnabled = false;\n    _background_canvas_context.fillStyle = '#292221';\n\n    _background_canvas_context.fillRect(0, 0, Map.width, Map.height);\n\n    for (var i = 0; i < Map.width_in_cells * Map.height_in_cells * 4; i++) {\n      var color_options = ['#483B3A', '#483B3A', '#775C55', '#222222'];\n      var fill_color_css = color_options[randomInt(0, color_options.length - 1)];\n      _background_canvas_context.fillStyle = fill_color_css;\n      var rx = Math.floor(Math.random() * Map.width);\n      var ry = Math.floor(Math.random() * Map.height);\n\n      _background_canvas_context.fillRect(rx - 0.25, ry - 0.25, 1.5, 1.5);\n    }\n\n    for (var y = 0; y < Map.height_in_cells; y++) {\n      for (var x = 0; x < Map.width_in_cells; x++) {\n        var key = void 0;\n        var cell = get_cell2(x, y);\n\n        if (cell.floor) {\n          key = cell.floor;\n        } else {\n          if (Math.random() < 0.1) {//key = 'floor_' + randomInt(1,8);\n          }\n        }\n\n        if (key) {\n          var half = 0 | Math.round(Map.cell_size / 2);\n          Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(_background_canvas_context, key, Math.floor(x * Map.cell_size) + half, Math.floor(y * Map.cell_size) + half, Map.cell_size, Map.cell_size);\n        }\n      }\n    }\n  }\n\n  Game.context.drawImage(_background_canvas, // source x y w h\n  Camera.position[0], Camera.position[1], Camera.view_width, Camera.view_height, // dest x y w h\n  0, 0, Camera.view_width, Camera.view_height);\n}\n\nfunction draw_foreground() {\n  // matte border instead of clip, so i can see stuff way outside during dev, but edge looks nice\n  Game.context.fillStyle = 'rgba(0,0,0,1)';\n  var dim = 20;\n  Game.context.fillRect(-dim, -dim, Camera.view_width + dim * 2, dim);\n  Game.context.fillRect(-dim, -dim, dim, Camera.view_height + dim * 2);\n  Game.context.fillRect(-dim, Camera.view_height, Camera.view_width + dim * 2, dim);\n  Game.context.fillRect(Camera.view_width, -dim, dim, Camera.view_height + dim * 2);\n  {\n    // fore shadow\n    var player_screen_xy = world_to_screen_xy(Player.position);\n    var gradient_radius = Math.min(Camera.view_height, Camera.view_width) / 2;\n    var grad_x = player_screen_xy[0];\n    var grad_y = player_screen_xy[1];\n    var gradient = Game.context.createRadialGradient(grad_x, grad_y, Config.player.light_size, grad_x, grad_y, Config.player.light_size + gradient_radius);\n    gradient.addColorStop(0, 'rgba(0,0,0,0)');\n    gradient.addColorStop(1, 'rgba(0,0,0,1)');\n    Game.context.fillStyle = gradient;\n    Game.context.fillRect(0, 0, Camera.view_width, Camera.view_height);\n  }\n}\n\nfunction draw_entities_debug() {\n  if (!Config.flags.draw_entities_debug) return;\n  var top_left_world_xy = get_top_left_world_xy();\n  var top_left_cell_xy = world_to_cell_xy(top_left_world_xy);\n  var draw_entity_debug_enabled = true;\n\n  if (draw_entity_debug_enabled) {\n    for (var j = 0; j < Camera.view_height_in_cells + 1; j++) {\n      for (var i = 0; i < Camera.view_width_in_cells + 1; i++) {\n        var cell_xy = [top_left_cell_xy[0] + i, top_left_cell_xy[1] + j];\n        var cell = get_cell(cell_xy);\n\n        if (cell && cell.entity && is_cell_visible(cell)) {\n          draw_entity_debug(cell.entity);\n        }\n      }\n    }\n  }\n}\n\nfunction draw_entities() {\n  for (var y = 0; y < Map.height_in_cells; y++) {\n    for (var x = 0; x < Map.width_in_cells; x++) {\n      var cell = get_cell2(x, y);\n      if (!is_cell_visible(cell)) continue; // cell passive entities\n\n      for (var i = 0; i < cell.passives.length; i++) {\n        var p = cell.passives[i];\n\n        if (p.kind == 'death') {\n          var _screen_xy = world_to_screen_xy(p.position);\n\n          var mirror_x = is_left(p.direction);\n          var offset_y = 0; // - Map.cell_size / 4; // lol...\n\n          var key = void 0;\n\n          if (p.anim_kind == null) {\n            key = p.sub_kind;\n          } else {\n            key = p.sub_kind + '_' + p.anim_kind + '_anim#' + p.anim_frame;\n          }\n\n          var tint = void 0;\n\n          if (p.tint_cooldown > 0) {\n            tint = 'rgba(150,0,0,' + _player_hit_alpha2 + ')';\n          }\n\n          Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, key, _screen_xy[0], _screen_xy[1] + offset_y, p.size, p.size, mirror_x, p.angle, 0, 0, 1, tint);\n        }\n      } // cell entity\n\n\n      var o = cell.entity;\n      if (!o || !o.active) continue;\n      var screen_xy = world_to_screen_xy(o.position);\n\n      if (o.kind == 'wall' && o.sub_kind == 'column_mid') {\n        var base_y = screen_xy[1] + Map.cell_size - 12;\n        Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, 'column_base', screen_xy[0], base_y, o.size, o.size);\n        Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, 'column_mid', screen_xy[0], base_y - Map.cell_size, o.size, o.size);\n        Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, 'column_top', screen_xy[0], base_y - Map.cell_size * 2, o.size, o.size);\n      } else if (o.kind == 'wall') {\n        console.assert(o.sub_kind);\n        var _base_y = screen_xy[1];\n        var sides = {\n          'wall_side_mid_right': true,\n          'wall_side_mid_left': true\n        };\n\n        var _tint = void 0;\n\n        if (o.tint_cooldown > 0) {\n          _tint = 'rgba(255,0,0,' + _player_hit_alpha2 + ')';\n        }\n\n        Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, o.sub_kind, screen_xy[0], _base_y, o.size, o.size, false, 0, 0, 0, 1, _tint);\n\n        if (sides[o.sub_kind]) {} else {\n          Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, 'wall_top_mid', screen_xy[0], _base_y - Map.cell_size, o.size, o.size);\n        }\n      }\n    }\n\n    for (var _x = 0; _x < Map.width_in_cells; _x++) {\n      var _cell = get_cell2(_x, y);\n\n      if (!is_cell_visible(_cell)) continue;\n      var _o = _cell.entity;\n      if (!_o || !_o.active) continue;\n\n      if (_o.kind == 'enemy') {\n        var _screen_xy2 = world_to_screen_xy(_o.position);\n\n        var _mirror_x = is_left(_o.direction);\n\n        var _offset_y = -Map.cell_size / 4;\n\n        var _tint2 = void 0;\n\n        if (_o.tint_cooldown > 0) {\n          _tint2 = 'rgba(0,0,0,' + _player_hit_alpha2 + ')';\n        }\n\n        Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, _o.sub_kind + '_' + _o.anim_kind + '_anim#' + _o.anim_frame, _screen_xy2[0], _screen_xy2[1] + _offset_y, _o.size, _o.size, _mirror_x, 0, 0, 0, 1, _tint2);\n      }\n    } // player last, next row will cover them well enough\n\n\n    for (var _x2 = 0; _x2 < Map.width_in_cells; _x2++) {\n      var _cell2 = get_cell2(_x2, y);\n\n      if (!is_cell_visible(_cell2)) continue;\n      var _o2 = _cell2.entity;\n      if (!_o2 || !_o2.active) continue;\n\n      if (_cell2.entity == Player) {\n        draw_player();\n        continue;\n      }\n    }\n  }\n}\n\nfunction draw_hud() {\n  // draw hearts from right to left\n  var dim_w = 18;\n  var dim_h = 32;\n  var health = Math.max(0, Player.health);\n\n  for (var i = 0; i < health; i++) {\n    var x = Camera.view_width - dim_w - i * dim_w;\n    var y = Math.round(dim_h / 2);\n    Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, 'ui_heart_full', x, y, 16, 16);\n  }\n\n  for (var _i = health; _i < Player.health_max; _i++) {\n    var _x3 = Camera.view_width - dim_w - _i * dim_w;\n\n    var _y = Math.round(dim_h / 2);\n\n    Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, 'ui_heart_empty', _x3, _y, 16, 16);\n  }\n}\n\nfunction is_cell_visible(cell) {\n  var world_xy = cell_to_world_xy(cell.xy);\n  var min_x = Camera.position[0] - Map.cell_size;\n  var max_x = Camera.position[0] + Camera.view_width;\n  var min_y = Camera.position[1] - Map.cell_size;\n  var max_y = Camera.position[1] + Camera.view_height;\n  max_y += +Map.cell_size; // add another row of visibility so tops draw\n\n  return world_xy[0] >= min_x && world_xy[0] < max_x && world_xy[1] >= min_y && world_xy[1] < max_y;\n}\n\nfunction draw_bullets() {\n  for (var i = 0; i < Bullets.length; i++) {\n    var bullet = Bullets[i];\n\n    if (bullet && bullet.active) {\n      var bullet_screen_xy = world_to_screen_xy(bullet.position);\n\n      if (Config.flags.draw_bullet_debug2) {\n        // draw small square dot                \n        Game.context.fillStyle = 'rgba(255,255,255,1)';\n        Game.context.fillRect(bullet_screen_xy[0] - 3, bullet_screen_xy[1] - 3, 6, 6);\n        Game.context.fillStyle = 'rgba(150,200,255,1)';\n        Game.context.fillRect(bullet_screen_xy[0] - 2, bullet_screen_xy[1] - 2, 4, 4); // draw line from prev position\n\n        var bullet_screen_xy_prev = world_to_screen_xy(bullet.position_prev);\n        Game.context.lineWidth = 4;\n        Game.context.strokeStyle = 'rgba(255,255,255,0.8)';\n        Game.context.beginPath();\n        Game.context.moveTo(bullet_screen_xy[0], bullet_screen_xy[1]);\n        Game.context.lineTo(bullet_screen_xy_prev[0], bullet_screen_xy_prev[1]);\n        Game.context.stroke();\n        Game.context.lineWidth = 1;\n      }\n\n      draw_bullet_debug(bullet);\n      Object(_hordewave_tiles_js__WEBPACK_IMPORTED_MODULE_4__[\"draw_sprite\"])(Game.context, 'weapon_arrow', bullet_screen_xy[0], bullet_screen_xy[1], 16, 16, false, bullet.angle);\n    }\n  }\n}\n\nfunction draw_bullet_debug(bullet) {\n  if (!Config.flags.draw_bullet_debug) return; // draw line walk for debug\n\n  var bullet_cell_xy = world_to_cell_xy(bullet.position);\n  var bullet_cell_xy_prev = world_to_cell_xy(bullet.position_prev);\n  Object(_hordewave_linewalk_js__WEBPACK_IMPORTED_MODULE_6__[\"line_walk4\"])(bullet_cell_xy_prev[0], bullet_cell_xy_prev[1], bullet_cell_xy[0], bullet_cell_xy[1], [true, true]);\n}\n\nfunction add_bullet(start_xy, direction, speed, health, damage, angle) {\n  var o = new Bullet(start_xy, direction, speed, health, damage, angle);\n  console.assert(o.start_xy[0] >= 0 || o.start_xy[0] < 0);\n  console.assert(o.start_xy[1] >= 0 || o.start_xy[1] < 0);\n  console.assert(o.position[0] >= 0 || o.position[0] < 0);\n  console.assert(o.position[1] >= 0 || o.position[1] < 0);\n  var j = null; // find empty slot for bullet\n\n  for (var i = 0; i < Bullets.length; i++) {\n    var el = Bullets[i];\n\n    if (el == null) {\n      j = i;\n      break;\n    }\n  }\n\n  if (j == null) {\n    // no slot, add one\n    o.i = Bullets.length;\n    Bullets.push(o);\n  } else {\n    o.i = j;\n    Bullets[j] = o;\n  }\n\n  console.assert(o.start_xy[0] >= 0 || o.start_xy[0] < 0);\n  console.assert(o.start_xy[1] >= 0 || o.start_xy[1] < 0);\n  console.assert(o.position[0] >= 0 || o.position[0] < 0);\n  console.assert(o.position[1] >= 0 || o.position[1] < 0); //console.log('added bullet', o);\n}\n\nfunction update_bullets() {\n  for (var i = 0; i < Bullets.length; i++) {\n    var o = Bullets[i];\n    if (o == null) continue;\n    update_bullet(o);\n  }\n}\n\nfunction cleanup_bullets() {\n  for (var i = 0; i < Bullets.length; i++) {\n    var o = Bullets[i];\n    if (o == null) continue;\n\n    if (o.pending_deactivation || o.position[0] < 0 || o.position[1] < 0 || o.position[0] >= Map.width || o.position[1] >= Map.height) {\n      Bullets[o.i] = null;\n    }\n  }\n}\n\nfunction update_bullet(o) {\n  var velocity = vScale(o.direction, o.speed);\n  o.position_prev = o.position;\n  o.position = vAdd(o.position, velocity);\n  update_bullet_collisions(o);\n  sort_bullet_collisions(o);\n\n  for (var i = 0; i < o.collisions.length; i++) {\n    if (o.pending_deactivation) break;\n    var entity = o.collisions[i];\n\n    if (entity.kind == 'enemy') {\n      o.health--;\n      entity.health -= o.damage;\n      entity.tint_cooldown = 20;\n    } else if (entity.kind == 'wall') {\n      entity.health -= o.damage;\n      entity.tint_cooldown = 20;\n      o.health--;\n    }\n\n    if (o.health <= 0) {\n      o.pending_deactivation = true;\n    }\n  } // reset\n\n\n  o.collisions.length = 0;\n}\n\nfunction line_plot_bullet(x, y, color, bullet) {\n  //line_plot_original(x, y, color);\n  var cell = get_cell2(x, y);\n\n  if (cell) {\n    if (cell.entity != null) {\n      /*let is_intersect = line_segment_intersects_rectangle(\r\n          bullet.position_prev[0], bullet.position_prev[1],\r\n          bullet.position[0], bullet.position[1],\r\n          RectangleP(cell.entity.position[0] - 4, cell.entity.position[1] - 4, 8, 8)\r\n      );*/\n      var is_intersect = isRectangleIntersectedByLine(cell.entity.position[0] - cell.entity.size / 2, cell.entity.position[1] - cell.entity.size / 2, cell.entity.position[0] + cell.entity.size / 2, cell.entity.position[1] + cell.entity.size / 2, bullet.position_prev[0], bullet.position_prev[1], bullet.position[0], bullet.position[1]); //is_intersect = true;\n\n      if (is_intersect) {\n        console.assert(bullet.active);\n        bullet.collisions.push(cell.entity);\n      } else {//console.log('NOT is_intersect', cell.entity);\n      }\n    }\n  }\n}\n\nfunction update_bullet_collisions(bullet) {\n  var bullet_cell_xy = world_to_cell_xy(bullet.position);\n  var bullet_cell_xy_prev = world_to_cell_xy(bullet.position_prev);\n  Object(_hordewave_linewalk_js__WEBPACK_IMPORTED_MODULE_6__[\"push_line_plot\"])(function (x, y, color) {\n    return line_plot_bullet(x, y, color, bullet);\n  });\n  Object(_hordewave_linewalk_js__WEBPACK_IMPORTED_MODULE_6__[\"line_walk4\"])(bullet_cell_xy_prev[0], bullet_cell_xy_prev[1], bullet_cell_xy[0], bullet_cell_xy[1], [true, true]);\n  Object(_hordewave_linewalk_js__WEBPACK_IMPORTED_MODULE_6__[\"pop_line_plot\"])();\n}\n\nfunction sort_bullet_collisions(bullet) {\n  bullet.collisions.sort(function (a, b) {\n    // these are entities\n    var dist_a = manhattan_distance(bullet.start_xy, a.position);\n    var dist_b = manhattan_distance(bullet.start_xy, b.position); //a.dist_from_bullet = dist_a; // debug\n    //b.dist_from_bullet = dist_b;\n\n    return dist_a - dist_b;\n  });\n}\n\nfunction manhattan_distance(a, b) {\n  var dx = b[0] - a[0];\n  var dy = b[1] - a[1];\n  return Math.abs(dx) + Math.abs(dy);\n}\n\nfunction draw_particle_systems() {\n  for (var i = 0; i < ParticleSystems.length; i++) {\n    var sys = ParticleSystems[i];\n\n    if (sys && sys.active) {\n      var origin = void 0;\n\n      if (sys.parent) {\n        // with parent, position is relative\n        origin = vAdd(sys.parent.position, sys.position);\n      } else {\n        origin = sys.position;\n      }\n\n      console.assert(origin); //const origin_screen_xy = world_to_screen_xy(origin);\n\n      Game.context.fillStyle = sys.color;\n\n      for (var j = 0; j < sys.particles.length; j++) {\n        var o = sys.particles[j];\n        if (o == null || !o.active) continue;\n        var final_position = vAdd(origin, o.position);\n        var half = Math.round(o.size / 2);\n        var screen_xy = world_to_screen_xy(final_position);\n        Game.context.fillRect(screen_xy[0] - half, screen_xy[1] - half, o.size, o.size);\n      }\n    }\n  }\n}\n\nfunction add_particle_system(sys) {\n  var j = null; // find empty slot\n\n  for (var i = 0; i < ParticleSystems.length; i++) {\n    var el = ParticleSystems[i];\n\n    if (el == null) {\n      j = i;\n      break;\n    }\n  }\n\n  if (j == null) {\n    // no slot, add one\n    sys.i = ParticleSystems.length;\n    ParticleSystems.push(sys);\n  } else {\n    sys.i = j;\n    ParticleSystems[j] = sys;\n  }\n}\n\nfunction emit_particles(sys, count) {\n  for (var i = 0; i < count; i++) {\n    var p_i = null; // find empty slot\n\n    for (var j = 0; j < sys.particles.length; j++) {\n      var el = sys.particles[j];\n\n      if (el == null) {\n        p_i = j;\n        break;\n      }\n    }\n\n    var p = Particle();\n    p.lifetime = 20;\n    p.size = Math.random() * 4;\n    p.speed = 2;\n    p.direction = [Math.random() * 2 - 1, Math.random() * 2 - 1];\n\n    if (p_i == null) {\n      // no slot, add one\n      p.i = sys.particles.length;\n      sys.particles.push(p);\n    } else {\n      p.i = p_i;\n      sys.particles[p.i] = p;\n    }\n  }\n}\n\nfunction update_particle_systems() {\n  for (var i = 0; i < ParticleSystems.length; i++) {\n    var o = ParticleSystems[i];\n    if (o == null || !o.active) continue;\n    update_particle_system(o);\n  }\n}\n\nfunction ParticleSystem(position, parent) {\n  return {\n    active: true,\n    pending_deactivation: false,\n    parent: parent,\n    position: position,\n    position_prev: null,\n    color: 'rgba(255,0,0,1)',\n    particles: [],\n    direction: [0, 0],\n    speed: 0,\n    lifetime: 120 // null lifetime means infinite\n\n  };\n}\n\nfunction Particle() {\n  return {\n    active: true,\n    pending_deactivation: false,\n    position: [0, 0],\n    position_prev: null,\n    size: 16,\n    speed: 0,\n    direction: [0, -1],\n    lifetime: 600,\n    // null lifetime not supported/defined for particle, only for system\n    gravity: [0, 0]\n  };\n}\n\nfunction update_particle_system(o) {\n  console.assert(o);\n  console.assert(o.active);\n\n  if (o.lifetime != null && o.lifetime <= 0) {\n    o.pending_deactivation = true;\n  } else {\n    var velocity = vScale(o.direction, o.speed);\n    o.position_prev = o.position;\n    o.position = vAdd(o.position, velocity);\n\n    if (o.lifetime != null) {\n      o.lifetime -= 1 * 16 / Game.dt;\n    }\n\n    for (var i = 0; i < o.particles.length; i++) {\n      var particle = o.particles[i];\n\n      if (particle && particle.active) {\n        if (particle.lifetime <= 0) {\n          particle.pending_deactivation = true;\n        } else {\n          particle.position_prev = particle.position;\n          var particle_velocity = vScale(particle.direction, particle.speed);\n          particle.position = vAdd(particle.position, particle_velocity);\n          particle.position = vAdd(particle.position, particle.gravity);\n          particle.lifetime -= 1 * 16 / Game.dt; // wish: make this a global called Game.one_timestep and re-use\n        }\n      }\n    }\n  }\n}\n\nfunction cleanup_particle_systems() {\n  for (var i = 0; i < ParticleSystems.length; i++) {\n    var o = ParticleSystems[i];\n    if (o == null || !o.active) continue;\n\n    for (var j = 0; j < o.particles.length; j++) {\n      var p = o.particles[j];\n      if (p == null || !p.active) continue;\n\n      if (p.pending_deactivation || o.parent == null && p.position[0] < 0 || p.position[1] < 0 || o.parent == null && p.position[0] >= Map.width || p.position[1] >= Map.height || o.parent != null && o.parent.position[0] + p.position[0] < 0 || o.parent.position[1] + p.position[1] < 0 || o.parent != null && o.parent.position[0] + p.position[0] >= Map.width || o.parent.position[1] + p.position[1] >= Map.height) {\n        p.active = false;\n        o.particles[j] = null;\n      }\n    }\n\n    if (o.pending_deactivation || o.parent == null && o.position[0] < 0 || o.position[1] < 0 || o.parent == null && o.position[0] >= Map.width || o.position[1] >= Map.height || o.parent != null && o.parent.position[0] + o.position[0] < 0 || o.parent.position[1] + o.position[1] < 0 || o.parent != null && o.parent.position[0] + o.position[0] >= Map.width || o.parent.position[1] + o.position[1] >= Map.height) {\n      o.active = false;\n      ParticleSystems[o.i] = null;\n    }\n  }\n} // https://github.com/francisrstokes/vec-la/blob/master/src/vec.main.js\n\n\nvar vAdd = function vAdd(v, v2) {\n  return [v[0] + v2[0], v[1] + v2[1]];\n};\n\nvar vSub = function vSub(v, v2) {\n  return [v[0] - v2[0], v[1] - v2[1]];\n};\n\nvar vMag = function vMag(v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n};\n\nvar vNorm = function vNorm(v) {\n  var mag = vMag(v);\n  return [v[0] / mag, v[1] / mag];\n};\n\nvar vScale = function vScale(v, sc) {\n  return [v[0] * sc, v[1] * sc];\n}; //const vDot = (v, v2) => v[0]*v2[0] + v[1]*v2[1];\n\n/*\r\nprojectile collision will be done using line-segment to aabb tests\r\n\r\nhttps://stackoverflow.com/a/293052/159022\r\n\r\ni don't need to know where projectile intersects, just that it did\r\n\r\nif multiple aabb are in the same broad-phase cell,\r\nthen i don't think i will be able to tell which one is hit first\r\nbut, i think that level of accuracy is a nearly useless luxury for this\r\nso, if the projectile is supposed to hit only one aabb, then it may\r\nhit one that is behind the other aabb in the same broad-phase cell\r\nhowever, for now, a cell can only hold <= 1 aabb, so this is fine\r\n\r\n... using another answer from that page, below ...\r\n... this one is wrong somehow, probably my fault ...\r\n\r\n*/\n\n\nfunction line_segment_intersects_rectangle(x1, y1, x2, y2, rect) {\n  function point_on_line(x, y) {\n    var v = (y2 - y1) * x + (x1 - x2) * y + (x2 * y1 - x1 * y2);\n\n    if (v == 0) {\n      return 0;\n    } else if (v < 0) return -1;else if (v > 0) return 1;\n  }\n\n  var xTL = rect.x;\n  var yTL = rect.y;\n  var xTR = rect.x + rect.w;\n  var yTR = rect.y;\n  var xBL = rect.x;\n  var yBL = rect.y + rect.h;\n  var xBR = rect.x + rect.w;\n  var yBR = rect.y + rect.h;\n  var resultTL = point_on_line(xTL, yTL);\n  var resultTR = point_on_line(xTR, yTR);\n  var resultBL = point_on_line(xBL, yBL);\n  var resultBR = point_on_line(xBR, yBR);\n  var result = resultTL + resultTR + resultBL + resultBR; // if sum is 4, there is no intersection\n\n  if (Math.abs(result) == 4 || result == 0) {\n    return false;\n  }\n\n  if (x1 > xTR && x2 > xTR) return false;\n  if (x1 < xBL && x2 < xBL) return false;\n  if (y1 > yTR && y2 > yTR) return false;\n  if (y1 < yBL && y2 < yBL) return false;else return true;\n} // https://stackoverflow.com/a/18046673/159022\n\n\nvar isRectangleIntersectedByLine = function isRectangleIntersectedByLine(a_rectangleMinX, a_rectangleMinY, a_rectangleMaxX, a_rectangleMaxY, a_p1x, a_p1y, a_p2x, a_p2y) {\n  // Find min and max X for the segment\n  var minX = a_p1x;\n  var maxX = a_p2x;\n\n  if (a_p1x > a_p2x) {\n    minX = a_p2x;\n    maxX = a_p1x;\n  } // Find the intersection of the segment's and rectangle's x-projections\n\n\n  if (maxX > a_rectangleMaxX) maxX = a_rectangleMaxX;\n  if (minX < a_rectangleMinX) minX = a_rectangleMinX; // If their projections do not intersect return false\n\n  if (minX > maxX) return false; // Find corresponding min and max Y for min and max X we found before\n\n  var minY = a_p1y;\n  var maxY = a_p2y;\n  var dx = a_p2x - a_p1x;\n\n  if (Math.abs(dx) > 0.0000001) {\n    var a = (a_p2y - a_p1y) / dx;\n    var b = a_p1y - a * a_p1x;\n    minY = a * minX + b;\n    maxY = a * maxX + b;\n  }\n\n  if (minY > maxY) {\n    var tmp = maxY;\n    maxY = minY;\n    minY = tmp;\n  } // Find the intersection of the segment's and rectangle's y-projections\n\n\n  if (maxY > a_rectangleMaxY) maxY = a_rectangleMaxY;\n  if (minY < a_rectangleMinY) minY = a_rectangleMinY; // If Y-projections do not intersect return false\n\n  if (minY > maxY) return false;\n  return true;\n}; // return [false, false] when no movement\n// return [true, false] when moved to same cell\n// return [true, true] when moved to new cell\n\n\nfunction try_move_entity(entity, direction_vector) {\n  if (!entity.active) return;\n  var new_position = calc_new_position(entity, direction_vector);\n  var new_position_cell = get_cell_for_position(new_position);\n\n  if (new_position_cell == null) {\n    return [false, false]; // no cell at new position, probably map edge, just continue\n  } else {\n    var cell_dx = new_position_cell.xy[0] - entity.cell.xy[0];\n    var cell_dy = new_position_cell.xy[1] - entity.cell.xy[1];\n    console.assert(Math.abs(cell_dx) < 2); // new cell must be adjacent! lower speed or do multiple steps to work around this\n\n    console.assert(Math.abs(cell_dy) < 2);\n    var same_cell = is_same_cell(entity.cell, new_position_cell);\n\n    if (same_cell) {\n      set_entity_position(entity, new_position);\n      return [true, false];\n    } else {\n      // basic working idea is:\n      //const cell_movement_valid = new_position_cell && new_position_cell.entity == null; \n      // const adjacent_cell = get_cell_adjacent(entity.cell, direction);\n      //\n      // movement here is not necessarily to the cell that sits <direction> of origin\n      // because a unit may be moving southwest from the southeastern corner of a cell\n      // which means they are going to be in the southern adjacent cell not the southwestern adjacent cell\n      // actually, will have to do like a line algorithm between entity current pos and new pos\n      // but for now i will assume new pos is in an adjacent cell\n      var cell_movement_valid = is_cell_movement_valid(entity, new_position_cell);\n\n      if (cell_movement_valid) {\n        entity.debug_color = null; //const new_cell = get_cell_adjacent(entity.cell, direction);\n        //console.assert(new_cell != null);\n\n        set_entity_position(entity, new_position);\n        return [true, true];\n      }\n      /* else {\r\n         entity.direction = null;\r\n         entity.debug_color = 'rgba(255,255,255,1)';\r\n      }*/\n\n    }\n  }\n\n  return [false, false];\n}\n\nfunction get_top_left_world_xy() {\n  var min_x = 0;\n  var min_y = 0;\n  var max_x = Map.width - Camera.view_width;\n  var max_y = Map.height - Camera.view_height;\n  var x = Player.position[0] - Camera.view_width / 2;\n  x = Math.max(min_x, x);\n  x = Math.min(max_x, x);\n  var y = Player.position[1] - Camera.view_height / 2;\n  y = Math.max(min_y, y);\n  y = Math.min(max_y, y);\n  x = Math.floor(x);\n  y = Math.floor(y);\n  var result = [x, y];\n  return result;\n}\n\nfunction is_left(direction) {\n  return direction >= 5 && direction <= 7;\n}\n\nfunction is_right(direction) {\n  return direction >= 1 && direction <= 3;\n}\n\nfunction is_up(direction) {\n  return direction == 0 || direction == 1 || direction == 7;\n}\n\nfunction is_down(direction) {\n  return direction >= 3 && direction <= 5;\n}\n\nfunction is_button_went_down(button) {\n  return Game.buttons_went_down.indexOf(button) >= 0;\n}\n\nfunction is_button_went_up(button) {\n  return Game.buttons_went_up.indexOf(button) >= 0;\n}\n\nfunction handle_pause_buttons() {\n  if (is_button_went_down('p')) {\n    Game.paused = !Game.paused;\n    console.log('[ pausing ]');\n  } //if (is_button_went_down('[')) {\n\n\n  if (is_button_down('[')) {\n    Game.bypass_pause_count = 1;\n    console.log('[ bypass pause 1x ]', Game.bypass_pause_count);\n  } //if (is_button_went_down(']')) {\n\n\n  if (is_button_down(']')) {\n    Game.bypass_pause_count = 10;\n    console.log('[ bypass pause 10x ]', Game.bypass_pause_count);\n  }\n}\n\nfunction get_aim_vector() {\n  return vNorm(vSub(Game.mouse_world_xy, Player.position));\n}\n\nfunction get_aim_angle() {\n  var v = get_aim_vector();\n  return Math.atan2(v[1], v[0]) + Math.PI / 2;\n}\n\nfunction add_entity_death(entity) {\n  if (false) {} // create a new entity which will be passive\n\n  console.assert(entity);\n  console.assert(entity.cell);\n  console.assert(entity.cell.passives);\n  var o = Entity('death');\n  o.direction = entity.direction;\n  o.size = entity.size;\n  o.sub_kind = entity.sub_kind;\n  o.anim_kind = entity.anim_kind;\n  o.anim_frame = entity.anim_frame;\n  o.position = entity.position;\n  o.angle = Math.random() * (Math.PI * 2);\n  o.cell = entity.cell;\n  o.tint_cooldown = entity.tint_cooldown;\n  entity.cell.passives.push(o);\n  add_entity(o);\n}\n\nvar _blend_modes = ['source-over', 'source-in', 'source-out', 'source-atop', 'destination-over', 'destination-in', 'destination-out', 'destination-atop', 'lighter', 'copy', 'xor', 'multiply', 'screen', 'overlay', 'darken', 'lighten', 'color-dodge', 'color-burn', 'hard-light', 'soft-light', 'difference', 'exclusion', 'hue', 'saturation', 'color', 'luminosity'];\nvar _blend_mode_player_hit = 'source-over';\nvar _blend_mode_player_hit2 = 'destination-in';\nvar _blend_mode_player_hit3 = 'source-over';\nvar _blend_mode_player_hit4 = 'overlay';\nvar _player_hit_alpha1 = 1;\nvar _player_hit_alpha2 = 1;\nvar _player_hit_alpha3 = 0; // string blendmode goes in, string blendmode comes out\n\nfunction do_blendmode_slider(uiid, value) {\n  var blend_mode_index = _blend_modes.indexOf(value);\n\n  var _;\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push_horizontal\"]();\n  {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('blend mode', RectangleP(0, 0, 100, 20));\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider', RectangleP(0, 0, 200, 20), 0, _blend_modes.length - 1, blend_mode_index, '');\n\n    if (_.changed) {\n      _.value = _blend_modes[_.value];\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](value + ' (' + blend_mode_index + ')', RectangleP(0, 0, 100, 20));\n  return _;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_hordewave.js?");

/***/ }),

/***/ "./src/simpleui_app_plasma.js":
/*!************************************!*\
  !*** ./src/simpleui_app_plasma.js ***!
  \************************************/
/*! exports provided: do_app_plasma */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_plasma\", function() { return do_app_plasma; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n\n\n\n\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_a\"];\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\n\nfunction sum(a) {\n  var result = 0 | 0;\n\n  for (var i = 0; i < a.length; i++) {\n    var v = a[i];\n    result = result + v;\n  }\n\n  return result;\n}\n\nconsole.assert(sum([1, 2, 3]) == 6);\nvar _sincos_none = 0;\nvar _sincos_sin = 1;\nvar _sincos_cos = 2;\n\nvar _plasma_image;\n\nvar _plasma_data;\n\nvar _plasma_time = 0;\nvar _plasma_step = 0;\nvar _plasma_step_interval = 4;\nvar _plasma_r_div = 59;\nvar _plasma_g_div = 59;\nvar _plasma_b_div = 64;\nvar _plasma_r_sincos = _sincos_sin;\nvar _plasma_g_sincos = _sincos_cos;\nvar _plasma_b_sincos = _sincos_sin;\nvar _plasma_r_invert = true;\nvar _plasma_g_invert = false;\nvar _plasma_b_invert = true;\n\nvar _plasma_zoom;\n\nvar _plasma_zoom_slider;\n\nvar _plasma_mult;\n\nvar _plasma_mult_slider;\n\nset_plasma_zoom(213);\nset_plasma_mult(120);\n\nvar _plasma_palette;\n\nfunction plasma_init() {\n  var r, g, b;\n  var r_enabled = true;\n  var g_enabled = true;\n  var b_enabled = true;\n  _plasma_palette = [];\n  var r_sincos;\n\n  if (_plasma_r_sincos == _sincos_sin) {\n    r_sincos = Math.sin;\n  } else if (_plasma_r_sincos == _sincos_cos) {\n    r_sincos = Math.cos;\n  } else {\n    r_enabled = false;\n  }\n\n  var g_sincos;\n\n  if (_plasma_g_sincos == _sincos_sin) {\n    g_sincos = Math.sin;\n  } else if (_plasma_g_sincos == _sincos_cos) {\n    g_sincos = Math.cos;\n  } else {\n    g_enabled = false;\n  }\n\n  var b_sincos;\n\n  if (_plasma_b_sincos == _sincos_sin) {\n    b_sincos = Math.sin;\n  } else if (_plasma_b_sincos == _sincos_cos) {\n    b_sincos = Math.cos;\n  } else {\n    b_enabled = false;\n  }\n\n  for (var i = 0; i < 256; i++) {\n    // original: eg. r = sin2byte( Math.cos(Math.PI * i / 128) );        \n    if (r_enabled) {\n      r = sin2byte(r_sincos(Math.PI * i / _plasma_r_div));\n\n      if (_plasma_r_invert) {\n        r = 255 - r;\n      }\n    } else {\n      r = 0;\n    }\n\n    if (g_enabled) {\n      g = 255 - sin2byte(g_sincos(Math.PI * i / _plasma_g_div));\n\n      if (_plasma_g_invert) {\n        g = 255 - g;\n      }\n    } else {\n      g = 0;\n    }\n\n    if (b_enabled) {\n      b = 255 - sin2byte(b_sincos(Math.PI * i / _plasma_b_div));\n\n      if (_plasma_b_invert) {\n        b = 255 - b;\n      }\n    } else {\n      b = 0;\n    }\n\n    _plasma_palette.push([r, g, b]);\n  }\n}\n\nplasma_init();\n\nfunction sin2byte(v) {\n  return Math.trunc((v + 1) * 255 / 2);\n}\n\nfunction distance(x1, y1, x2, y2) {\n  var dx = x2 - x1;\n  var dy = y2 - y1;\n  var c = dx * dx + dy * dy;\n  return Math.sqrt(c);\n} // slider values normalized to 0-1000, and represent a percent along the range of possible values\n\n\nfunction set_plasma_zoom(value) {\n  _plasma_zoom_slider = value;\n  var percent = _plasma_zoom_slider / 1000;\n  _plasma_zoom = 1 + 99 * percent; // [1.0 - 100.0]\n}\n\nfunction set_plasma_mult(value) {\n  _plasma_mult_slider = value;\n  var percent = _plasma_mult_slider / 1000;\n  _plasma_mult = percent * 2; // [0.0 - 2.0]\n}\n\nfunction get_color(x, y, t) {\n  var v1 = Math.sin(x * _plasma_mult / _plasma_zoom + t);\n  var v2 = Math.sin(distance(x, y, 128, 128) / _plasma_zoom);\n  var v = sin2byte((v1 + v2) / 2);\n  return _plasma_palette[v];\n}\n\nfunction do_app_plasma() {\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n  var row_x0 = 222;\n  var row_y0 = 47;\n  do_plasma_panel('plasma panel', row_x0, row_y0, true, expanded);\n}\n\nfunction do_plasma_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  var dim_x = 512;\n  var dim_y = 512 + 20 + 4 + 2 + 1 + 1;\n\n  if (_plasma_image == null) {\n    _plasma_image = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createImageData(dim_x, dim_y);\n    _plasma_data = _plasma_image.data;\n  }\n\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.expanded) {\n    var horizontal = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    _plasma_step++;\n\n    if (_plasma_step % _plasma_step_interval == 0) {\n      // perf: update every x-th frame\n      _plasma_time = _plasma_time % 0x7fffffff;\n      _plasma_time++;\n      var color;\n\n      for (var x = 0; x < dim_x; x++) {\n        for (var y = 0; y < dim_y; y++) {\n          color = get_color(x, y, _plasma_time / 60);\n          var i = 0 | x * 4 + y * dim_x * 4;\n          _plasma_data[i + 0] = 0 | color[0]; //x;\n\n          _plasma_data[i + 1] = 0 | color[1]; //y;\n\n          _plasma_data[i + 2] = 0 | color[2]; //-y;\n\n          _plasma_data[i + 3] = 0 | 255;\n        }\n      }\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].putImageData(_plasma_image, horizontal.x, horizontal.y);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](dim_x + 20, dim_y);\n    var vertical = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical); // todo: inset on a darker padded rect?\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('zoom: ' + _plasma_zoom_slider, Rectangle(0, 0, 100, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-zoom-slider', Rectangle(0, 0, 200, 20), 0, 1000, _plasma_zoom_slider, '');\n\n      if (_.changed) {\n        set_plasma_zoom(_.value);\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('mult: ' + _plasma_mult_slider, Rectangle(0, 0, 100, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-mult-slider', Rectangle(0, 0, 200, 20), 0, 1000, _plasma_mult_slider, '');\n\n      if (_.changed) {\n        set_plasma_mult(_.value);\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n    _ = do_slider2d(uiid + '-slider2d', RectangleP(0, 0, 300, 200), 0, 1000, PointP(_plasma_zoom_slider, _plasma_mult_slider));\n\n    if (_.changed) {\n      set_plasma_zoom(_.x1);\n      set_plasma_mult(_.y1);\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('r invert', RectangleP(0, 0, 100, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-checkbox-r-invert', RectangleP(0, 0, 20, 20), _plasma_r_invert);\n\n      if (_.changed) {\n        _plasma_r_invert = _.value;\n        plasma_init();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('g invert', RectangleP(0, 0, 100, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-checkbox-g-invert', RectangleP(0, 0, 20, 20), _plasma_g_invert);\n\n      if (_.changed) {\n        _plasma_g_invert = _.value;\n        plasma_init();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('b invert', RectangleP(0, 0, 100, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-checkbox-b-invert', RectangleP(0, 0, 20, 20), _plasma_b_invert);\n\n      if (_.changed) {\n        _plasma_b_invert = _.value;\n        plasma_init();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('r div', RectangleP(0, 0, 100, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-r-div', RectangleP(0, 0, 200, 20), 2, 360, _plasma_r_div, '');\n\n      if (_.changed) {\n        _plasma_r_div = _.value;\n        plasma_init();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('g div', RectangleP(0, 0, 100, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-g-div', RectangleP(0, 0, 200, 20), 2, 360, _plasma_g_div, '');\n\n      if (_.changed) {\n        _plasma_g_div = _.value;\n        plasma_init();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('b div', RectangleP(0, 0, 100, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-b-div', RectangleP(0, 0, 200, 20), 2, 360, _plasma_b_div, '');\n\n      if (_.changed) {\n        _plasma_b_div = _.value;\n        plasma_init();\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-button-randomize', 'randomize', Rectangle(0, 0, 300, 40));\n\n    if (_.clicked) {\n      // zoom: 0-1000\n      var random_zoom = Math.trunc(Math.random() * 1000);\n      set_plasma_zoom(random_zoom); // mult: 0-1000\n\n      var random_mult = Math.trunc(Math.random() * 1000);\n      set_plasma_mult(random_mult); // step interval: 1-8 (not gonna randomize this)            \n      // rgb sincos: 0-2\n      //_plasma_r_sincos = randomInt(0,2);\n      //_plasma_g_sincos = randomInt(0,2);\n      //_plasma_b_sincos = randomInt(0,2);\n      // rgb invert: 0-1\n\n      _plasma_r_invert = Math.random() < 0.5 ? true : false;\n      _plasma_g_invert = Math.random() < 0.5 ? true : false;\n      _plasma_b_invert = Math.random() < 0.5 ? true : false; // rgb div: 2-360\n\n      _plasma_r_div = randomInt(2, 360);\n      _plasma_g_div = randomInt(2, 360);\n      _plasma_b_div = randomInt(2, 360);\n      plasma_init();\n    } // ---\n\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"hline\"](300, 1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    {\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('step interval', RectangleP(0, 0, 100, 20));\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-step-slider', Rectangle(0, 0, 200, 20), 1, 8, _plasma_step_interval, '');\n\n      if (_.changed) {\n        _plasma_step_interval = _.value;\n      }\n    }\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _ = do_slider_sincos(uiid + '-slider-sincos-r', 'r', _plasma_r_sincos);\n\n    if (_.changed) {\n      _plasma_r_sincos = _.value;\n      console.log('_plasma_r_sincos', _.value);\n      plasma_init();\n    }\n\n    _ = do_slider_sincos(uiid + '-slider-sincos-g', 'g', _plasma_g_sincos);\n\n    if (_.changed) {\n      _plasma_g_sincos = _.value;\n      console.log('_plasma_g_sincos', _.value);\n      plasma_init();\n    }\n\n    _ = do_slider_sincos(uiid + '-slider-sincos-b', 'b', _plasma_b_sincos);\n\n    if (_.changed) {\n      _plasma_b_sincos = _.value;\n      console.log('_plasma_b_sincos', _.value);\n      plasma_init();\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // vertical\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horizontal\n  } // panel.expanded\n\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n}\n\nfunction do_slider_sincos(uiid, key, value) {\n  var _;\n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      changed: 0 | false,\n      value: 0 | value\n    });\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](key + ' sin/cos', RectangleP(0, 0, 100, 20));\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider', RectangleP(0, 0, 200, 20), 0, 2, value, '');\n\n    if (_.changed) {\n      state.changed = true;\n      state.value = _.value;\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  return state;\n} // do_slider_sincos\n\n\nfunction randomInt(a, b) {\n  var delta = b - a;\n  var rand = Math.floor(Math.random() * delta);\n  return a + rand;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_plasma.js?");

/***/ }),

/***/ "./src/simpleui_app_wires.js":
/*!***********************************!*\
  !*** ./src/simpleui_app_wires.js ***!
  \***********************************/
/*! exports provided: do_app_wires */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_app_wires\", function() { return do_app_wires; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_panel.js */ \"./src/simpleui_ex_panel.js\");\n/* harmony import */ var _simpleui_app_demo_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./simpleui_app_demo.js */ \"./src/simpleui_app_demo.js\");\n/* harmony import */ var _simpleui_ex_tabbed_pane_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./simpleui_ex_tabbed_pane.js */ \"./src/simpleui_ex_tabbed_pane.js\");\n\n\n\n\n\n\n\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_a\"];\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar Point = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Point\"];\nvar Rectangle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Rectangle\"];\n\nvar _image;\n\nvar _data;\n\nvar _dim_x = 0 | 512;\n\nvar _dim_y = 0 | 512;\n\nvar _border_size = 1; // all wires, standalone and wires in blocks\n\nvar _wires; // all slots, standalone and slots in blocks\n\n\nvar _slots;\n\nvar _slot_indexes_by_uiid;\n\nvar _wire_connections; // _[wire_index] = slot_index\n\n\nvar _slot_connections; // _[slot_index] = wire_index\n\n\nvar _blocks; // blocks hold own slots\n\n\nvar _block_snap_enabled;\n\nvar _block_snap_amount;\n\nvar slot_size = 20;\nvar slot_size_half = 10;\n\nfunction init() {\n  init_sample();\n}\n\ninit();\n\nfunction init_sample() {\n  _block_snap_enabled = true;\n  _block_snap_amount = 64;\n  _wires = [Wire(Point(64 * 1, 64 * 2), Point(64 * 1, 64 * 2), 'a'), Wire(Point(64 * 1, 64 * 4), Point(64 * 1, 64 * 4), 'b')];\n  _slots = [Slot(Point(64 * 1, 64 * 6), 'c')];\n  _slot_indexes_by_uiid = [];\n  _slot_connections = [];\n  _wire_connections = [];\n  _blocks = [];\n  var scale = 32;\n  {\n    // Apple\n    var block_rect = Rectangle(4 * scale, 2 * scale, 4 * scale, 2 * scale);\n    var block_center_x = block_rect.x + Math.round(block_rect.w / 2);\n    var block_center_y = block_rect.y + Math.round(block_rect.h / 2);\n\n    _slots.push(Slot(Point(block_center_x - 2 * scale, block_center_y), 'a'));\n\n    var wire_origin = Point(block_center_x + 2 * scale, block_center_y);\n    var wire_dest = Point(wire_origin.x, wire_origin.y);\n\n    _wires.push(Wire(wire_origin, wire_dest, 'b'));\n\n    var slot_indexes = [_slots.length - 1];\n    var wire_indexes = [_wires.length - 1];\n    var block = Block('alpha', block_rect, wire_indexes, slot_indexes);\n    add_block(block);\n  }\n  connect_wire(0, 1); // connect standalone wire 1 to this block's slot 1    \n\n  {\n    // Banana\n    var _block_rect = Rectangle(4 * scale, 6 * scale, 4 * scale, 2 * scale);\n\n    var _block_center_x = _block_rect.x + Math.round(_block_rect.w / 2);\n\n    var _block_center_y = _block_rect.y + Math.round(_block_rect.h / 2);\n\n    _slots.push(Slot(Point(_block_center_x - 2 * scale, _block_center_y), 'b'));\n\n    var _wire_origin = Point(_block_center_x + 2 * scale, _block_center_y);\n\n    var _wire_dest = Point(_wire_origin.x, _wire_origin.y);\n\n    _wires.push(Wire(_wire_origin, _wire_dest, 'a'));\n\n    var _slot_indexes = [_slots.length - 1];\n    var _wire_indexes = [_wires.length - 1];\n\n    var _block = Block('beta', _block_rect, _wire_indexes, _slot_indexes);\n\n    add_block(_block);\n  }\n  connect_wire(1, 2); // connect standalone wire 2 to this block's slot 1\n\n  {\n    // plum\n    var _block_rect2 = Rectangle(12 * scale, 6 * scale, 2 * scale, 2 * scale);\n\n    var _block_center_x2 = _block_rect2.x + Math.round(_block_rect2.w / 2);\n\n    var _block_center_y2 = _block_rect2.y + Math.round(_block_rect2.h / 2);\n\n    _slots.push(Slot(Point(_block_center_x2 - 1 * scale, _block_center_y2), 'a'));\n\n    _slots.push(Slot(Point(_block_center_x2 - 0 * scale, _block_center_y2 - 1 * scale), 'b'));\n\n    var _wire_origin2 = Point(_block_center_x2 + 0 * scale, _block_center_y2 + 1 * scale);\n\n    var _wire_dest2 = Point(_wire_origin2.x, _wire_origin2.y);\n\n    _wires.push(Wire(_wire_origin2, _wire_dest2, 'c'));\n\n    var _slot_indexes2 = [_slots.length - 2, _slots.length - 1];\n    var _wire_indexes2 = [_wires.length - 1];\n\n    var _block2 = Block('?', _block_rect2, _wire_indexes2, _slot_indexes2);\n\n    add_block(_block2);\n  }\n  connect_wire(2, 4); // connect block wire 1 to this block's slot 2\n\n  connect_wire(3, 3); // connect block wire 2 to this block's slot 1\n\n  {\n    // Doop\n    var _block_rect3 = Rectangle(4 * scale, 10 * scale, 4 * scale, 2 * scale);\n\n    var _block_center_x3 = _block_rect3.x + Math.round(_block_rect3.w / 2);\n\n    var _block_center_y3 = _block_rect3.y + Math.round(_block_rect3.h / 2);\n\n    _slots.push(Slot(Point(_block_center_x3 + 2 * scale, _block_center_y3), 'c'));\n\n    var _wire_origin3 = Point(_block_center_x3 - 2 * scale, _block_center_y3 + 0 * scale);\n\n    var _wire_dest3 = Point(_wire_origin3.x, _wire_origin3.y);\n\n    _wires.push(Wire(_wire_origin3, _wire_dest3, 'c'));\n\n    var _slot_indexes3 = [_slots.length - 1];\n    var _wire_indexes3 = [_wires.length - 1];\n\n    var _block3 = Block('kappa', _block_rect3, _wire_indexes3, _slot_indexes3);\n\n    add_block(_block3);\n  }\n  connect_wire(4, 5); // connect block wire 3 to this block's slot 1\n\n  connect_wire(5, 0); // connect block wire 4 to the original standalone slot, slot 0\n}\n\nfunction Slot(position, kind) {\n  console.assert(position);\n  console.assert(kind);\n  return {\n    position: position,\n    kind: kind\n  };\n}\n\nfunction Wire(origin, dest, kind) {\n  console.assert(origin);\n  console.assert(dest);\n  console.assert(kind);\n  return {\n    origin: origin,\n    dest: dest,\n    kind: kind\n  };\n}\n\nfunction Block(label, rect, wire_indexes, slot_indexes) {\n  return {\n    label: label,\n    rect: rect,\n    wire_indexes: wire_indexes,\n    slot_indexes: slot_indexes\n  };\n}\n/*function define_wire(x, y) {\r\n    _wires.push([x, y]);\r\n    _connections.push(null);\r\n}*/\n\n\nfunction associate_slot_to_uiid(slot_index, uiid) {\n  _slot_indexes_by_uiid[uiid] = slot_index;\n}\n\nfunction clear_slot_uiid_associations() {\n  _slot_indexes_by_uiid = {};\n}\n\nvar _draw_point_controls;\n\nvar _draw_handle_controls;\n\nfunction do_app_wires() {\n  var expanded = !_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].IsTouchDevice();\n  var row_x0 = 222;\n  var row_y0 = 47;\n  do_wire_panel('wire panel', row_x0, row_y0, true, expanded);\n}\n\nfunction do_wire_panel(uiid, first_x, first_y, first_visible, first_expanded) {\n  var _;\n\n  if (_image == null) {\n    _image = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].createImageData(_dim_x, _dim_y);\n    _data = _image.data;\n  }\n\n  var panel = Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_begin\"])(uiid, first_x, first_y, first_visible, first_expanded);\n\n  if (panel.expanded) {\n    var horizontal = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n    var rect_dilated = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](Rectangle(horizontal.x, horizontal.y, _dim_x, _dim_y), _border_size);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect_dilated, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]); // snap grid lines\n\n    if (_block_snap_enabled) {\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"]('rgba(255,255,255,0.25)'); //uidraw.push_linedash([1,3]);\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n      draw_grid_lines(_dim_x, _dim_y, _block_snap_amount, 0.5);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"](); //uidraw.pop_linedash();\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n      {\n        // sub grid\n        // handle snap grid lines\n        var sub_grid_will_draw = true;\n        var sub_grid_amount = _block_snap_amount / 2;\n\n        if (sub_grid_will_draw) {\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"]('rgba(255,255,255,0.15)');\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linedash\"]([1, 7]);\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1);\n          draw_grid_lines(_dim_x, _dim_y, sub_grid_amount, 0.5);\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linedash\"]();\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n        }\n      }\n    } // block snap grid lines\n\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n    {\n      // editor left vertical panel-ish\n      var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n      if (!state) {\n        state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n          'previous_drag_x': null,\n          'previous_drag_y': null\n        });\n      }\n\n      ;\n      do_wires_edit(uiid + '-wire-edit'); // a root uiid for sub-controls\n      //debug_layout('foo', ui.layout_peek(), [255,0,0,40], [255,255,0,255]);\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](_dim_x, _dim_y); // this needs to be after logic call and reticle            \n      //debug_layout('foo2', ui.layout_peek(), [0,0,255,40], [0,255,255,255]);\n\n      if (true) {\n        // under the editor\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        {\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('click & drag reticles & blocks', Rectangle(0, 0, 200, 20));\n\n          if (false) { var label_rect; } // selected point vertical\n\n\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n        }\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      } // under the editor\n\n    } // editor left vertical panel\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](8, 0);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical); // right vertical control panel\n\n    {\n      {\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-reset-button', 'reset', RectangleP(0, 0, 200, 40));\n\n        if (_.clicked) {\n          init();\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button\"](uiid + '-disconnect-button', 'disconnect all', RectangleP(0, 0, 200, 40));\n\n        if (_.clicked) {\n          for (var i = 0; i < _wire_connections.length; i++) {\n            if (_wire_connections[i] != null) {\n              disconnect_wire(i);\n            }\n          }\n        }\n      }\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n\n      if (true) {\n        // block snap\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('block snap', RectangleP(20 + 4, 0, 200, 20));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbox\"](uiid + '-block-snap-enabled-checkbox', RectangleP(0, 0, 20, 20), _block_snap_enabled);\n\n        if (_.changed) {\n          _block_snap_enabled = _.value;\n        }\n\n        _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-block-snap-amount-slider', RectangleP(0, 0, 200 - 20, 20), 1, 128, _block_snap_amount, _block_snap_amount);\n\n        if (_.changed) {\n          _block_snap_amount = _.value;\n        }\n\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n      } // block snap\n\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](0, 4);\n    } // right vertical control panel        \n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horizontal\n  } // panel.expanded\n\n\n  Object(_simpleui_ex_panel_js__WEBPACK_IMPORTED_MODULE_3__[\"do_panel_end\"])(uiid);\n  return panel;\n} // random between a and b\n\n\nfunction randomInt(a, b) {\n  var delta = b - a + 1; // the +1 makes it inclusive\n\n  var rand = Math.floor(Math.random() * delta);\n  return a + rand;\n}\n\nfunction draw_grid_lines(dim_x, dim_y, snap_amount, hax_subpixel) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](Rectangle(0, 0, dim_x, dim_y)); // might be a param\n\n  var w = Math.trunc(dim_x / snap_amount);\n  var h = Math.trunc(dim_y / snap_amount);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n\n  for (var x = 1; x <= w; x++) {\n    if (x * snap_amount == dim_x) continue; // skip if it's at border, since we decide to skip the other side by starting at 1\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + x * snap_amount + hax_subpixel, rect.y + hax_subpixel);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + x * snap_amount + hax_subpixel, rect.y + rect.h + hax_subpixel);\n  }\n\n  for (var y = 1; y <= h; y++) {\n    if (y * snap_amount == dim_y) continue; // same as above\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](rect.x + hax_subpixel, rect.y + y * snap_amount + hax_subpixel);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](rect.x + rect.w + hax_subpixel, rect.y + y * snap_amount + hax_subpixel);\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n}\n\nfunction do_wires_edit(uiid) {\n  var _;\n\n  clear_slot_uiid_associations(); // wire origin back, under blocks\n\n  for (var i = 0; i < _slots.length; i++) {\n    var wire = _wires[i];\n    var wire_dest_uiid = get_wire_dest_uiid(uiid, i);\n    var draw_context = {\n      is_connected: _wire_connections[i] != null,\n      is_held: _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == wire_dest_uiid\n    };\n    draw_wire_origin_back(wire, draw_context);\n  } // blocks\n\n\n  for (var _i = 0; _i < _blocks.length; _i++) {\n    var block = _blocks[_i];\n    var block_uiid = uiid + '-block-#' + _i;\n    do_block(block, block_uiid);\n  } // slots\n\n\n  for (var _i2 = 0; _i2 < _slots.length; _i2++) {\n    var slot = _slots[_i2];\n    var slot_rect_local = RectangleP(slot.position.x - slot_size_half, slot.position.y - slot_size_half, slot_size, slot_size);\n    var slot_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](slot_rect_local);\n    var slot_uiid = uiid + '-slot-#' + _i2;\n    associate_slot_to_uiid(_i2, slot_uiid);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](slot_uiid, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](slot_rect, 10));\n    var held_wire_kind = void 0;\n    var held_wire_index = void 0;\n    {\n      // get_held_wire_kind\n      // tiny hack\n      for (var j = 0; j < _wires.length; j++) {\n        var _wire_dest_uiid = get_wire_dest_uiid(uiid, j);\n\n        var wire_is_held = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == _wire_dest_uiid;\n\n        if (wire_is_held) {\n          held_wire_kind = _wires[j].kind;\n          held_wire_index = j;\n          break;\n        }\n      }\n    }\n    var is_same_kind_wire_held = held_wire_kind != null && held_wire_kind == slot.kind;\n    var is_valid_wire_held_on_slot = void 0;\n\n    if (held_wire_index != null) {\n      // more hackin, hackin and stackin, ur usin way too many napkins\n      var slot_index = get_slot_index(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_hovered_under_held);\n      var slot_valid = is_valid_wire_slot(held_wire_index, slot_index);\n      var is_this_slot = slot_index == _i2;\n      is_valid_wire_held_on_slot = slot_valid && is_this_slot;\n    }\n\n    var _draw_context = {\n      is_same_kind_wire_held: is_same_kind_wire_held,\n      is_valid_wire_held_on_slot: is_valid_wire_held_on_slot\n    };\n    draw_slot(slot, _draw_context);\n  } // wires\n\n\n  for (var _i3 = 0; _i3 < _wires.length; _i3++) {\n    var _wire = _wires[_i3];\n    console.assert(_wire.dest != null);\n\n    var _wire_dest_uiid2 = get_wire_dest_uiid(uiid, _i3);\n\n    var _wire_is_held = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == _wire_dest_uiid2;\n\n    var wire_reticle_size = 28;\n    var wire_reticle_size_half = 14;\n    var wire_is_connected = _wire_connections[_i3] != null;\n    var wire_dest_is_hovered = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_hovered == _wire_dest_uiid2;\n\n    var _slot_index = get_slot_index(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_hovered_under_held);\n\n    var _slot_valid = is_valid_wire_slot(_i3, _slot_index);\n\n    var wire_held_color_css = void 0;\n\n    if (_slot_valid && _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == _wire_dest_uiid2) {\n      var c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n      wire_held_color_css = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])([c[0], c[1], c[2], 255]); // make_css_color(uidraw.accent);\n    } else {\n      wire_held_color_css = 'rgba(200,200,200,0.5)';\n    } // do wire, then origin, then dest\n\n\n    {\n      // wire connection\n      var connected_slot = _wire_connections[_i3];\n\n      if (_wire_is_held || connected_slot != null) {\n        var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n        var x0 = peek.x + _wire.origin.x;\n        var y0 = peek.y + _wire.origin.y;\n        var x1 = peek.x + _wire.dest.x;\n        var y1 = peek.y + _wire.dest.y;\n\n        if (true) {\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x0, y0); // origin\n\n          var dx = 0 | x1 - x0;\n          var dx_part = 0 | Math.round(dx / 2); //const dy = 0 | (y1 - y0);\n\n          var dy_part = 0 | 0; // 0 | Math.round(dy / 1); // ugly effect\n\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](4);\n\n          if (_wire_is_held) {\n            _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](wire_held_color_css);\n          } else {\n            _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"]('white');\n          }\n\n          _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].bezierCurveTo(x0 + dx_part, y0 - dy_part, // control point a\n          x1 - dx_part, y1 + dy_part, // control point b\n          x1, y1 // dest\n          );\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n          _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n        } else {}\n      }\n    }\n    var wire_is_held_over_valid_slot = void 0;\n    {\n      wire_is_held_over_valid_slot = _wire_is_held && _slot_valid;\n    }\n    var _draw_context2 = {\n      is_connected: wire_is_connected,\n      is_held: _wire_is_held,\n      is_held_over_valid_slot: wire_is_held_over_valid_slot,\n      dest_is_hovered: wire_dest_is_hovered\n    };\n    {\n      // draw wire origin\n      draw_wire_origin_fore(_wire, _draw_context2);\n    }\n    {\n      // wire dest                        \n      var wire_dest_rect_local = Rectangle(_wire.dest.x - wire_reticle_size_half, _wire.dest.y - wire_reticle_size_half, wire_reticle_size, wire_reticle_size);\n      var wire_dest_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](wire_dest_rect_local);\n      draw_wire_dest_back(wire_dest_rect, _draw_context2);\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"reticle\"](_wire_dest_uiid2, wire_dest_rect_local, _wire.dest.x, _wire.dest.y);\n      draw_wire_dest_fore(_wire, wire_dest_rect, _draw_context2);\n\n      if (_.changed) {\n        //console.log('wire_dest changed', _.x1, _.y1);\n        var new_x = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(_.x1, 0, _dim_x);\n        var new_y = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"])(_.y1, 0, _dim_y);\n        /*if (false) {\r\n            new_x = Math.round(new_x / _point_snap_amount) * _point_snap_amount;\r\n            new_y = Math.round(new_y / _point_snap_amount) * _point_snap_amount;\r\n            new_x = clamp(new_x, 0, _dim_x);\r\n            new_y = clamp(new_y, 0, _dim_y);    \r\n        }*/\n\n        _wire.dest.x = new_x;\n        _wire.dest.y = new_y; // snap to valid slot (this will cause back-and-forth bugs, cuz of the grab offset... hmmm))\n\n        /*if (wire_is_held_over_valid_slot) {\r\n            const slot = _slots[slot_index];\r\n            wire.dest.x = slot.position.x;\r\n            wire.dest.y = slot.position.y;\r\n        }*/\n\n        if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_was_dropped == _wire_dest_uiid2) {\n          //console.log('>>> item_hovered_under_held >>> ', ui.state.item_hovered_under_held);\n          // handle slot connections                    \n          if (_slot_valid) {\n            connect_wire(_i3, _slot_index);\n            console.log('>>> connecting wire: ' + _i3 + ' to ' + _slot_index);\n          } else {\n            // handle slot disconnections\n            //if (slot_index == null) {\n            // console.log('item dropped and slot index null');\n            // wire dest will NOT be held after mouse_went_up\n            var is_wire_connected = _wire_connections[_i3] != null; //console.log('is_wire_connected', is_wire_connected);\n\n            if (is_wire_connected) {\n              disconnect_wire(_i3);\n              console.log('>>> disconnecting wire: ' + _i3); // wire held, not connected, mouse went up, not on a slot\n            } else {\n              _wire.dest.x = _wire.origin.x;\n              _wire.dest.y = _wire.origin.y;\n            }\n          }\n        } // item was dropped\n\n      }\n\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](-wire_reticle_size - 4, -wire_reticle_size - 4); // why -4 lol nolive (layout padding prolly)\n    }\n  }\n}\n\nfunction get_slot_index(uiid) {\n  return _slot_indexes_by_uiid[uiid];\n}\n\nfunction is_valid_wire_slot(wire_index, slot_index) {\n  // slot_index not null &\n  // wire and slot kind the same &\n  // slot not connected || slot is connected to this wire (they can drop it back on itself)\n  return slot_index != null && _wires[wire_index].kind == _slots[slot_index].kind && (_slot_connections[slot_index] == null || _slot_connections[slot_index] == wire_index);\n}\n\nfunction connect_wire(wire_index, slot_index) {\n  var wire_is_connected = _wire_connections[wire_index] != null;\n\n  if (wire_is_connected) {\n    disconnect_wire(wire_index);\n  }\n\n  var slot = _slots[slot_index];\n  _wires[wire_index].dest.x = slot.position.x;\n  _wires[wire_index].dest.y = slot.position.y;\n  _wire_connections[wire_index] = slot_index;\n  _slot_connections[slot_index] = wire_index;\n}\n\nfunction disconnect_wire(i) {\n  var slot_index = _wire_connections[i];\n  _wire_connections[i] = null;\n  console.assert(slot_index != null);\n  _slot_connections[slot_index] = null;\n  _wires[i].dest.x = _wires[i].origin.x;\n  _wires[i].dest.y = _wires[i].origin.y;\n} // ---\n\n\nfunction add_block(block) {\n  _blocks.push(block);\n}\n\nfunction move_block(block, new_x, new_y) {\n  var dx = new_x - block.rect.x;\n  var dy = new_y - block.rect.y;\n  block.rect.x = new_x;\n  block.rect.y = new_y;\n\n  for (var i = 0; i < block.wire_indexes.length; i++) {\n    var wire_index = block.wire_indexes[i];\n    var wire = _wires[wire_index];\n    wire.origin.x += dx;\n    wire.origin.y += dy; // if wire is not connected, then move dest as well\n\n    var is_wire_connected = _wire_connections[wire_index] != null;\n\n    if (!is_wire_connected) {\n      wire.dest.x += dx;\n      wire.dest.y += dy;\n    }\n  }\n\n  for (var _i4 = 0; _i4 < block.slot_indexes.length; _i4++) {\n    var slot_index = block.slot_indexes[_i4];\n    var slot = _slots[slot_index];\n    slot.position.x += dx;\n    slot.position.y += dy; // move the wire dest connected to this slot\n\n    var _wire_index = _slot_connections[slot_index];\n\n    if (_wire_index != null) {\n      var _wire2 = _wires[_wire_index];\n      _wire2.dest.x += dx;\n      _wire2.dest.y += dy;\n    }\n  }\n}\n\nvar _block_down_center_offset = [0, 0];\n\nfunction do_block(block, block_uiid) {\n  var block_rect_local = block.rect;\n  var block_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](block_rect_local);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](block_uiid, block_rect);\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == block_uiid) {\n    var dx = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_point.x - block_rect.x;\n    var dy = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_point.y - block_rect.y;\n    _block_down_center_offset[0] = dx;\n    _block_down_center_offset[1] = dy;\n  }\n\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == block_uiid) {\n    //console.log(ui.state.mouse_went_down_point.x, ui.state.mouse_went_down_delta[0], peek.x);\n    var new_x = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_point.x + _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_delta[0] - peek.x - _block_down_center_offset[0];\n    var new_y = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_point.y + _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].mouse_went_down_delta[1] - peek.y - _block_down_center_offset[1];\n\n    if (_block_snap_enabled) {\n      new_x = Math.round(new_x / _block_snap_amount) * _block_snap_amount;\n      new_y = Math.round(new_y / _block_snap_amount) * _block_snap_amount;\n    }\n\n    var min_x = 0;\n    var min_y = 0;\n    var max_x = _dim_x - block_rect.w;\n    var max_y = _dim_y - block_rect.h;\n    new_x = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"](new_x, min_x, max_x);\n    new_y = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"clamp\"](new_y, min_y, max_y);\n    move_block(block, new_x, new_y);\n  } else {}\n\n  draw_block(block, block_uiid);\n}\n\nfunction draw_block(block, block_uiid) {\n  var bg_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](block.rect);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d_soft\"](bg_rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n  var face_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == block_uiid) {\n    face_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d_soft\"](bg_rect, face_color);\n  {\n    // nolive: refactor/unify/compress centering\n    var text_width = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"get_text_width\"](block.label);\n    var offset_x = Math.round((block.rect.w - text_width) / 2);\n    var offset_y = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"get_vertical_centered_text_offset\"](block.rect.h);\n    var centered_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](RectangleP(block.rect.x + offset_x, block.rect.y + offset_y, text_width, block.rect.h)); //uidraw.rectangle(ui.layout_translated(centered_rect), [255,255,0,128]);\n    //ui.label(block.label, centered_rect);\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](block.label, centered_rect.x, centered_rect.y, [255, 255, 255, 255]);\n  }\n}\n\nfunction get_wire_dest_uiid(uiid, wire_index) {\n  return uiid + '-wire-dest-#' + wire_index;\n}\n\nfunction draw_wire_origin_back(wire, context) {\n  /*const rect_local = RectangleP(\r\n      wire.origin.x - slot_size_half,\r\n      wire.origin.y - slot_size_half,\r\n      slot_size, slot_size\r\n  )\r\n    //const peek = ui.layout_peek();\r\n  //const bg_rect = uidraw.rectangle_dilate(RectangleP(peek.x + rect_local.x, peek.y + rect_local.y, rect_local.w, rect_local.h), 10);\r\n  \r\n  //let c = uidraw.normal_face;\r\n    if (context.is_connected) {\r\n      //c = uidraw.accent;\r\n  }\r\n  if (context.is_held) {\r\n      //c = uidraw.activating_face;\r\n      //c = uidraw.accent;\r\n  }\r\n  \r\n  if (context.is_connected) {\r\n    } else {\r\n      //const origin_back_color = [c[0], c[1], c[2], 255];\r\n      //uidraw.circle(bg_rect, origin_back_color);\r\n  }*/\n}\n\nfunction draw_wire_origin_fore(wire, context) {\n  var dim = 20;\n  var dim_half = 10;\n  var wire_origin_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](RectangleP(wire.origin.x - dim_half, wire.origin.y - dim_half, dim, dim));\n  var c;\n\n  if (false) {} else if (context.is_held_over_valid_slot) {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n  } else if (context.is_connected) {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"];\n  } else {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"];\n  }\n\n  var origin_fill_color = [c[0], c[1], c[2], 255];\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](wire_origin_rect, origin_fill_color);\n\n  if (context.is_connected || context.is_held) {} else {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](wire.kind, wire_origin_rect.x + 5, wire_origin_rect.y + 2, [255, 255, 255, 255]);\n  }\n}\n\nfunction draw_wire_dest_back(wire_dest_rect, context) {\n  var c;\n\n  if (context.is_held_over_valid_slot) {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n  } else if (context.is_connected) {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]; // when connected and not held, another accent circle is drawn under this one\n    // this one shows when held and connected, which is an expected state (for now)\n  } else if (context.is_held) {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]; // uidraw.normal_back;\n  } else {\n    c = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]; //uidraw.normal_back;\n  }\n\n  var back_color = [c[0], c[1], c[2], 255];\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](wire_dest_rect, back_color);\n}\n\nfunction draw_wire_dest_fore(wire, rect, context) {\n  /*if (context.is_connected) {\r\n      let c = uidraw.accent;\r\n      let back_color = [c[0], c[1], c[2], 255];\r\n      uidraw.circle(wire_dest_rect, back_color);\r\n  } else if (context.is_held) {\r\n      let c = uidraw.normal_face;\r\n      let back_color = [c[0], c[1], c[2], 255];\r\n      uidraw.circle(wire_dest_rect, back_color);\r\n  }*/\n  if (context.is_connected) {} else if (context.is_held) {//let c = uidraw.accent;\n    //let back_color = [c[0], c[1], c[2], 255];\n    //uidraw.circle(rect, back_color);\n  } else {//let c = uidraw.accent;\n      //let back_color = [c[0], c[1], c[2], 255];\n      //uidraw.circle(rect, back_color);    \n    }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](wire.kind, rect.x + 9, rect.y + 6, [255, 255, 255, 255]);\n}\n\nfunction draw_slot(slot, context) {\n  var slot_rect_local = RectangleP(slot.position.x - slot_size_half, slot.position.y - slot_size_half, slot_size, slot_size);\n  var slot_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](slot_rect_local);\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n  var slot_bg_rect = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](RectangleP(peek.x + slot_rect_local.x, peek.y + slot_rect_local.y, slot_rect_local.w, slot_rect_local.h), 10);\n  {\n    // slot fixture\n    // bg\n    if (context.is_valid_wire_held_on_slot) {\n      var slot_bg_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](slot_bg_rect, slot_bg_color);\n    } else {\n      var _slot_bg_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"];\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](slot_bg_rect, _slot_bg_color);\n    } // bg active\n\n\n    if (context.is_same_kind_wire_held) {\n      var _slot_bg_color2 = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](slot_bg_rect, _slot_bg_color2);\n    } // face\n\n\n    var slot_face_color;\n\n    if (context.is_valid_wire_held_on_slot) {\n      slot_face_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"activating_face\"];\n    } else {\n      slot_face_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"];\n    }\n\n    var slot_face_rect = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](slot_bg_rect, 4);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](slot_face_rect, slot_face_color);\n  }\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](slot.kind, slot_rect.x + 5, slot_rect.y + 2, [255, 255, 255, 255]);\n}\n/*function draw_block_wire(block, wire) {\r\n    const block_center_x = block.rect.x + Math.round(block.rect.w / 2);\r\n    const block_center_y = block.rect.y + Math.round(block.rect.h / 2);\r\n\r\n    const origin_rect = RectangleP(\r\n        block_center_x + wire.origin.x - slot_size_half,\r\n        block_center_y + wire.origin.y - slot_size_half,\r\n        slot_size, slot_size\r\n    )\r\n\r\n    const origin_bg_rect = RectangleP(origin_rect.x, origin_rect.y, origin_rect.w, origin_rect.h);\r\n\r\n    { // wire origin\r\n        // bg\r\n        const origin_bg_color = uidraw.panel_color;       \r\n        uidraw.circle(origin_bg_rect, origin_bg_color);\r\n\r\n        // bg active\r\n        if (false) {\r\n            const origin_bg_color = uidraw.activating_face;\r\n            uidraw.circle(origin_bg_rect, origin_bg_color);\r\n        }\r\n\r\n        // face\r\n        const face_color = uidraw.normal_face;\r\n        const face_rect = uidraw.rectangle_erode(origin_bg_rect, 4);\r\n        uidraw.circle(face_rect, face_color);\r\n    }\r\n}*/\n\n\n\n\n//# sourceURL=webpack:///./src/simpleui_app_wires.js?");

/***/ }),

/***/ "./src/simpleui_consts.js":
/*!********************************!*\
  !*** ./src/simpleui_consts.js ***!
  \********************************/
/*! exports provided: _Hovered, _Held, _none, _vertical, _horizontal, _r, _g, _b, _a, _left, _middle, _right, _complete, _reset_complete, _segment, _partial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_Hovered\", function() { return _Hovered; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_Held\", function() { return _Held; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_none\", function() { return _none; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_vertical\", function() { return _vertical; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_horizontal\", function() { return _horizontal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_r\", function() { return _r; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_g\", function() { return _g; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_b\", function() { return _b; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_a\", function() { return _a; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_left\", function() { return _left; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_middle\", function() { return _middle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_right\", function() { return _right; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_complete\", function() { return _complete; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_reset_complete\", function() { return _reset_complete; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_segment\", function() { return _segment; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"_partial\", function() { return _partial; });\n// todo: later: const namespace import or something i guess ( \"namespaced constants\" probably eventually too )\n// drawstate\nvar _Hovered = 0 | 0;\nvar _Held = 1 | 0; // layout modes\n\nvar _none = 0 | 0;\nvar _vertical = 1 | 0;\nvar _horizontal = 2 | 0; // later: 'grid', 'columns', 'rows'\n// colors\n\nvar _r = 0 | 0;\nvar _g = 1 | 0;\nvar _b = 2 | 0;\nvar _a = 3 | 0; // mouse buttons\n\nvar _left = 0 | 0;\nvar _middle = 1 | 0;\nvar _right = 2 | 0; // gridfont & gridfont_letter\n\nvar _complete = 0 | 0;\nvar _reset_complete = 1 | 0;\nvar _segment = 2 | 0;\nvar _partial = 3 | 0;\n\n//# sourceURL=webpack:///./src/simpleui_consts.js?");

/***/ }),

/***/ "./src/simpleui_drawing.js":
/*!*********************************!*\
  !*** ./src/simpleui_drawing.js ***!
  \*********************************/
/*! exports provided: default_text_color, default_line_color, default_fill_color, accent, bg_color, panel_color, normal_back, normal_face, activating_face, raised_face, raised_accent, focus_back, focus_face, font_size, color_white, color_black, box_gradient, get_centered_offsets, vertical_center_text, get_vertical_centered_text_offset, rectangle_erode, rectangle_dilate, point_translate, text, rectangle, rectangle3d, rectangle3d_soft, rectangle_outline, rectangle_soft, rectangle_soft_right, rectangle_soft_left, rectangle_soft_top, rectangle_soft_bottom, circle, circle_outline, line, label, button, button_held, button_hovered, checkbox, checkbox_held, checkbox_hovered, progressbar, slider, vslider, checkbutton, checkbutton_soft_right, checkbutton_soft_left, checkbutton_soft_top, checkbutton_soft_bottom, handle, handle_held, handle_hovered, reticle, commands, push_strokestyle, pop_strokestyle, push_fillstyle, pop_fillstyle, push_linewidth, pop_linewidth, push_linedash, pop_linedash, stroke, begin_path, move_to, line_to, begin_clip, end_clip, get_text_width, horizontal_center_text */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default_text_color\", function() { return default_text_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default_line_color\", function() { return default_line_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default_fill_color\", function() { return default_fill_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"accent\", function() { return accent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bg_color\", function() { return bg_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"panel_color\", function() { return panel_color; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normal_back\", function() { return normal_back; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"normal_face\", function() { return normal_face; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"activating_face\", function() { return activating_face; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"raised_face\", function() { return raised_face; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"raised_accent\", function() { return raised_accent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"focus_back\", function() { return focus_back; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"focus_face\", function() { return focus_face; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"font_size\", function() { return font_size; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"color_white\", function() { return color_white; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"color_black\", function() { return color_black; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"box_gradient\", function() { return box_gradient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get_centered_offsets\", function() { return get_centered_offsets; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vertical_center_text\", function() { return vertical_center_text; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get_vertical_centered_text_offset\", function() { return get_vertical_centered_text_offset; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_erode\", function() { return rectangle_erode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_dilate\", function() { return rectangle_dilate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"point_translate\", function() { return point_translate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"text\", function() { return draw_text; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle\", function() { return draw_rectangle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle3d\", function() { return draw_rectangle3d; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle3d_soft\", function() { return draw_rectangle3d_soft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_outline\", function() { return draw_rectangle_outline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_soft\", function() { return draw_rectangle_soft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_soft_right\", function() { return draw_rectangle_soft_right; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_soft_left\", function() { return draw_rectangle_soft_left; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_soft_top\", function() { return draw_rectangle_soft_top; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rectangle_soft_bottom\", function() { return draw_rectangle_soft_bottom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"circle\", function() { return draw_circle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"circle_outline\", function() { return draw_circle_outline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line\", function() { return draw_line; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"label\", function() { return draw_label; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"button\", function() { return button; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"button_held\", function() { return button_held; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"button_hovered\", function() { return button_hovered; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbox\", function() { return checkbox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbox_held\", function() { return checkbox_held; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbox_hovered\", function() { return checkbox_hovered; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"progressbar\", function() { return progressbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"slider\", function() { return draw_slider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"vslider\", function() { return draw_vslider; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton\", function() { return draw_checkbutton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton_soft_right\", function() { return draw_checkbutton_soft_right; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton_soft_left\", function() { return draw_checkbutton_soft_left; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton_soft_top\", function() { return draw_checkbutton_soft_top; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkbutton_soft_bottom\", function() { return draw_checkbutton_soft_bottom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handle\", function() { return handle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handle_held\", function() { return handle_held; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"handle_hovered\", function() { return handle_hovered; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"reticle\", function() { return draw_reticle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"commands\", function() { return commands; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"push_strokestyle\", function() { return push_strokestyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pop_strokestyle\", function() { return pop_strokestyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"push_fillstyle\", function() { return push_fillstyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pop_fillstyle\", function() { return pop_fillstyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"push_linewidth\", function() { return push_linewidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pop_linewidth\", function() { return pop_linewidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"push_linedash\", function() { return push_linedash; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pop_linedash\", function() { return pop_linedash; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"stroke\", function() { return stroke; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"begin_path\", function() { return begin_path; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"move_to\", function() { return move_to; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"line_to\", function() { return line_to; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"begin_clip\", function() { return begin_clip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"end_clip\", function() { return end_clip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"get_text_width\", function() { return get_text_width; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"horizontal_center_text\", function() { return horizontal_center_text; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_driver_html5_canvas.js */ \"./src/simpleui_driver_html5_canvas.js\");\nfunction _readOnlyError(name) { throw new Error(\"\\\"\" + name + \"\\\" is read-only\"); }\n\n\n\n // later: these will be in a var/obj/namespace here, so i can switch to other drivers\n\n\nvar commands = [];\nvar _Hovered = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_1__[\"_Hovered\"];\nvar _Held = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_1__[\"_Held\"];\nvar round = Math.round;\nvar default_text_color = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(255, 255, 255, 255);\nvar default_line_color = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(255, 255, 255, 255);\nvar default_fill_color = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(0, 0, 0, 255);\nvar accent = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(120, 180, 140, 127);\nvar bg_color = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(91 - 15, 98 - 15, 96 - 15, 255);\nvar panel_color = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(46, 46, 46, 255);\nvar normal_back = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(36, 36, 36, 255);\nvar normal_face = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(72, 72, 72, 255);\nvar activating_face = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(0, 204, 123, 0 | 255 * 0.8);\nvar raised_face = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(180 - 10, 180 + 9 - 10, 180 - 3 - 10, 255);\nvar raised_accent = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(250, 255, 240, 255);\nvar focus_back = normal_back;\nvar focus_face = normal_face;\nvar font_size = Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"GetFontSize\"])();\nvar color_white = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(255, 255, 255, 255);\nvar color_black = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(0, 0, 0, 255);\nvar box_gradient = {\n  x1: 80,\n  y1: 22,\n  x2: 85,\n  y2: -32,\n  color_stop1: Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(0, 0, 0, 50),\n  // was 38\n  color_stop2: Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(255, 255, 255, 144)\n}; // > no-alpha debug mode\n\nif (false) {}\n\nfunction get_vertical_centered_text_offset(h) {\n  var height_delta = 0 | h - font_size;\n  var y_offset = 0 | height_delta / 2;\n  return y_offset;\n} // get_center_offset(rect.y, rect.h)\n\n\nfunction vertical_center_text(rect) {\n  var y_offset = get_vertical_centered_text_offset(rect.h);\n  var result = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"])(0 | rect.x, 0 | rect.y + y_offset);\n  return result;\n} // center 2 rectangles on each other, return x & y offsets\n\n\nfunction get_centered_offsets(rect1, rect2) {\n  var ox = round((rect1.w - rect2.w) / 2);\n  var oy = round((rect1.h - rect2.h) / 2);\n  return [0 | ox, 0 | oy];\n}\n\nfunction horizontal_center_text(rect, text) {\n  // 0.4.7\n  var text_w = get_text_width(text);\n  var text_h = font_size;\n  var text_rect = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(text_w, text_h);\n  var text_offset = get_centered_offsets(rect, text_rect);\n  var centered_pos = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"])(0 | rect.x + text_offset[0], 0 | rect.y + text_offset[1]);\n  return centered_pos;\n}\n\nfunction get_text_width(text) {\n  // 0.4.7\n  var w = Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"GetTextWidth\"])(text);\n  return w;\n}\n/*function rectangle_center(rect) {\r\n    return Point(rect.x + rect.w / 2, rect.y + rect.h / 2);\r\n}*/\n\n/*function rectangle_offset(rect, offset) {\r\n    return RectangleP(0 | rect.x + offset, 0 | rect.y + offset, 0 | rect.w, 0 | rect.h);\r\n}*/\n\n/*function rectangle_offset_xy(rect, offset_x, offset_y) {\r\n    return RectangleP(0 | rect.x + offset_x, 0 | rect.y + offset_y, 0 | rect.w, 0 | rect.h);\r\n}*/\n\n\nfunction rectangle_erode(rect, amount) {\n  return Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(0 | rect.x + amount, 0 | rect.y + amount, 0 | rect.w - amount * 2, 0 | rect.h - amount * 2);\n}\n\nfunction rectangle_dilate(rect, amount) {\n  return rectangle_erode(rect, -amount);\n}\n/*function rectangle_underline(rect, size) {\r\n    return Rectangle(rect.x, rect.y+rect.h-size, rect.w, size);\r\n}*/\n\n\nfunction point_translate(pt, x, y) {\n  pt.x = 0 | pt.x + x;\n  pt.y = 0 | pt.y + y;\n  return pt;\n}\n\nfunction draw_text(text, x, y, color) {\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_enable) {\n    Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawText\"])(text, x, y, color); //commands.push(DrawText, 4, text, x, y, color);\n  }\n}\n\nvar draw_rectangle = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox\"];\nvar draw_rectangle3d = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3d\"]; //\n\nvar draw_rectangle_outline = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxOutline\"]; //\n\nvar draw_rectangle_soft = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxSoft\"];\nvar draw_rectangle_soft_right = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxSoftRight\"];\nvar draw_rectangle_soft_left = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxSoftLeft\"];\nvar draw_rectangle_soft_top = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxSoftTop\"];\nvar draw_rectangle_soft_bottom = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBoxSoftBottom\"]; //\n\nvar draw_rectangle3d_soft = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3dSoft\"];\nvar draw_rectangle3d_soft_right = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3dSoftRight\"];\nvar draw_rectangle3d_soft_left = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3dSoftLeft\"];\nvar draw_rectangle3d_soft_top = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3dSoftTop\"];\nvar draw_rectangle3d_soft_bottom = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawBox3dSoftBottom\"]; //\n\nvar draw_circle = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawCircle\"];\nvar draw_circle_outline = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawCircleOutline\"];\nvar draw_line = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"DrawLine\"];\n\nfunction draw_label(text, rect, color) {\n  draw_text(text, 0 | rect.x, 0 | rect.y, color);\n}\n\nfunction button(text, rect) {\n  var rect1 = rectangle_erode(rect, 1);\n  draw_rectangle3d_soft(rect, normal_back);\n  draw_rectangle3d_soft(rect1, normal_face); // todo? draw_rectangle3d_soft_erode(rect, normal_face, 1);\n\n  var text_pos = point_translate(vertical_center_text(rect1), 5, 0);\n  draw_label(text, text_pos); //draw_label\n}\n\nfunction button_held(text, rect) {\n  var rect1 = rectangle_erode(rect, 1);\n  draw_rectangle3d_soft(rect, normal_back);\n  draw_rectangle3d_soft(rect, activating_face);\n  var text_pos = point_translate(vertical_center_text(rect1), 5, 0);\n  text_pos.y = text_pos.y + 1;\n  draw_label(text, text_pos);\n}\n\nfunction button_hovered(text, rect) {\n  var rect1 = rectangle_erode(rect, 1);\n  draw_rectangle3d_soft(rect, normal_back);\n  draw_rectangle3d_soft(rect1, accent);\n  var text_pos = point_translate(vertical_center_text(rect1), 5, 0);\n  draw_label(text, text_pos);\n}\n\nfunction draw_checkbox_x(rect, color) {\n  uidraw.push_linewidth(2);\n  uidraw.push_strokestyle(make_css_color(color));\n  ui.context.beginPath();\n  ui.context.moveTo(rect.x, rect.y);\n  ui.context.lineTo(rect.x + rect.w, rect.y + rect.h);\n  ui.context.moveTo(rect.x, rect.y + rect.h);\n  ui.context.lineTo(rect.x + rect.w, rect.y);\n  ui.context.stroke();\n  uidraw.pop_strokestyle();\n  uidraw.pop_linewidth();\n}\n\nvar _checkbox_erode = 5; // originally 4\n\nfunction checkbox(rect, value) {\n  draw_rectangle3d(rect, normal_back);\n  draw_rectangle3d(rectangle_erode(rect, 1), normal_face);\n\n  if (value) {\n    //draw_rectangle3d(rectangle_erode(rect, _checkbox_erode), uidraw.accent); //  [255,0,0,255]); //  color_white);\n    draw_checkbox_x(rectangle_erode(rect, _checkbox_erode), [255, 255, 255, 255]);\n  }\n}\n\nfunction checkbox_held(rect, value) {\n  draw_rectangle3d(rect, normal_back);\n  draw_rectangle3d(rectangle_erode(rect, 1), activating_face);\n\n  if (value) {\n    //draw_rectangle3d(rectangle_erode(rect, _checkbox_erode), uidraw.activating); // color_white);\n    draw_checkbox_x(rectangle_erode(rect, _checkbox_erode), Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"])(255, 255, 255, 127));\n  } else {\n    //draw_rectangle3d(rectangle_erode(rect, _checkbox_erode), ColorP(255, 255, 255, 127));\n    draw_checkbox_x(rectangle_erode(rect, _checkbox_erode), Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"])(255, 255, 255, 127));\n  }\n}\n\nfunction checkbox_hovered(rect, value) {\n  draw_rectangle3d(rect, normal_back);\n  draw_rectangle3d(rectangle_erode(rect, 1), accent);\n\n  if (value) {\n    //draw_rectangle3d(rectangle_erode(rect, _checkbox_erode), color_white);\n    draw_checkbox_x(rectangle_erode(rect, _checkbox_erode), color_white);\n  }\n}\n\nfunction progressbar(rect, max, value) {\n  var rect2 = rectangle_erode(rect, 2);\n  draw_rectangle3d(rect, normal_back);\n  var progw = 0 | rect2.w * (value / max);\n  var progrect = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(rect2.x, rect2.y, progw, rect2.h);\n  draw_rectangle3d_soft(progrect, accent);\n}\n\nfunction draw_slider(uiid, rect, state, min, max, value, handle_label) {\n  console.assert(handle_label != null);\n  var range = 0 | max - min;\n  var rel_value = 0 | value - min;\n  var value_percent = rel_value / range;\n  var rect1 = rectangle_erode(rect, 1);\n  var rect2 = rectangle_erode(rect, 2);\n  var progw = 0 | rect2.w * value_percent;\n  var progrect = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(rect2.x, rect2.y, progw, rect2.h); // handle\n\n  var handledim = 0 | rect1.h;\n  var handlew = handledim / 4;\n  var handlepos = 0 | (rect1.w - handlew) * value_percent + handledim / 2;\n  var rectx = 0 | rect1.x + handlepos - handledim / 2;\n  var recty = 0 | rect1.y;\n  var hrect = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(rectx, recty + 1, handlew, handledim - 2);\n  draw_rectangle3d(rect, normal_back);\n  draw_rectangle3d_soft(progrect, accent);\n\n  if (state[_Held]) {\n    draw_rectangle3d(hrect, activating_face);\n  } else if (state[_Hovered]) {\n    draw_rectangle3d(hrect, raised_accent);\n  } else {\n    // normal\n    draw_rectangle3d(hrect, raised_face);\n  }\n\n  if (handle_label) {\n    var textx = 0 | rect.x + rect.w - 16;\n    var texty = 0 | hrect.y + hrect.h / 2 - 8;\n    draw_text(handle_label, textx, texty, color_white);\n  }\n}\n\nfunction draw_vslider(uiid, rect, state, min, max, value, handle_label) {\n  /*m_v8.assert_smi(rect.x);\r\n  m_v8.assert_smi(rect.y);\r\n  m_v8.assert_smi(rect.w);\r\n  m_v8.assert_smi(rect.h);\r\n  m_v8.assert_smi(state[_Hovered]);\r\n  m_v8.assert_smi(state[_Held]);\r\n  m_v8.assert_smi(min);\r\n  m_v8.assert_smi(max);\r\n  m_v8.assert_smi(value);*/\n  console.assert(handle_label != null);\n  console.assert(handle_label != undefined);\n  var range = 0 | max - min;\n  var rel_value = 0 | value - min;\n  var value_percent;\n\n  if (range == 0) {\n    // 0.4.9: support 0 range scrollbars\n    value_percent = 0;\n  } else {\n    value_percent = rel_value / range;\n  }\n\n  var rect1 = rectangle_erode(rect, 1);\n  var rect2 = rectangle_erode(rect, 2);\n  var progh = 0 | rect2.h * value_percent;\n  var progrect = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(rect2.x, rect2.y, rect2.w, progh); // handle\n\n  var handledim = 0 | rect1.w;\n  var handleh = 0 | handledim / 4;\n  var handlepos = 0 | (rect1.h - handleh) * value_percent + handledim / 2;\n  var rectx = 0 | rect1.x;\n  var recty = 0 | rect1.y + handlepos - handledim / 2;\n  var hrect = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"])(rectx + 1, recty, handledim - 2, handleh);\n  draw_rectangle3d(rect, normal_back);\n  draw_rectangle3d_soft(progrect, accent);\n\n  if (state[_Held]) {\n    draw_rectangle3d(hrect, activating_face);\n  } else if (state[_Hovered]) {\n    draw_rectangle3d(hrect, raised_accent);\n  } else {\n    // normal\n    draw_rectangle3d(hrect, raised_face);\n  }\n\n  if (handle_label) {\n    var textx = 0 | hrect.x + hrect.w / 2 - 5;\n    var texty = 0 | rect.y + rect.h - 16;\n    draw_text(handle_label, textx, texty, color_white);\n  }\n}\n\nfunction draw_checkbutton(text, rect, state, value, text_offset_x, text_offset_y) {\n  draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, draw_rectangle3d);\n}\n\nfunction draw_checkbutton_soft_right(text, rect, state, value, text_offset_x, text_offset_y) {\n  draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, draw_rectangle3d_soft_right);\n}\n\nfunction draw_checkbutton_soft_left(text, rect, state, value, text_offset_x, text_offset_y) {\n  draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, draw_rectangle3d_soft_left);\n}\n\nfunction draw_checkbutton_soft_top(text, rect, state, value, text_offset_x, text_offset_y) {\n  draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, draw_rectangle3d_soft_top);\n}\n\nfunction draw_checkbutton_soft_bottom(text, rect, state, value, text_offset_x, text_offset_y) {\n  draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, draw_rectangle3d_soft_bottom);\n}\n\nfunction draw_checkbutton_override(text, rect, state, value, text_offset_x, text_offset_y, fn_draw_rectangle) {\n  var rect1 = rectangle_erode(rect, 1);\n  fn_draw_rectangle(rect, normal_back);\n\n  if (state[_Held]) {\n    fn_draw_rectangle(rect1, activating_face);\n  } else if (state[_Hovered]) {\n    fn_draw_rectangle(rect1, accent);\n  } else {\n    // normal\n    if (value) {\n      fn_draw_rectangle(rect1, accent);\n    } else {\n      fn_draw_rectangle(rect1, normal_face);\n    }\n  }\n\n  var text_pos;\n\n  if (text_offset_x == null || text_offset_y == null) {\n    text_pos = point_translate(vertical_center_text(rect1), 3, 0);\n  } else {\n    var rect_text = rectangle_erode(rect, 1);\n    text_pos = point_translate(rect_text, text_offset_x, text_offset_y);\n  }\n\n  if (state[_Held]) {\n    text_pos.y = text_pos.y + 1;\n    draw_label(text, text_pos);\n  } else {\n    draw_label(text, text_pos);\n  }\n}\n\nfunction handle(rect) {\n  draw_rectangle(rect, normal_back);\n}\n\nfunction handle_held(rect) {\n  handle(rect);\n  draw_rectangle(rectangle_erode(rect, 1), activating_face);\n}\n\nfunction handle_hovered(rect) {\n  handle(rect);\n  draw_rectangle(rectangle_erode(rect, 1), accent);\n}\n\nfunction draw_reticle(uiid, rect, state) {\n  // todo: nolive: remove uiid param\n  push_linewidth(6);\n\n  if (state[_Held]) {\n    draw_circle_outline(rect, activating_face);\n  } else if (state[_Hovered]) {\n    draw_circle_outline(rect, accent);\n  } else {\n    draw_circle_outline(rect, normal_back);\n  }\n\n  pop_linewidth();\n  push_linewidth(2);\n  draw_circle_outline(rect, color_white);\n  pop_linewidth();\n} // StrokeStyle\n\n\nvar _stack_strokestyle = [default_line_color];\n\nfunction push_strokestyle(value) {\n  _stack_strokestyle.push(value);\n\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetStrokeStyle\"])(value); //commands.push(SetStrokeStyle, 1, value);\n}\n\nfunction pop_strokestyle() {\n  _stack_strokestyle.pop();\n\n  console.assert(_stack_strokestyle.length > 0); // default_line_color should always be there 0.4.6+\n\n  var prev = _stack_strokestyle[_stack_strokestyle.length - 1];\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetStrokeStyle\"])(prev); //commands.push(SetStrokeStyle, 1, prev);\n} // FillStyle\n\n\nvar _stack_fillstyle = [default_fill_color];\n\nfunction push_fillstyle(value) {\n  _stack_fillstyle.push(value);\n\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetFillStyle\"])(value); //commands.push(SetStrokeStyle, 1, value);\n}\n\nfunction pop_fillstyle() {\n  _stack_fillstyle.pop();\n\n  var prev = _stack_fillstyle[_stack_fillstyle.length - 1];\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetFillStyle\"])(prev); //commands.push(SetStrokeStyle, 1, prev);\n} // LineWidth\n\n\nvar _stack_linewidth = [1];\n\nfunction push_linewidth(value) {\n  _stack_linewidth.push(value);\n\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetLineWidth\"])(value); //commands.push(SetLineWidth, 1, value);\n}\n\nfunction pop_linewidth() {\n  _stack_linewidth.pop();\n\n  var prev = _stack_linewidth[_stack_linewidth.length - 1];\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetLineWidth\"])(prev); //commands.push(SetLineWidth, 1, prev);\n} // LineDash\n\n\nvar _stack_linedash = [[]];\n\nfunction push_linedash(value) {\n  console.assert(value);\n  console.assert(value != null);\n\n  _stack_linedash.push(value);\n\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetLineDash\"])(value); //commands.push(SetLineDash, 1, value);\n}\n\nfunction pop_linedash() {\n  console.assert(_stack_linedash.length > 0);\n\n  _stack_linedash.pop();\n\n  var prev = _stack_linedash[_stack_linedash.length - 1];\n  console.assert(prev != null);\n  Object(_simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"SetLineDash\"])(prev); //commands.push(SetLineDash, 1, prev);\n} //\n\n\nvar stroke = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"Stroke\"];\nvar begin_path = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"BeginPath\"];\nvar move_to = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"MoveTo\"];\nvar line_to = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"LineTo\"];\nvar begin_clip = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"BeginClip\"];\nvar end_clip = _simpleui_driver_html5_canvas_js__WEBPACK_IMPORTED_MODULE_2__[\"EndClip\"];\n\n\n//# sourceURL=webpack:///./src/simpleui_drawing.js?");

/***/ }),

/***/ "./src/simpleui_driver_html5_canvas.js":
/*!*********************************************!*\
  !*** ./src/simpleui_driver_html5_canvas.js ***!
  \*********************************************/
/*! exports provided: initialize, config, DrawBox, DrawBox3d, DrawBoxOutline, DrawBoxSoft, DrawBoxSoftRight, DrawBoxSoftLeft, DrawBoxSoftTop, DrawBoxSoftBottom, DrawBox3dSoft, DrawBox3dSoftRight, DrawBox3dSoftLeft, DrawBox3dSoftTop, DrawBox3dSoftBottom, DrawText, DrawLine, DrawCircle, DrawCircleOutline, GetCursorX, GetCursorY, GetFontSize, GetClientHeight, GetClientWidth, GetContext, GetCanvas, UpdateSize, CreateDrawboxGradient, FrameClear, SetStrokeStyle, SetFillStyle, SetLineWidth, SetLineDash, Stroke, BeginPath, MoveTo, LineTo, BeginClip, EndClip, ResetDrawTextCache, IsTouchDevice, GetTextWidth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"config\", function() { return config; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox\", function() { return DrawBox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3d\", function() { return DrawBox3d; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxOutline\", function() { return DrawBoxOutline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxSoft\", function() { return DrawBoxSoft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxSoftRight\", function() { return DrawBoxSoftRight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxSoftLeft\", function() { return DrawBoxSoftLeft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxSoftTop\", function() { return DrawBoxSoftTop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBoxSoftBottom\", function() { return DrawBoxSoftBottom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3dSoft\", function() { return DrawBox3dSoft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3dSoftRight\", function() { return DrawBox3dSoftRight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3dSoftLeft\", function() { return DrawBox3dSoftLeft; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3dSoftTop\", function() { return DrawBox3dSoftTop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawBox3dSoftBottom\", function() { return DrawBox3dSoftBottom; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawText\", function() { return DrawText; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawLine\", function() { return DrawLine; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawCircle\", function() { return DrawCircle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DrawCircleOutline\", function() { return DrawCircleOutline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetCursorX\", function() { return GetCursorX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetCursorY\", function() { return GetCursorY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetFontSize\", function() { return GetFontSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetClientHeight\", function() { return GetClientHeight; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetClientWidth\", function() { return GetClientWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetContext\", function() { return GetContext; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetCanvas\", function() { return GetCanvas; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateSize\", function() { return UpdateSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateDrawboxGradient\", function() { return CreateDrawboxGradient; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FrameClear\", function() { return FrameClear; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SetStrokeStyle\", function() { return SetStrokeStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SetFillStyle\", function() { return SetFillStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SetLineWidth\", function() { return SetLineWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SetLineDash\", function() { return SetLineDash; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Stroke\", function() { return Stroke; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BeginPath\", function() { return BeginPath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MoveTo\", function() { return MoveTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LineTo\", function() { return LineTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BeginClip\", function() { return BeginClip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EndClip\", function() { return EndClip; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResetDrawTextCache\", function() { return ResetDrawTextCache; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IsTouchDevice\", function() { return IsTouchDevice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetTextWidth\", function() { return GetTextWidth; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _bmfont_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bmfont.js */ \"./src/bmfont.js\");\n/* harmony import */ var _bmfont_definition_mana16_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./bmfont_definition_mana16.js */ \"./src/bmfont_definition_mana16.js\");\n/* harmony import */ var _images_mana16_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./images/mana16.png */ \"./src/images/mana16.png\");\n/* harmony import */ var _images_mana16_png__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_images_mana16_png__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nvar bmfont_mana16 = Object(_bmfont_js__WEBPACK_IMPORTED_MODULE_3__[\"parseBMFontAscii\"])(_bmfont_definition_mana16_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\nvar bmfont_mana16_img = new Image(512, 81);\nbmfont_mana16_img.src = _images_mana16_png__WEBPACK_IMPORTED_MODULE_5___default.a;\nvar _r = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_r\"];\nvar _g = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_g\"];\nvar _b = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_b\"];\nvar _a = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_a\"]; // these are set in initialize\n\nvar context;\nvar canvas;\n\nvar _mouse_pos = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Point\"](0 | -1, 0 | -1); // -1 to put it out of bounds... idk\n\n\nfunction on_mouse_move(evt) {\n  _mouse_pos.x = 0 | evt.offsetX;\n  _mouse_pos.y = 0 | evt.offsetY;\n}\n\nfunction on_mouse_down(evt) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousepressed\"](evt.clientX, evt.clientY, evt.button);\n}\n\nfunction on_mouse_up(evt) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousereleased\"](evt.clientX, evt.clientY, evt.button);\n} // meh\n\n\nfunction on_touch_start(evt) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousepressed\"](evt.clientX, evt.clientY, _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_left\"]);\n}\n\nfunction on_touch_end(evt) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"on_mousereleased\"](evt.clientX, evt.clientY, _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_left\"]);\n}\n/* -------------------------------------------------------------------------- */\n\n\nfunction GetCursorX() {\n  return 0 | _mouse_pos.x;\n}\n\nfunction GetCursorY() {\n  return 0 | _mouse_pos.y;\n}\n\nfunction GetFontSize() {\n  return 0 | 14;\n}\n\nfunction DrawText_Stroke(text, x, y, color) {\n  var fontsize = GetFontSize();\n\n  if (color == null) {\n    // todo: lose this kind of overloading for perf reasons\n    color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"](255, 255, 255, 255);\n  }\n\n  context.font = \"16px Arial\";\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  var yoffset = fontsize;\n  context.fillText(text, x, y + yoffset);\n}\n\nfunction DrawText_Bitmap(text, x, y, color) {\n  for (var i = 0; i < text.length; i++) {\n    var idx = text.charCodeAt(i);\n    var def = bmfont_mana16.chars[idx - 31]; // replace unknown chars with ?\n\n    if (!def) {\n      idx = \"?\".charCodeAt(0);\n      def = bmfont_mana16.chars[idx - 31];\n    }\n\n    context.drawImage(bmfont_mana16_img, def.x, def.y, def.width, def.height, x + def.xoffset, y + def.yoffset, def.width, def.height);\n    x += def.xadvance;\n  }\n}\n\nfunction GetTextWidth_Bitmap(text) {\n  var w = 0;\n\n  for (var i = 0; i < text.length; i++) {\n    var idx = text.charCodeAt(i);\n    var def = bmfont_mana16.chars[idx - 31]; // replace unknown chars with ?\n\n    if (!def) {\n      idx = \"?\".charCodeAt(0);\n      def = bmfont_mana16.chars[idx - 31];\n    }\n    /*context.drawImage(\r\n        bmfont_mana16_img,\r\n        def.x, def.y, def.width, def.height,\r\n        x + def.xoffset, y + def.yoffset, def.width, def.height\r\n    );*/\n\n\n    w += def.xadvance;\n  }\n\n  return w;\n}\n\nfunction GetTextWidth(text) {\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_bitmap) {\n    return GetTextWidth_Bitmap(text);\n  } else {\n    console.warn('Using bitmap width for truetype, nolive.');\n    return GetTextWidth_Bitmap(text);\n  }\n} // new idea, cache bitmaps instead of worrying about batching\n\n\nvar _drawtext_cache = {};\n\nfunction DrawText_Cached(text, x, y, color) {\n  // draw normal if it's a number?\n  //return DrawText_Original(text, x, y, color);\n  //return;\n  var key = text;\n\n  if (!(key in _drawtext_cache)) {\n    var prev_context = context;\n    var prev_canvas = canvas;\n    var cv = document.createElement('canvas');\n    var ctx = cv.getContext('2d');\n    ctx.imageSmoothingEnabled = false; //cv.width = text.length * 10; // < 0.5.0        \n\n    cv.width = GetTextWidth(text); // >= 0.5.0\n\n    cv.height = 20; //document.body.appendChild(cv);\n\n    var o = {\n      'canvas': cv,\n      'context': ctx\n    }; // draw into custom\n\n    canvas = o.canvas;\n    context = o.context;\n    {\n      DrawText_Bitmap(text, 0, 0, color);\n    }\n    context = prev_context;\n    canvas = prev_canvas;\n    _drawtext_cache[key] = o;\n  } // now just draw the cached canvas onto screen canvas\n\n\n  context.drawImage(_drawtext_cache[key].canvas, x, y);\n}\n\nfunction DrawText_Dynamic(text, x, y, color) {\n  // 10-12 ms ff\n  if (text == '') return; // canvas drawImage wont draw if image is 0x0\n\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawtext_bitmap) {\n    if (true) {\n      DrawText_Cached(text + '', x, y, color);\n    } else {}\n  } else {\n    DrawText_Stroke(text + '', x, y, color);\n  }\n}\n\nvar DrawText = DrawText_Dynamic; // cached works now, and does increase performance.\n//let _gradient_bitmap;\n//let _gradient_bitmap_requested = 0 | false;\n\nfunction _DrawBoxGradient(x, y, w, h) {\n  //let use_gradient = 0 | ui.config.drawbox_gradient_enable;\n  //if (!use_gradient) return;\n  //if (_gradient_bitmap) {        \n  //if ( 0 | w > 200 || h > 200) {\n  //use_gradient = false;\n  //} else {            \n\n  /*context.drawImage( // sllllooooooooooooooooooooooow\r\n      _gradient_bitmap,                \r\n      1, 1, w - 2, h - 2,\r\n      x + 1, y + 1, w - 2, h - 2,\r\n  );*/\n  context.translate(0 | x, 0 | y); // slow\n\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawbox_gradient; // slow\n\n  context.fillRect(0 | 1, 0 | 1, 0 | w - 2, 0 | h - 2); // fast\n\n  context.translate(0 | -x, 0 | -y); // slow\n  //        }\n\n  /*} else {\r\n      if (_gradient_bitmap_requested) {\r\n          // pass\r\n      } else {            \r\n          const grad_canvas = new OffscreenCanvas(200, 200);\r\n          const grad_context = grad_canvas.getContext('2d');\r\n          grad_context.fillStyle = ui.config.drawbox_gradient;\r\n          //grad_context.fillRect(1,1,w-2,h-2); // cant do this for texture, needs to happen before this call\r\n          grad_context.fillRect(0,0,w,h);            \r\n          createImageBitmap(grad_canvas).then(function(bmp) {\r\n              _gradient_bitmap = bmp;            \r\n          });\r\n          _gradient_bitmap_requested = 0 | true;\r\n      }\r\n  }*/\n}\n\nfunction DrawBox(rect, color) {\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color); // wish: push/pop? or is it a perf problem?\n\n  context.fillRect(rect.x, rect.y, rect.w, rect.h);\n}\n\nfunction DrawBox3d(rect, color) {\n  DrawBox(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawBoxOutline(rect, color) {\n  context.strokeStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n\n  if (context.lineWidth % 2 == 0) {\n    context.strokeRect(rect.x, rect.y, rect.w, rect.h);\n  } else {\n    context.strokeRect(rect.x - 0.5, rect.y - 0.5, rect.w, rect.h);\n  }\n}\n\nfunction DrawBoxSoft(rect, color) {\n  var x = 0 | rect.x; // aliases like this dont seem to be a perf issue\n\n  var y = 0 | rect.y;\n  var w = 0 | rect.w;\n  var h = 0 | rect.h;\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  context.fillRect(x, y + 1, w, h - 1 * 2); // mid\n  // top\n\n  context.fillRect(x + 1, y, w - 1 * 2, 1); // bot\n\n  context.fillRect(x + 1, y + h - 1, w - 1 * 2, 1);\n}\n\nfunction DrawBox3dSoft(rect, color) {\n  DrawBoxSoft(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawBoxSoftRight(rect, color) {\n  var x = 0 | rect.x;\n  var y = 0 | rect.y;\n  var w = 0 | rect.w;\n  var h = 0 | rect.h;\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  var lines = 1; // adjustor\n\n  context.fillRect(x, y + lines, w, h - lines * 2); // mid\n  // faster than making a path, in pixi anyway\n\n  var i = 1;\n  var top_x1 = x + i - 1;\n  var top_y1 = y + (lines - i);\n  var top_w = w - i * 2 + 1;\n  context.fillRect(top_x1, top_y1, top_w, 1); //top\n\n  var bot_x1 = x + i - 1;\n  var bot_y1 = y + h - 1 - (lines - i);\n  var bot_w = w - i * 2 + 1;\n  context.fillRect(bot_x1, bot_y1, bot_w, 1); //bot   \n}\n\nfunction DrawBox3dSoftRight(rect, color) {\n  DrawBoxSoftRight(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawBoxSoftLeft(rect, color) {\n  var x = 0 | rect.x;\n  var y = 0 | rect.y;\n  var w = 0 | rect.w;\n  var h = 0 | rect.h;\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  var lines = 1; // adjustor\n\n  context.fillRect(x, y + lines, w, h - lines * 2); // mid\n  // faster than making a path, in pixi anyway\n\n  var i = 1;\n  var top_x1 = x + i - 0;\n  var top_y1 = y + (lines - i);\n  var top_w = w - i * 2 + 1;\n  context.fillRect(top_x1, top_y1, top_w, 1); //top\n\n  var bot_x1 = x + i - 0;\n  var bot_y1 = y + h - 1 - (lines - i);\n  var bot_w = w - i * 2 + 1;\n  context.fillRect(bot_x1, bot_y1, bot_w, 1); //bot\n}\n\nfunction DrawBox3dSoftLeft(rect, color) {\n  DrawBoxSoftLeft(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawBoxSoftTop(rect, color) {\n  var x = 0 | rect.x;\n  var y = 0 | rect.y;\n  var w = 0 | rect.w;\n  var h = 0 | rect.h;\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  var lines = 1; // adjustor\n\n  context.fillRect(x, y + lines, w, h - lines * 2); // mid\n  // faster than making a path, in pixi anyway\n\n  var i = 1;\n  var top_x1 = x + i;\n  var top_y1 = y + (lines - i);\n  var top_w = w - i * 2;\n  context.fillRect(top_x1, top_y1, top_w, 1); //top\n\n  var bot_x1 = x + i - 1;\n  var bot_y1 = y + h - 1 - (lines - i);\n  var bot_w = w - i * 2 + 2;\n  context.fillRect(bot_x1, bot_y1, bot_w, 1); //bot\n}\n\nfunction DrawBox3dSoftTop(rect, color) {\n  DrawBoxSoftTop(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawBoxSoftBottom(rect, color) {\n  var x = 0 | rect.x;\n  var y = 0 | rect.y;\n  var w = 0 | rect.w;\n  var h = 0 | rect.h;\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  var lines = 1; // adjustor\n\n  context.fillRect(x, y + lines, w, h - lines * 2); // mid\n  // faster than making a path, in pixi anyway\n\n  var i = 1;\n  var top_x1 = x + i - 1;\n  var top_y1 = y + (lines - i);\n  var top_w = w - i * 2 + 2;\n  context.fillRect(top_x1, top_y1, top_w, 1); //top\n\n  var bot_x1 = x + i;\n  var bot_y1 = y + h - 1 - (lines - i);\n  var bot_w = w - i * 2;\n  context.fillRect(bot_x1, bot_y1, bot_w, 1); //bot\n}\n\nfunction DrawBox3dSoftBottom(rect, color) {\n  DrawBoxSoftBottom(rect, color);\n\n  _DrawBoxGradient(0 | rect.x, 0 | rect.y, 0 | rect.w, 0 | rect.h);\n}\n\nfunction DrawCircle(rect, color) {\n  var radius = 0 | rect.w / 2;\n  var cx = 0 | rect.x + radius;\n  var cy = 0 | rect.y + radius;\n  context.beginPath();\n  context.fillStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  context.arc(cx, cy, radius, 0, 2 * Math.PI, false);\n  context.fill();\n}\n\nfunction DrawCircleOutline(rect, color) {\n  var radius = 0 | rect.w / 2;\n  var cx = 0 | rect.x + radius;\n  var cy = 0 | rect.y + radius;\n  context.beginPath();\n  context.strokeStyle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color);\n  context.arc(cx, cy, radius, 0, 2 * Math.PI, false);\n  context.stroke();\n}\n\nfunction DrawLine(x1, y1, x2, y2) {\n  x1 = 0 | x1;\n  y1 = 0 | y1;\n  x2 = 0 | x2;\n  y2 = 0 | y2;\n  context.beginPath();\n  context.moveTo(x1, y1);\n  context.lineTo(x2, y2);\n  context.stroke();\n}\n/* */\n\n\nfunction initialize(canvas_id) {\n  canvas = document.getElementById(canvas_id);\n  console.assert(canvas);\n  context = canvas.getContext('2d', {\n    alpha: false\n  });\n  context.imageSmoothingEnabled = false; // i wanted to draw aliased/jagged lines on html5 canvas, but it's not possible (except manually)\n  //\n  // imageSmoothingEnabled applies to pattern fills and drawImage, it does not affect general anti-aliasing. \n  // 0.4.4+ changing false third param to true to get closer to truth\n\n  canvas.addEventListener('mousemove', on_mouse_move, true); // touch move? (NO!)\n\n  canvas.addEventListener('mousedown', on_mouse_down, true);\n  canvas.addEventListener('touchstart', on_touch_start, {\n    capture: true,\n    passive: true\n  });\n  canvas.addEventListener('mouseup', on_mouse_up, true);\n  canvas.addEventListener('touchend', on_touch_end, true); // disable default canvas right click\n\n  canvas.addEventListener(\"contextmenu\", function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    return false;\n  }, true);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawbox_gradient = CreateDrawboxGradient(context, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].x2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].y2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"box_gradient\"].color_stop2);\n}\n\nfunction GetClientWidth() {\n  return 0 | canvas.width;\n}\n\nfunction GetClientHeight() {\n  return 0 | canvas.height;\n}\n\nfunction GetContext() {\n  return context;\n}\n\nfunction GetCanvas() {\n  return canvas;\n}\n\nfunction UpdateSize() {\n  // todo: move canvas_size_hack into this driver, expose options object with it\n  canvas.width = window.innerWidth - app.canvas_size_hack;\n  canvas.height = window.innerHeight - app.canvas_size_hack;\n}\n\nfunction CreateDrawboxGradient(context, x1, y1, x2, y2, input_color1, input_color2) {\n  var color1;\n  var color2; // ok, so firefox renders gradients WILDLY differently, something different with alpha\n\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"is_browser_gecko\"]()) {\n    color1 = Color(input_color1[_r], input_color1[_g], input_color1[_b], 0 | input_color1[_a] / 2);\n    color2 = Color(input_color2[_r], input_color2[_g], input_color2[_b], 0 | input_color2[_a] / 2);\n  } else {\n    color1 = input_color1;\n    color2 = input_color2;\n  }\n\n  console.assert(context);\n  var grd = context.createLinearGradient(x1, y1, x2, y2);\n  grd.addColorStop(0.0, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color1));\n  grd.addColorStop(1.0, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](color2));\n  return grd;\n}\n\nfunction FrameClear() {\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_fillstyle\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"bg_color\"]));\n  context.fillRect(0, 0, canvas.width, canvas.height);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_fillstyle\"]();\n  /*context.beginPath();\r\n  context.fillStyle = make_css_color(uidraw.bg_color);\r\n  context.rect(0, 0, canvas.width, canvas.height);\r\n  context.fill();\r\n  context.closePath();*/\n}\n\nfunction SetStrokeStyle(value) {\n  context.strokeStyle = value;\n}\n\nfunction SetFillStyle(value) {\n  context.fillStyle = value;\n}\n\nfunction SetLineWidth(value) {\n  context.lineWidth = value;\n}\n\nfunction SetLineDash(value) {\n  context.setLineDash(value);\n}\n\nfunction Stroke() {\n  context.stroke();\n}\n\nfunction BeginPath() {\n  context.beginPath();\n}\n\nfunction MoveTo(x, y) {\n  context.moveTo(x, y);\n}\n\nfunction LineTo(x, y) {\n  context.lineTo(x, y);\n}\n\nfunction BeginClip(rect) {\n  context.save();\n  context.beginPath();\n  context.rect(rect.x, rect.y, rect.w, rect.h);\n  context.clip();\n}\n\nfunction EndClip() {\n  context.restore();\n}\n\nvar config = {\n  has_drawbox_gradient: 0 | true\n};\n\nfunction ResetDrawTextCache() {\n  _drawtext_cache = {};\n} // https://stackoverflow.com/a/36673184\n\n\nfunction IsTouchDevice() {\n  return navigator.maxTouchPoints || 'ontouchstart' in document.documentElement;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_driver_html5_canvas.js?");

/***/ }),

/***/ "./src/simpleui_ex_gradient.js":
/*!*************************************!*\
  !*** ./src/simpleui_ex_gradient.js ***!
  \*************************************/
/*! exports provided: do_gradient_stroke_edit, initialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_gradient_stroke_edit\", function() { return do_gradient_stroke_edit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"]; //const _vertical = consts._vertical;\n//const _horizontal = consts._horizontal;\n\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar css_line_color2;\nvar css_line_color1;\n\nfunction initialize() {\n  css_line_color2 = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])(Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(255, 255, 255, 255));\n  css_line_color1 = Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"])(Object(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"])(0, 0, 0, 255));\n}\n\nfunction do_gradient_stroke_edit(uiid, min, max, x1, y1, x2, y2) {\n  var _;\n\n  var min_x = 0 | min;\n  var min_y = 0 | min;\n  var max_x = 0 | max;\n  var max_y = 0 | max;\n  var dim_w = max_x - min_x;\n  var dim_h = max_y - min_y;\n  var dim_w_half = 0 | dim_w / 2;\n  var dim_h_half = 0 | dim_h / 2;\n  var dim_w_quarter = 0 | dim_w / 4;\n  var dim_h_quarter = 0 | dim_h / 4;\n  var grab_dim = 20;\n  var grab_dim_half = 0 | grab_dim / 2;\n  var changed = 0 | false;\n  var result_x1 = 0 | x1;\n  var result_y1 = 0 | y1;\n  var result_x2 = 0 | x2;\n  var result_y2 = 0 | y2;\n  var layout = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none);\n  {\n    var p1_x = x1 - min_x;\n    var p1_y = y1 - min_y;\n    var p2_x = x2 - min_x;\n    var p2_y = y2 - min_y; // background\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](RectangleP(layout.x, layout.y, dim_w, dim_h), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]); // grid lines\n\n    var stroke_color_object = ColorP(255, 255, 255, 100); //const stroke_color = make_css_color(stroke_color_object);\n    //uidraw.push_strokestyle(stroke_color);\n    //uidraw.line(layout.x + dim_w_half, layout.y, layout.x + dim_w_half, layout.y + dim_h);\n    //uidraw.line(layout.x, layout.y + dim_h_half, layout.x + dim_w, layout.y + dim_h_half);\n\n    var y_mid = layout.y + dim_h_half;\n    var y_top = layout.y + 1;\n    var x_mid = layout.x + dim_w_half;\n    var x_left = layout.x; // straight lines with rectangles, wish: maybe add hline/vline\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(x_mid, y_top, 1, dim_h - 2), stroke_color_object);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(x_left, y_mid, dim_w - 2, 1), stroke_color_object); //uidraw.pop_strokestyle();\n    // gradient swatch\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle3d\"](RectangleP(layout.x + dim_w_quarter, layout.y + dim_h_quarter, dim_w_half, dim_h_half), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]); // line between points 1     \n    // --->\n\n    var handle1_rect = RectangleP(p1_x - grab_dim_half, p1_y - grab_dim_half, grab_dim, grab_dim);\n    var handle2_rect = RectangleP(p2_x - grab_dim_half, p2_y - grab_dim_half, grab_dim, grab_dim);\n    var dx = handle2_rect.x - handle1_rect.x;\n    var dy = handle2_rect.y - handle1_rect.y;\n    var radians = Math.atan2(dx, dy);\n    var pt = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"angled_norm_line\"](radians, grab_dim_half);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](3);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](css_line_color1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](layout.x + p1_x + pt.x, layout.y + p1_y + pt.y, layout.x + p2_x - pt.x, layout.y + p2_y - pt.y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"](); // line between points 2\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linedash\"]([2, 2]);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](css_line_color2);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](layout.x + p1_x + pt.x, layout.y + p1_y + pt.y, layout.x + p2_x - pt.x, layout.y + p2_y - pt.y);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linedash\"](); // <---\n\n    var uiid_pt1 = uiid + '-pt1';\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"reticle\"](uiid_pt1, handle1_rect, p1_x, p1_y);\n\n    if (_.changed) {\n      changed = 0 | changed | _.changed;\n      result_x1 = 0 | Math.min(max_x, Math.max(min_x, _.x1 + min_x));\n      result_y1 = 0 | Math.min(max_y, Math.max(min_y, _.y1 + min_y));\n    }\n\n    var uiid_pt2 = uiid + '-pt2';\n    _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"reticle\"](uiid_pt2, handle2_rect, p2_x, p2_y);\n\n    if (_.changed) {\n      changed = 0 | changed | _.changed;\n      result_x2 = 0 | Math.min(max_x, Math.max(min_x, _.x1 + min_x));\n      result_y2 = 0 | Math.min(max_y, Math.max(min_y, _.y1 + min_y));\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](dim_w, 0);\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      changed: 0 | false,\n      x1: 0 | x1,\n      y1: 0 | y1,\n      x2: 0 | x2,\n      y2: 0 | y2\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.x1 = 0 | result_x1;\n  state.y1 = 0 | result_y1;\n  state.x2 = 0 | result_x2;\n  state.y2 = 0 | result_y2;\n  return state;\n  /*return [\r\n      0 | changed,\r\n      0 | result_x1,\r\n      0 | result_y1,\r\n      0 | result_x2,\r\n      0 | result_y2\r\n  ];*/\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_gradient.js?");

/***/ }),

/***/ "./src/simpleui_ex_gridfont.js":
/*!*************************************!*\
  !*** ./src/simpleui_ex_gridfont.js ***!
  \*************************************/
/*! exports provided: do_gridfont, initialize */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_gridfont\", function() { return do_gridfont; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initialize\", function() { return initialize; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\nvar _hintFour;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar Color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Color\"];\nvar _gridfonts = {\n  'hint-four': (_hintFour = {}, _defineProperty(_hintFour, ' ', []), _defineProperty(_hintFour, \"a\", [[0, 2, 1, 2], [1, 2, 2, 3], [2, 3, 1, 4], [1, 4, 0, 3], [0, 3, 1, 3]]), _defineProperty(_hintFour, \"b\", [[0, 0, 0, 1], [0, 1, 0, 2], [0, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 3], [2, 3, 1, 2]]), _defineProperty(_hintFour, \"c\", [[1, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 4]]), _defineProperty(_hintFour, \"d\", [[2, 0, 2, 1], [2, 1, 2, 2], [2, 2, 2, 3], [2, 3, 1, 4], [1, 4, 0, 3], [0, 3, 1, 2]]), _defineProperty(_hintFour, \"e\", [[1, 3, 2, 3], [2, 3, 1, 2], [1, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 4]]), _defineProperty(_hintFour, \"f\", [[2, 0, 1, 1], [1, 1, 1, 2], [1, 2, 1, 3], [1, 3, 1, 4], [0, 2, 1, 2]]), _defineProperty(_hintFour, \"g\", [[1, 4, 0, 3], [0, 3, 1, 2], [1, 2, 2, 3], [2, 3, 2, 4], [2, 4, 2, 5], [2, 5, 1, 6]]), _defineProperty(_hintFour, \"h\", [[0, 0, 0, 1], [0, 1, 0, 2], [0, 2, 0, 3], [0, 3, 1, 2], [1, 2, 2, 3], [2, 3, 2, 4]]), _defineProperty(_hintFour, \"i\", [[1, 2, 1, 3], [1, 3, 1, 4], [1, 1, 2, 0]]), _defineProperty(_hintFour, \"j\", [[1, 2, 1, 3], [1, 3, 1, 4], [1, 4, 1, 5], [1, 5, 0, 6], [1, 1, 2, 0]]), _defineProperty(_hintFour, \"k\", [[0, 0, 0, 1], [0, 1, 0, 2], [0, 2, 0, 3], [0, 3, 1, 3], [1, 3, 2, 2], [1, 3, 2, 4]]), _defineProperty(_hintFour, \"l\", [[1, 0, 1, 1], [1, 1, 1, 2], [1, 2, 1, 3], [1, 3, 2, 4]]), _defineProperty(_hintFour, \"m\", [[0, 4, 0, 3], [0, 3, 1, 2], [1, 2, 2, 3], [2, 3, 2, 4], [1, 3, 1, 4]]), _defineProperty(_hintFour, \"n\", [[0, 4, 0, 3], [0, 3, 1, 2], [1, 2, 2, 3], [2, 3, 2, 4]]), _defineProperty(_hintFour, \"o\", [[0, 2, 1, 2], [1, 2, 2, 3], [2, 3, 1, 4], [1, 4, 0, 3]]), _defineProperty(_hintFour, \"p\", [[0, 6, 0, 5], [0, 5, 0, 4], [0, 4, 0, 3], [0, 3, 1, 2], [1, 2, 2, 3], [2, 3, 1, 4]]), _defineProperty(_hintFour, \"q\", [[2, 6, 2, 5], [2, 5, 2, 4], [2, 4, 2, 3], [2, 3, 1, 2], [1, 2, 0, 3], [0, 3, 1, 4]]), _defineProperty(_hintFour, \"r\", [[0, 4, 0, 3], [0, 3, 1, 2], [1, 2, 2, 2]]), _defineProperty(_hintFour, \"s\", [[1, 2, 0, 3], [0, 3, 1, 3], [1, 3, 2, 3], [2, 3, 1, 4], [1, 4, 0, 4]]), _defineProperty(_hintFour, \"t\", [[1, 1, 1, 2], [1, 2, 1, 3], [1, 3, 1, 4], [1, 4, 2, 3], [0, 2, 1, 2]]), _defineProperty(_hintFour, \"u\", [[0, 2, 0, 3], [0, 3, 0, 4], [0, 4, 1, 4], [1, 4, 2, 3], [2, 3, 2, 2]]), _defineProperty(_hintFour, \"v\", [[0, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 3], [2, 3, 2, 2]]), _defineProperty(_hintFour, \"w\", [[0, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 3], [2, 3, 2, 2], [1, 2, 1, 3]]), _defineProperty(_hintFour, \"x\", [[0, 2, 1, 3], [1, 3, 2, 4], [2, 2, 1, 3], [1, 3, 0, 4]]), _defineProperty(_hintFour, \"y\", [[0, 2, 0, 3], [0, 3, 1, 4], [1, 4, 2, 3], [2, 3, 2, 4], [2, 4, 2, 5], [2, 5, 1, 6]]), _defineProperty(_hintFour, \"z\", [[1, 2, 2, 2], [2, 2, 1, 3], [1, 3, 0, 4], [0, 4, 1, 4], [1, 4, 2, 4]]), _hintFour)\n};\nvar _f = _gridfonts['hint-four']; // list of segments, each segment is a standalone stroke from x1,y1 to x2,y2\n\nvar _gridfont_chars_a = 'abcdefghijklmnopqrstuvwxyz '.split('');\n\nvar _gridfont_chars = {};\n\nfor (var i = 0; i < _gridfont_chars_a.length; i++) {\n  _gridfont_chars[_gridfont_chars_a[i]] = 0 | true;\n}\n\nvar _gridfont_gradient;\n\nfunction initialize() {\n  if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].config.has_drawbox_gradient) {\n    _gridfont_gradient = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].CreateDrawboxGradient(_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetContext(), 400, 400, 1000, 1000, Color(0x00, 0xB5, 0xE3, 255), Color(255, 0, 255, 255));\n  }\n} // http://cogsci.indiana.edu/gridfonts.html\n// see also: hershey fonts: http://sol.gfxile.net/hershey/fontprev.html\n\n\nfunction do_gridfont(uiid, s, name, x, y, scale, reset) {\n  var a = s.split('');\n  var complete = 0 | true;\n  var reset_complete = 0 | true;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1.5);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](_gridfont_gradient);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n\n  for (var _i = 0; _i < a.length; _i++) {\n    var letter = a[_i];\n\n    if (!_gridfont_chars[letter]) {\n      letter = ' ';\n    }\n\n    var x_letter = 0 | x + _i * (scale * 3);\n\n    var _ = do_gridfont_letter(uiid + '-letter-' + _i, name, x_letter, y, letter, scale, reset);\n\n    complete = complete && _.complete;\n    reset_complete = reset_complete && _.reset_complete;\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      complete: 0 | false,\n      reset_complete: 0 | false\n    });\n  }\n\n  state.complete = 0 | complete;\n  state.reset_complete = 0 | reset_complete;\n  return state; //return [complete, reset_complete];\n}\n\nfunction do_gridfont_letter(uiid, name, x, y, letter, scale, reset) {\n  console.assert(name);\n  console.assert(letter);\n  console.assert(reset != null);\n  console.assert(reset != undefined);\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      complete: 0 | false,\n      reset_complete: 0 | false,\n      segment: 0 | 1,\n      partial: 0 | 0\n    });\n  }\n\n  var fl = _f[letter]; // font letter\n\n  var segment = state.segment;\n  var partial = state.partial; // draw lines up to segment count\n  // sometimes segment is > fl.length due to prev frame    \n\n  if (segment <= fl.length) {\n    for (var _i2 = 0; _i2 < segment; _i2++) {\n      var a1 = 0 | fl[_i2][0];\n      var b1 = 0 | fl[_i2][1];\n      var a2 = 0 | fl[_i2][2];\n      var b2 = 0 | fl[_i2][3];\n      var x1 = 0 | x + a1 * scale;\n      var y1 = 0 | y + b1 * scale;\n      var x2 = 0 | x + a2 * scale;\n      var y2 = 0 | y + b2 * scale;\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x1, y1);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x2, y2);\n    }\n  } // now draw current line... over multiple frames...\n  // when complete then increment segment...\n\n\n  if (segment < fl.length) {\n    var _i3 = segment;\n\n    var _a = 0 | fl[_i3][0];\n\n    var _b = 0 | fl[_i3][1];\n\n    var _a2 = 0 | fl[_i3][2];\n\n    var _b2 = 0 | fl[_i3][3];\n\n    var _x = 0 | x + _a * scale;\n\n    var _y = 0 | y + _b * scale;\n\n    var _x2 = 0 | x + _a2 * scale;\n\n    var _y2 = 0 | y + _b2 * scale;\n\n    var dx = 0 | _x2 - _x;\n    var dy = 0 | _y2 - _y;\n    var p1 = 0 | _x + dx * partial / 10;\n    var p2 = 0 | _y + dy * partial / 10;\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].moveTo(_x, _y);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].lineTo(p1, p2); // i promoted partial from float to int, so new partial 1 == old partial 0.1\n    // this means some of the logic changes from 1 to 10, and i divide by 10 for local calcs\n    // the goal is to avoid float, avoid deopt, avoid heap\n\n    state.partial = 0 | state.partial + 1; //0.033 * 3;\n\n    partial = state.partial; // blah.\n\n    if (partial >= 10) {\n      /*let leftover = partial - 10;\r\n      if (leftover > 0) {\r\n          // later: leftovers! :-)\r\n      }*/\n      state.partial = 0 | 0;\n      state.segment = 0 | state.segment + 1;\n    }\n  } // keeping these out of an if block to avoid weird jit deopt\n\n\n  state.segment = 0 | reset ? 1 : state.segment;\n  state.partial = 0 | reset ? 0 : state.partial;\n  state.reset_complete = 0 | reset ? true : state.reset_complete;\n  state.complete = 0 | segment >= fl.length;\n  return state;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_gridfont.js?");

/***/ }),

/***/ "./src/simpleui_ex_linestar.js":
/*!*************************************!*\
  !*** ./src/simpleui_ex_linestar.js ***!
  \*************************************/
/*! exports provided: do_linestar_edit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_linestar_edit\", function() { return do_linestar_edit; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n/* harmony import */ var _simpleui_ex_slider2d_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./simpleui_ex_slider2d.js */ \"./src/simpleui_ex_slider2d.js\");\n\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar PointP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"PointP\"];\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar ends = [];\n/*\r\nthis function seems to show an interesting performance issue with simpleui > 0.3.1\r\n\r\nwith new deferred commands rendering, performance chokes after a high number of commands here\r\n\r\nmaybe the commands could be made smaller:\r\neg. (beginpath, 1, move_to, 4,x1,y1,x2,y2, line_to, 4,x3,y3,x4,y4) // 14 elements\r\nto. (path, 8, x1, y1, x2, y2, x3, y3, x4, y4) // 10 elements\r\n(it's a significant percentage but probably not enough for me)\r\n\r\ni think this is happening because some stack/buffer limit is reached and jit deopts\r\n\r\ngiant commands buffer = bad performance\r\n\r\nimmediate rendering benefits from extra closeness to cpu\r\n\r\nyou should be able to choose deferred or immediate rendering\r\nnot just deferred, not just immediate\r\nalthough if i have to pick one i should probably go immediate\r\n\r\ni think... support both, eventually, but probably default to immediate for a long while\r\n\r\nBUT, still use a uidraw layer of indirection (not directly calling on context)\r\nAND, still use push_/pop_ uidraw api instead of sets\r\n*/\n\nfunction draw_star(uiid, segments, joints, webs, rings) {\n  ends.length = 0;\n  var incr = Math.PI * 2 / segments;\n\n  for (var i = 0; i < segments; i++) {\n    var rad = i * incr;\n    var pt = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"angled_norm_line\"](rad, 200);\n    ends.push(pt);\n  }\n\n  var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n  var stroke_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](ColorP(200, 220, 200, 127));\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](stroke_color); // webs\n\n  webs = Math.min(webs, joints);\n\n  if (webs > 0) {\n    for (var i0 = 0; i0 < ends.length; i0++) {\n      var pt0 = ends[i0];\n      var x0 = pt0.x;\n      var y0 = pt0.y; // begin\n\n      var i1 = (i0 + 1) % ends.length;\n      var pt1 = ends[i1];\n      var x1 = pt1.x;\n      var y1 = pt1.y;\n\n      for (var j = 0; j < webs; j++) {\n        var p0 = (j + 1) / joints;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](peek.x + x0 * p0, peek.y + y0 * p0);\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](peek.x + x1 * p0, peek.y + y1 * p0); //console.log(x0*p0, y0*p0, x1*p0, y1*p0);\n      }\n    }\n  } // rings\n\n  /*\r\n  agg::ellipse e;\r\n  for (int j=0;j<rings;j++)\r\n  {\r\n      double p0 = (j+1)/(double)joints;\r\n      e.init(0, 0, p0, p0, 100);\r\n      //agg::conv_stroke<agg::ellipse> e_stroke(e);\r\n        agg::conv_transform<\r\n          agg::ellipse,\r\n          agg::trans_affine>\r\n              trans_e(e, matrix);\r\n        agg::conv_stroke<\r\n          agg::conv_transform<\r\n              agg::ellipse,\r\n              agg::trans_affine>>\r\n                  e_stroke(trans_e);\r\n        ras.add_path(e_stroke);\r\n      //path->move_to(0, p0);\r\n      //path->arc_rel(0, 0, 4, false, false, p0, p0);\r\n      //path->arc_rel(p0, p0, 4, true, true, p0,p0);\r\n      //cr.move_to(p,0)\r\n      //cr.arc(0, 0, p, 0, 2 * math.pi)\r\n  }\r\n  */\n  // star\n\n\n  for (var _i = 0; _i < ends.length; _i++) {\n    var _pt = ends[_i];\n    var _x = _pt.x;\n    var _y = _pt.y; // begin\n\n    var _i2 = (_i + 1) % ends.length;\n\n    var _pt2 = ends[_i2];\n    var _x2 = _pt2.x;\n    var _y2 = _pt2.y;\n\n    for (var _j = 0; _j < joints; _j++) {\n      var _p = (_j + 1) / joints;\n\n      var p1 = 1 - _p;\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](peek.x + _x * _p, peek.y + _y * _p);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](peek.x + _x2 * p1, peek.y + _y2 * p1);\n    }\n  }\n\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n} // idea::\n// linestar_edit = make_linestar_edit(13, 12, 5);\n// linestar_edit(uiid);\n\n\nfunction do_linestar_edit(uiid, segments, joints, webs) {\n  var _;\n\n  var rings = 19;\n  var vertical = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical);\n  var bg_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](RectangleP(0, 0, 400, 400));\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](bg_rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment2\"](400, 400);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none, 0, vertical.x + 200, vertical.y - 200);\n  draw_star(uiid, segments, joints, webs, rings);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  var changed = 0 | false;\n  var rect = RectangleP(0, 0, 200, 20);\n  _ = Object(_simpleui_ex_slider2d_js__WEBPACK_IMPORTED_MODULE_3__[\"do_slider2d\"])(uiid + '-slider2d', RectangleP(0, 0, 400, 200), 3, 20, PointP(segments, joints));\n\n  if (_.changed) {\n    segments = _.x1;\n    joints = _.y1;\n    changed = 0 | true;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-segments', rect, 0, 80, segments, '');\n\n  if (_.changed) {\n    segments = _.value;\n    changed = 0 | true;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('segments', rect);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-joints', rect, 0, 80, joints, '');\n\n  if (_.changed) {\n    joints = _.value;\n    changed = 0 | true;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('joints', rect);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"slider\"](uiid + '-slider-webs', rect, 0, 80, webs, '');\n\n  if (_.changed) {\n    webs = _.value;\n    changed = 0 | true;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"]('webs', rect);\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // vertical\n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      changed: 0 | false,\n      segments: 0 | segments,\n      joints: 0 | joints,\n      webs: 0 | webs\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.segments = 0 | segments;\n  state.joints = 0 | joints;\n  state.webs = 0 | webs;\n  return state;\n  /*return [\r\n      0 | changed,\r\n      0 | segments,\r\n      0 | joints,\r\n      0 | webs\r\n  ];*/\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_linestar.js?");

/***/ }),

/***/ "./src/simpleui_ex_panel.js":
/*!**********************************!*\
  !*** ./src/simpleui_ex_panel.js ***!
  \**********************************/
/*! exports provided: do_panel_begin, do_panel_end */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_panel_begin\", function() { return do_panel_begin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_panel_end\", function() { return do_panel_end; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar Rectangle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Rectangle\"]; //const RectangleP = ui.RectangleP;\n\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Rectangle\"]; // how does panel module know when it's a new frame?\n// need to know new frame so i can reset the collapsed item count to 0\n// these are set in _begin and checked in _end\n// it's important to handle events at end of _end\n\nvar _button;\n\nvar _handle;\n\nvar bar_height = 0 | 24;\nvar debug_draw = 0 | false;\nvar text_width = 0 | 10; // hax\n\nvar text_ox = 0 | bar_height / 2 - text_width / 2;\nvar text_oy = 0 | text_ox / 2;\n\nfunction do_collapsed(uiid, rect, state, label, panel_pad) {\n  var collapsed_x = 0 | 200 + _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].collapsed_panel_index * 224;\n  var collapsed_y = 0 | 1; // handle is positioned left 1 pixel so border overlaps with collapse button, so width needs +1\n\n  var handle_w = 0 | 200 + 1; // this 200 needs to be configureable\n\n  var glyph = 'v';\n  var x = rect.x;\n  var y = rect.y; // collapsed layout\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none, 0, collapsed_x, collapsed_y);\n  {\n    // draw background bar before first collapsed panel\n    if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].collapsed_panel_index == 0) {\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(200, 0, canvas.width - 200, 25), _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"]);\n    }\n\n    _button = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-button', glyph, RectangleP(0, 0, bar_height, bar_height), state.expanded, text_ox, text_oy);\n    var uiid_handle = uiid + '-handle';\n    var hrect = RectangleP(bar_height - 1, 0, handle_w, bar_height);\n    _handle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"handle\"](uiid_handle, hrect, x, y);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"label\"](label, RectangleP(bar_height + 10, 0, handle_w + panel_pad, bar_height));\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].collapsed_panel_index++;\n}\n\nfunction do_expanded(uiid, rect, state, label, panel_pad) {\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none); // breakout of whatever layout we might be in (absolute positioning)\n\n  var x = 0 | rect.x;\n  var y = 0 | rect.y; // todo: later: push_id('handle');\n  // or: next_id('-handle'); etc.\n\n  var bar_layout = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal, -1, x, y); // app.panel_layout_padding\n\n  {\n    // background        \n    var back_rect = RectangleP(bar_layout.x, bar_layout.y, rect.w + panel_pad * 2, rect.h + panel_pad * 2 + bar_height);\n    var back_rect1 = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](back_rect, 1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](back_rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](back_rect1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"]); //let rect1 = uidraw.rectangle_panel_pad(rect, panel_pad);\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](uiid + '-panel-bg-hotspot', back_rect);\n    _button = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"checkbutton\"](uiid + '-button', '-', RectangleP(0, 0, bar_height, bar_height), state.expanded, text_ox, text_oy);\n    var handle_w = 0 | rect.w + panel_pad * 2 - bar_height + 1;\n    var handle_rect = RectangleP(0, 0, handle_w, bar_height);\n    var uiid_handle = uiid + '-handle';\n    _handle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"handle\"](uiid_handle, handle_rect, x, y); //ui.label(uiid, Rectangle(bar_height + 10, 0, handle_w + panel_pad, bar_height));\n\n    var label_rect = RectangleP(x + bar_height + 8, y, handle_w + panel_pad, bar_height);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"label\"](label, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"vertical_center_text\"](label_rect), ColorP(255, 255, 255, 255));\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // bar_layout\n\n  var padding = 2; // app.panel_layout_padding // wish: this should probably default to 0 if this component is generic\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, padding, x + panel_pad, y + bar_height + panel_pad); // content layout\n\n  if (debug_draw) {\n    var debug_color = ColorP(0, 200, 200, 127);\n    var debug_color2 = ColorP(200, 200, 0, 127); // draw xy indicator\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(x - 4, y - 4, 8, 8), debug_color2); // draw layout origin\n\n    var layout = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n    var absolute_rect = RectangleP(layout.x - 2, layout.y - 2, 4, 4);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](absolute_rect, debug_color); //ui.label('first xy', Rectangle(0, 0, 100, 40), debug_color);\n  }\n}\n\nfunction do_panel_begin(uiid, first_x, first_y, first_visible, first_expanded, label, panel_pad) {\n  console.assert(first_x != null, 'do_panel_begin: first_x required');\n  console.assert(first_y != null, 'do_panel_begin: first_y required');\n\n  if (panel_pad == null) {\n    // 0.4.9\n    panel_pad = 20;\n  } //if (first_visible == null) first_visible = true;\n\n\n  if (first_expanded == null) first_expanded = true; //uidraw.label('#' + ui.state.collapsed_panel_index, Point(200, 20*ui.state.collapsed_panel_index), Color(255,255,255,255));    \n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'uiid': uiid,\n      'rect': Rectangle(first_x, first_y, 1, 1),\n      // can't use RectP cuz these persist between frames\n      'visible': 0 | true,\n      //first_visible,\n      'expanded': 0 | first_expanded\n    });\n  }\n\n  var label2; // prefer state.label\n\n  if (label) {\n    label2 = label;\n  } else {\n    label2 = uiid;\n  }\n\n  if (state.expanded) {\n    do_expanded(uiid, state.rect, state, label2, panel_pad);\n  } else {\n    do_collapsed(uiid, state.rect, state, label2, panel_pad);\n  }\n\n  return state;\n}\n\nfunction do_panel_end(uiid) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (state.expanded) {\n    var peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // content layout\n\n    if (state.visible) {\n      console.assert(state); // should have been created in _begin            \n\n      state.rect.w = 0 | peek.totalw; // idk: nolive, panels are jank cuz i was bad, fixing\n\n      state.rect.h = 0 | peek.totalh; // this means one frame of latency between content updates and panel autosizing\n    }\n\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // none layout\n  } // state changes last\n\n\n  if (state.expanded) {\n    if (_button.changed) {\n      state.expanded = 0 | false;\n    }\n\n    if (_handle.changed) {\n      state.rect.x = 0 | _handle.x1;\n      state.rect.y = 0 | _handle.y1;\n    }\n  } else {\n    if (_button.changed) {\n      state.expanded = 0 | true;\n    }\n\n    if (_handle.clicked) {\n      state.expanded = 0 | true; // cancel item_held when they do this... *shrug* (todo:later:architecture)\n      // 0.4.8: wildly guessing i dont need this anymore vvv---^^^\n\n      /*const uiid_handle = uiid + '-handle';\r\n      if (ui.state.item_held == uiid_handle) {\r\n          ui.state.item_held = null;\r\n      }*/\n    }\n  }\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_panel.js?");

/***/ }),

/***/ "./src/simpleui_ex_scroll.js":
/*!***********************************!*\
  !*** ./src/simpleui_ex_scroll.js ***!
  \***********************************/
/*! exports provided: do_scroll_begin, do_scroll_end, do_scroll_item_begin, do_scroll_item_end */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_begin\", function() { return do_scroll_begin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_end\", function() { return do_scroll_end; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_item_begin\", function() { return do_scroll_item_begin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_scroll_item_end\", function() { return do_scroll_item_end; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar debug = 0 | false;\n/*\r\ntodo:later: the scroll item hotspot isn't being clipped (might be a problem later...)\r\nif i dont fix it properly, then it might be possible to fix by placing a dead hotspot above the overflow and below any later widgets/hotspots\r\n*/\n\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\n\nfunction do_scroll_begin(uiid, local_rect, row_height, item_count) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'scroll_value': 0 | 0,\n      'rect': rect,\n      'row_height': 0 | row_height,\n      'item_count': 0 | item_count,\n      'mod': null\n    });\n  }\n\n  state.item_count = item_count; // 0.4.9\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none); // horizontal layout = [vertical layout, slider]\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal);\n  var mod = state.scroll_value % state.row_height;\n  state.mod = mod; // vertical layout = [item1, item2, ...]\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, 0, rect.x, rect.y - mod); // mod handles item offset in view\n  //ui.layout_push(_vertical, 0, rect.x, rect.y);\n\n  state.first_visible_index = 0 | Math.floor(state.scroll_value / state.row_height);\n  console.assert(state.first_visible_index >= 0);\n  var max_visible = 0 | Math.ceil(rect.h / state.row_height) + 1;\n  state.last_visible_index = 0 | Math.min(item_count, state.first_visible_index + max_visible);\n  var rect2 = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_dilate\"](rect, 1);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](rect2, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"]);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_clip\"](rect);\n  state.rect = rect; // this is equivalent to prop-changed-so-update-state-mirror in vue/react/etc\n\n  return state;\n}\n\nfunction do_scroll_end(uiid) {\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n  var item_count = state.item_count;\n  var row_height = state.row_height;\n  var rect = state.rect;\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"end_clip\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // vert\n  // smi truncate is floor\n\n  var max_items_shown = 0 | rect.h / row_height; // todo: some crashing bugs when trying to show slider that can't move... clamping or something\n\n  var always_show_scrollbar = false; // 0.4.9\n\n  if (always_show_scrollbar || item_count > max_items_shown) {\n    var slider_max = item_count * row_height - rect.h;\n    if (slider_max < 0) slider_max = 0;\n\n    var _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"vslider\"](uiid + '-vslider', RectangleP(-20, 0, 20, rect.h), 0, slider_max, state.scroll_value, '');\n\n    if (_.changed) {\n      state.scroll_value = _.value;\n      console.assert(state.scroll_value >= 0);\n    }\n  }\n\n  if (false) {}\n\n  if (state.last_visible_index == state.item_count) {// pass (is this a bug) and/or (is there a better way?)\n  } else {\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]().maxh -= row_height;\n  }\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // horz\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // none\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](rect);\n\n  if (debug) {\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](rect, _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"](255, 0, 0, 255));\n  }\n} // todo: messy, latest feature\n\n\nfunction do_scroll_item_begin(scroll_uiid, i) {\n  //var layout_parent = ui.layout_peek();\n  //console.log(layout_parent);\n  //var layout = ui.layout_push(_vertical);\n  var scroll = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](scroll_uiid);\n  scroll.translate_y = i * scroll.row_height;\n  scroll.widget_y1 = scroll.rect.y + scroll.translate_y - scroll.scroll_value;\n  scroll.widget_y2 = scroll.widget_y1 + scroll.row_height; //const peek = ui.layout_peek();\n  // im emulating the layout here, because i know it is vertical... (TODO: LATER: FIXERINO)\n  //peek.y -= scroll.partial_item; // this handles the offset of every item...\n  //console.log(layout);\n  //}\n}\n\nfunction do_scroll_item_end(scroll_uiid) {\n  // debug draws\n  if (false) { var scroll; }\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_scroll.js?");

/***/ }),

/***/ "./src/simpleui_ex_slider2d.js":
/*!*************************************!*\
  !*** ./src/simpleui_ex_slider2d.js ***!
  \*************************************/
/*! exports provided: do_slider2d */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_slider2d\", function() { return do_slider2d; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"]; //const _vertical = consts._vertical;\n//const _horizontal = consts._horizontal;\n\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"RectangleP\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\n\nfunction do_slider2d(uiid, local_rect, min, max, point_value) {\n  var rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_rect);\n  var min_x = 0 | min;\n  var min_y = 0 | min;\n  var max_x = 0 | max;\n  var max_y = 0 | max;\n  var rect_w_half = 0 | Math.round(rect.w / 2);\n  var rect_h_half = 0 | Math.round(rect.h / 2);\n  var grab_size = 20;\n  var grab_size_half = 0 | grab_size / 2; // this component deals with 2 different coordinate spaces\n  // 1. value scale (min to max) : caller input/output    \n\n  var value_x_range = max_x - min_x;\n  var value_y_range = max_y - min_y;\n  var value_x = 0 | Math.min(max_x, Math.max(min_x, point_value.x));\n  var value_y = 0 | Math.min(max_y, Math.max(min_y, point_value.y)); // 2. local scale (0 to rect.w/h) : screen/draw/ui\n\n  var local_x_range = rect.w;\n  var local_y_range = rect.h;\n  var local_x = 0 | (value_x - min_x) / value_x_range * local_x_range;\n  var local_y = 0 | (value_y - min_y) / value_y_range * local_y_range;\n  var changed = 0 | false;\n  var layout = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_none);\n  {\n    // background       \n    var bg_uiid = uiid + '-bg';\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]);\n    var rect1 = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](rect, 1);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_soft\"](rect1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"]);\n    _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](bg_uiid, rect); // draw grid\n\n    var stroke_color_object = ColorP(255, 255, 255, 100);\n    var stroke_color = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](stroke_color_object);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](stroke_color);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](1); //const hax = 0.5;\n    //uidraw.line(layout.x + 1, layout.y + rect_h_half, layout.x + rect.w - 1, layout.y + rect_h_half);\n    //uidraw.line(layout.x + rect_w_half + hax, layout.y + 1 + hax, layout.x + rect_w_half + hax, layout.y + rect.h - 1 + hax);\n\n    var y_mid = layout.y + rect_h_half;\n    var y_top = layout.y + 1;\n    var x_mid = layout.x + rect_w_half;\n    var x_left = layout.x; // sub-pixel hacks won't work on straight lines here, so drawing rectangles :-o\n\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(x_mid, y_top, 1, rect.h - 2), stroke_color_object);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(x_left, y_mid, rect.w - 2, 1), stroke_color_object);\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n    _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n    var rel_x; // in local scale\n\n    var rel_y;\n\n    if (_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_went_down == bg_uiid || _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == bg_uiid) {\n      rel_x = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetCursorX() - layout.x;\n      rel_y = 0 | _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"driver\"].GetCursorY() - layout.y;\n      changed = 0 | true;\n      local_x = 0 | Math.min(rect.w, Math.max(0, rel_x));\n      local_y = 0 | Math.min(rect.h, Math.max(0, rel_y));\n    } // .........................\n    // i want a handle so that selecting near edges of background is easier\n\n    /*_ = ui.handle(uiid_pt1, handle1_rect, local_x, local_y);\r\n    if (_.changed) {\r\n        rel_x = _.x1;\r\n        rel_y = _.y1;\r\n        changed = 0 | changed | _.changed;\r\n    }*/\n    // handle\n\n\n    var handle1_rect = RectangleP(local_x - grab_size_half, local_y - grab_size_half, grab_size, grab_size); // circle indicator\n\n    if (changed && _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_held == bg_uiid) {\n      var handle1_face = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](handle1_rect, 4));\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](handle1_face, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"raised_accent\"]);\n    } else {\n      var _handle1_face = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](handle1_rect, 6));\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"circle\"](_handle1_face, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"raised_face\"]);\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_increment\"](rect);\n  var result_x = min_x + local_x / rect.w * value_x_range;\n  var result_y = min_y + local_y / rect.h * value_y_range;\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      changed: 0 | false,\n      x1: 0 | 0,\n      y1: 0 | 0\n    });\n  }\n\n  state.changed = 0 | changed;\n  state.x1 = 0 | result_x; // nolive probably should be .x not .x1\n\n  state.y1 = 0 | result_y;\n  return state;\n  /*return [\r\n      0 | changed,\r\n      0 | result_x,\r\n      0 | result_y\r\n  ];*/\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_slider2d.js?");

/***/ }),

/***/ "./src/simpleui_ex_tabbed_pane.js":
/*!****************************************!*\
  !*** ./src/simpleui_ex_tabbed_pane.js ***!
  \****************************************/
/*! exports provided: do_tabbed_pane_begin, do_tabbed_pane_end, debug_layout */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_tabbed_pane_begin\", function() { return do_tabbed_pane_begin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"do_tabbed_pane_end\", function() { return do_tabbed_pane_end; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"debug_layout\", function() { return debug_layout; });\n/* harmony import */ var _simpleui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./simpleui.js */ \"./src/simpleui.js\");\n/* harmony import */ var _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./simpleui_drawing.js */ \"./src/simpleui_drawing.js\");\n/* harmony import */ var _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./simpleui_consts.js */ \"./src/simpleui_consts.js\");\n\n\n\n\nvar _none = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_none\"];\nvar _vertical = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_vertical\"];\nvar _horizontal = _simpleui_consts_js__WEBPACK_IMPORTED_MODULE_2__[\"_horizontal\"];\nvar ColorP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"ColorP\"];\nvar Rectangle = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Rectangle\"]; //const RectangleP = ui.RectangleP;\n\nvar RectangleP = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"Rectangle\"]; // nolive: i think im using pooled rects across frames via state LOL\n// how does panel module know when it's a new frame?\n// need to know new frame so i can reset the collapsed item count to 0\n// these are set in _begin and checked in _end\n// it's important to handle events at end of _end\n//let _button;\n//const panel_pad = 0 | 20;\n\nvar bar_height = 0 | 24; //const text_width = 0 | 10; // hax\n//const text_ox = 0 | (bar_height / 2 - text_width / 2);\n//const text_oy = 0 | (text_ox / 2);\n\nvar _tabbed_pane_uiids = []; // stack of uiids so you dont have to pass uiid to end\n\nfunction do_tabbed_pane_begin(uiid, bar_rect_local, tab_labels, selected_tab) {\n  var _;\n\n  _tabbed_pane_uiids.push(uiid);\n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n\n  if (!state) {\n    var first_x = bar_rect_local.x;\n    var first_y = bar_rect_local.y;\n    var first_w = bar_rect_local.w;\n    var first_h = bar_rect_local.h;\n    state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"set_state\"](uiid, {\n      'uiid': uiid,\n      'rect': RectangleP(first_x, first_y, first_w, first_h),\n      'bar_rect': null\n    });\n  }\n\n  var bar_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](bar_rect_local);\n  state.bar_rect = bar_rect; // todo: later: push_id('handle');\n  // or: next_id('-handle'); etc. idk.\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical); // pane layout\n\n  var bar_layout = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_horizontal); // app.panel_layout_padding\n\n  {\n    var tab_button_width = 100;\n    var tab_button_height = bar_rect.h; // used as the diagonal width too\n\n    var tab_button_spacing = Math.round(tab_button_height / 2); // half the diagonal\n\n    if (false) { var autosized_bar_rect; } // draw passive buttons\n\n\n    for (var i = tab_labels.length - 1; i >= 0; i--) {\n      var is_selected = i == selected_tab;\n      if (is_selected) continue;\n      var x0 = bar_rect.x + i * tab_button_width + i * tab_button_spacing;\n      var y0 = bar_rect.y + bar_rect.h - tab_button_height;\n      var x1 = x0 + tab_button_width;\n      var y1 = bar_rect.y + bar_rect.h;\n      var x2 = x1 + tab_button_height; // diagonal down-right\n\n      var hax = 0.5;\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](x0 + hax, y1 + hax);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x0 + hax, y0 + hax);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x1 + hax, y0 + hax);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](x2 + hax, y1 + hax); // wish: nolive: this translate crap is just for gradients, should be able to work around this with more dynamic gradients\n\n      context.translate(0 | x0, 0 | y0); // slow (for gradient)\n\n      {\n        var passive_button_face_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"];\n        var button_uiid = get_button_uiid(uiid, i);\n        var is_hovered = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"state\"].item_hovered == button_uiid;\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_fillstyle\"](make_css_color(passive_button_face_color));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fill();\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_fillstyle\"]();\n        /*uidraw.push_fillstyle(ui.config.drawbox_gradient);\r\n        ui.context.fill();\r\n        uidraw.pop_fillstyle();*/\n\n        var passive_button_stroke_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_face\"];\n\n        if (is_hovered) {\n          passive_button_stroke_color = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"];\n        }\n\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](passive_button_stroke_color));\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n      }\n      context.translate(0 | -x0, 0 | -y0); // slow (for gradient)\n\n      var label_left_pad = tab_button_spacing;\n      var y_offset = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"get_vertical_centered_text_offset\"](tab_button_height);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](tab_labels[i], x0 + label_left_pad, y0 + y_offset, null);\n    }\n\n    {\n      // draw pane background after passive buttons\n      //let back_rect = RectangleP(bar_layout.x, bar_layout.y + tab_button_height, rect.w + panel_pad * 2, rect.h + panel_pad * 2 + bar_height);\n      var back_rect = RectangleP(bar_layout.x, bar_layout.y + tab_button_height, state.rect.w, state.rect.h - bar_height);\n      var back_rect1 = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_erode\"](back_rect, 1);\n      _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"add_hotspot\"](uiid + '-panel-bg-hotspot', back_rect); // background outer (border)\n      //uidraw.rectangle(back_rect, 'white'); //uidraw.normal_back);\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](back_rect, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"normal_back\"]); // background inner (inset)    \n      //uidraw.rectangle(back_rect1, [255,255,255,255]); //'red'); //uidraw.panel_color);\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](back_rect1, _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"]); //uidraw.rectangle(Rectangle(0, 0, 300, 300), [255,255,255,255]); //'red'); //uidraw.panel_color);\n      // top line\n\n      var top_line_y = bar_rect.y + tab_button_height + 0.5; //uidraw.push_linewidth(1);\n      //uidraw.push_strokestyle(make_css_color(uidraw.accent));\n\n      if (false) {}\n\n      top_line_y++;\n\n      if (true) {\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_linewidth\"](2);\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](make_css_color(_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]));\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](bar_rect.x, top_line_y + 0.0, bar_rect.x + state.rect.w, top_line_y + 0.0);\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_linewidth\"]();\n      }\n    }\n    {\n      // draw active button lol, wish: re-use above\n      var _i = selected_tab;\n\n      var _x = bar_rect.x + _i * tab_button_width + _i * tab_button_spacing;\n\n      var _y = bar_rect.y + bar_rect.h - tab_button_height;\n\n      var _x2 = _x + tab_button_width;\n\n      var _y2 = bar_rect.y + bar_rect.h;\n\n      var _x3 = _x2 + tab_button_height; // diagonal down-right\n\n\n      var _hax = 0.5;\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"begin_path\"]();\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"move_to\"](_x + _hax, _y2 + _hax);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](_x + _hax, _y + _hax);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](_x2 + _hax, _y + _hax);\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line_to\"](_x3 + _hax, _y2 + _hax); // wish: nolive: this translate crap is just for gradients, should be able to work around this with more dynamic gradients\n\n      context.translate(0 | _x, 0 | _y); // slow (for gradient)\n\n      {\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_fillstyle\"](make_css_color(_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"panel_color\"]));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fill();\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_fillstyle\"]();\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_fillstyle\"](make_css_color(_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]));\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fill();\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_fillstyle\"]();\n        /*\r\n        uidraw.push_fillstyle(make_css_color(uidraw.accent));\r\n        ui.context.fill();\r\n        uidraw.pop_fillstyle();*/\n\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_fillstyle\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"config\"].drawbox_gradient);\n        _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"context\"].fill();\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_fillstyle\"]();\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](_simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"make_css_color\"](_simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"accent\"]));\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"stroke\"]();\n        _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n      }\n      context.translate(0 | -_x, 0 | -_y); // slow (for gradient)\n\n      var _label_left_pad = tab_button_spacing;\n\n      var _y_offset = _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"get_vertical_centered_text_offset\"](tab_button_height);\n\n      _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"text\"](tab_labels[_i], _x + _label_left_pad, _y + _y_offset, null);\n    }\n\n    for (var _i2 = 0; _i2 < tab_labels.length; _i2++) {\n      var rect_w = tab_button_width + tab_button_spacing;\n      var local_button_rect = Rectangle(0, 0, rect_w, tab_button_height);\n      var global_button_rect = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_translated\"](local_button_rect); // _logic calls use global rects            \n\n      _ = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"button_logic\"](get_button_uiid(uiid, _i2), global_button_rect);\n\n      if (_.clicked) {\n        state.changed = true;\n        state.value = _i2;\n      }\n    }\n  }\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // bar_layout    \n\n  var padding = 2; // app.panel_layout_padding\n\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_push\"](_vertical, padding); // content layout1    \n\n  return state;\n}\n\nfunction do_tabbed_pane_end() {\n  var uiid = _tabbed_pane_uiids.pop();\n\n  var state = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"get_state\"](uiid);\n  var content1_peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // content layout\n\n  var pane_peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n  _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_pop\"](); // pane layout\n\n  var container_peek = _simpleui_js__WEBPACK_IMPORTED_MODULE_0__[\"layout_peek\"]();\n\n  if (true) {//debug_layout('content2_peek', content2_peek);\n    //debug_layout('content1_peek', content1_peek, [0,255,255,64], [255,255,255,128]);\n    //debug_layout('pane_peek', pane_peek, [100,200,20,128], [255,255,0,128]);\n    //debug_layout('container_peek', container_peek);\n  }\n\n  console.assert(state); // should have been created in _begin            \n\n  state.rect.w = 0 | Math.max(state.bar_rect.w, pane_peek.totalw);\n  state.rect.h = 0 | Math.max(state.bar_rect.h, pane_peek.totalh); // this means one frame of latency between content updates and panel autosizing\n\n  console.assert(state.rect.x == 0);\n  console.assert(state.rect.y == 0); //uidraw.rectangle(RectangleP(pane_peek.ox, pane_peek.oy, state.rect.w, state.rect.h), [255,0,0,60]); // nolive\n\n  return state;\n}\n\nfunction debug_layout(name, o, fill_color, stroke_color) {\n  //console.log(name, 'total', o.totalw, o.totalh, 'ox/oy', o.ox, o.oy, 'x/y', o.x, o.y, 'padding', o.padding, o);\n  var fill_color_css = make_css_color(fill_color);\n  var stroke_color_css = make_css_color(stroke_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_fillstyle\"](fill_color_css);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle\"](RectangleP(o.ox, o.oy, o.totalw, o.totalh), fill_color);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_fillstyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"push_strokestyle\"](stroke_color_css);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"line\"](o.ox, o.oy, o.x, o.y);\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"pop_strokestyle\"]();\n  _simpleui_drawing_js__WEBPACK_IMPORTED_MODULE_1__[\"rectangle_outline\"](RectangleP(o.ox, o.oy, o.totalw, o.totalh), stroke_color);\n}\n\nfunction get_button_uiid(parent_uiid, i) {\n  return parent_uiid + '-tab-bar-button-#' + i;\n}\n\n\n\n//# sourceURL=webpack:///./src/simpleui_ex_tabbed_pane.js?");

/***/ }),

/***/ "./src/simpleui_framepool.js":
/*!***********************************!*\
  !*** ./src/simpleui_framepool.js ***!
  \***********************************/
/*! exports provided: FramePool */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FramePool\", function() { return FramePool; });\n// a pool that can clear itself every frame\n// does not need to support releasing mid-frame\nfunction FramePool(creator, max) {\n  console.assert(max > 0);\n  this.creator = creator;\n  this.max = max;\n  this.index = 0; // points to first unused item\n\n  this.items = [creator()]; // jit hint\n\n  for (var i = 1; i < max; i++) {\n    this.items.push(creator());\n  }\n}\n\nFramePool.prototype.acquire = function () {\n  // add 1k slots if full\n  if (this.index >= this.items.length) {\n    //console.info('[growing framepool]', this.max, this.max + 1000);\n    this.max = this.max + 1000;\n\n    for (var i = 0; i < 1000; i++) {\n      this.items.push(this.creator());\n    }\n  }\n\n  this.index++;\n  return this.items[this.index - 1];\n};\n\nFramePool.prototype.release_all = function () {\n  // releasing all == moving the index cursor\n  this.index = 0;\n}; // usage\n\n/*\r\nif (true) {\r\n    function Rectangle(x, y, w, h) {\r\n        return {\r\n            x: x,\r\n            y: y,\r\n            w: w,\r\n            h: h,\r\n        }\r\n    }\r\n    \r\n    function RectangleDefault() {\r\n        return Rectangle(0, 0, 200, 20);\r\n    }\r\n\r\n    function RectanglePooled(x, y, w, h) {\r\n        const o = rectangle_pool.acquire();\r\n        o.x = x;\r\n        o.y = y;\r\n        o.w = w;\r\n        o.h = h;\r\n        return o;\r\n    }\r\n\r\n    const rectangle_pool = new FramePool(RectangleDefault, 2000);\r\n\r\n    for (let i=0; i<5000; i++) {\r\n        RectanglePooled(12, 13, i, i);\r\n    }\r\n\r\n    console.log(rectangle_pool.items[4999]);\r\n\r\n    rectangle_pool.release_all();\r\n}*/\n\n\n\n\n//# sourceURL=webpack:///./src/simpleui_framepool.js?");

/***/ }),

/***/ "./src/throttle.js":
/*!*************************!*\
  !*** ./src/throttle.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _debounce_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./debounce.js */ \"./src/debounce.js\");\n/* eslint-disable */\n\n/**\r\n * Creates a throttled function that only invokes `func` at most once per\r\n * every `wait` milliseconds (or once per browser frame). The throttled function\r\n * comes with a `cancel` method to cancel delayed `func` invocations and a\r\n * `flush` method to immediately invoke them. Provide `options` to indicate\r\n * whether `func` should be invoked on the leading and/or trailing edge of the\r\n * `wait` timeout. The `func` is invoked with the last arguments provided to the\r\n * throttled function. Subsequent calls to the throttled function return the\r\n * result of the last `func` invocation.\r\n *\r\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\r\n * invoked on the trailing edge of the timeout only if the throttled function\r\n * is invoked more than once during the `wait` timeout.\r\n *\r\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\r\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\r\n *\r\n * If `wait` is omitted in an environment with `requestAnimationFrame`, `func`\r\n * invocation will be deferred until the next frame is drawn (typically about\r\n * 16ms).\r\n *\r\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\r\n * for details over the differences between `throttle` and `debounce`.\r\n *\r\n * @since 0.1.0\r\n * @category Function\r\n * @param {Function} func The function to throttle.\r\n * @param {number} [wait=0]\r\n *  The number of milliseconds to throttle invocations to; if omitted,\r\n *  `requestAnimationFrame` is used (if available).\r\n * @param {Object} [options={}] The options object.\r\n * @param {boolean} [options.leading=true]\r\n *  Specify invoking on the leading edge of the timeout.\r\n * @param {boolean} [options.trailing=true]\r\n *  Specify invoking on the trailing edge of the timeout.\r\n * @returns {Function} Returns the new throttled function.\r\n * @example\r\n *\r\n * // Avoid excessively updating the position while scrolling.\r\n * jQuery(window).on('scroll', throttle(updatePosition, 100))\r\n *\r\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\r\n * const throttled = throttle(renewToken, 300000, { 'trailing': false })\r\n * jQuery(element).on('click', throttled)\r\n *\r\n * // Cancel the trailing throttled invocation.\r\n * jQuery(window).on('popstate', throttled.cancel)\r\n */\n\nfunction throttle(func, wait, options) {\n  var leading = true;\n  var trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  if (options) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  return Object(_debounce_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (throttle);\n\n//# sourceURL=webpack:///./src/throttle.js?");

/***/ })

/******/ })));