!function(t,e){for(var n in e)t[n]=e[n]}(window,function(t){var e={};function n(_){if(e[_])return e[_].exports;var r=e[_]={i:_,l:!1,exports:{}};return t[_].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,_){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:_})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var _=Object.create(null);if(n.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(_,r,function(e){return t[e]}.bind(null,r));return _},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var _={};n.r(_),n.d(_,"font_size",function(){return a}),n.d(_,"default_line_color",function(){return i}),n.d(_,"default_text_color",function(){return s}),n.d(_,"accent",function(){return u}),n.d(_,"bg_color",function(){return c}),n.d(_,"panel_color",function(){return l}),n.d(_,"normal_back",function(){return d}),n.d(_,"normal_face",function(){return m}),n.d(_,"activating_face",function(){return v}),n.d(_,"raised_face",function(){return f}),n.d(_,"raised_accent",function(){return h}),n.d(_,"focus_back",function(){return x}),n.d(_,"focus_face",function(){return y}),n.d(_,"box_gradient",function(){return p}),n.d(_,"get_centered_offsets",function(){return g}),n.d(_,"vertical_center",function(){return w}),n.d(_,"vertical_center_text",function(){return b}),n.d(_,"rectangle_offset",function(){return M}),n.d(_,"rectangle_offset_xy",function(){return C}),n.d(_,"rectangle_erode",function(){return k}),n.d(_,"rectangle_dilate",function(){return H}),n.d(_,"point_translate",function(){return R}),n.d(_,"text",function(){return S}),n.d(_,"rectangle",function(){return j}),n.d(_,"rounded_rectangle",function(){return P}),n.d(_,"label",function(){return W}),n.d(_,"button",function(){return T}),n.d(_,"checkbox",function(){return O}),n.d(_,"progressbar",function(){return D}),n.d(_,"slider",function(){return G}),n.d(_,"vslider",function(){return q}),n.d(_,"checkbutton",function(){return B}),n.d(_,"handle",function(){return I});var r={};n.r(r),n.d(r,"Hotspot",function(){return V}),n.d(r,"Point",function(){return $}),n.d(r,"Rectangle",function(){return tt}),n.d(r,"add_tick",function(){return ft}),n.d(r,"clamp",function(){return et}),n.d(r,"rectangle_contains",function(){return rt}),n.d(r,"calc_drawstate",function(){return ot}),n.d(r,"get_state",function(){return nt}),n.d(r,"set_state",function(){return _t}),n.d(r,"layout_push",function(){return it}),n.d(r,"layout_pop",function(){return st}),n.d(r,"layout_peek",function(){return at}),n.d(r,"layout_translated",function(){return lt}),n.d(r,"add_hotspot",function(){return yt}),n.d(r,"layout_increment",function(){return ct}),n.d(r,"layout_increment2",function(){return ut}),n.d(r,"on_mousepressed",function(){return dt}),n.d(r,"on_mousereleased",function(){return mt}),n.d(r,"on_tick",function(){return xt}),n.d(r,"label",function(){return pt}),n.d(r,"rectangle",function(){return gt}),n.d(r,"button",function(){return wt}),n.d(r,"checkbox",function(){return bt}),n.d(r,"progressbar",function(){return Mt}),n.d(r,"slider",function(){return Ct}),n.d(r,"vslider",function(){return kt}),n.d(r,"checkbutton",function(){return Ht}),n.d(r,"handle",function(){return St}),n.d(r,"state",function(){return U}),n.d(r,"config",function(){return X});var o=Math.round,a=GetFontSize(),i=Color(255,255,255,255),s=Color(255,255,255,255),u=Color(120,180,140,127),c=Color(91,98,96,255),l=Color(46,46,46,255),d=Color(36,36,36,255),m=Color(72,72,72,255),v=Color(0,204,123,204),f=Color(180,189,177,255),h=Color(250,255,240,255),x=d,y=m,p={x1:80,y1:22,x2:85,y2:-32,color_stop1:Color(0,0,0,38),color_stop2:Color(255,255,255,144)};function g(t,e){return[0|o((t[_w]-e[_w])/2),0|o((t[_h]-e[_h])/2)]}function w(t,e){var n=0|(t[_h]-e[_h])/2;return $(t[_x],t[_y]+n)}function b(t){var e=0|a;return w(t,tt(t[_x],t[_y],t[_w],e))}function M(t,e){return tt(t[_x]+e,t[_y]+e,t[_w],t[_h])}function C(t,e,n){return tt(t[_x]+e,t[_y]+n,t[_w],t[_h])}function k(t,e){return tt(t[_x]+e,t[_y]+e,t[_w]-2*e,t[_h]-2*e)}function H(t,e){return k(t,-1*e)}function R(t,e,n){return t[_x]=0|t[_x]+e,t[_y]=0|t[_y]+n,t}var z=Color(255,255,255,255);function S(t,e,n,_){X.drawtext_enable&&DrawText(t,e,n,z)}function j(t,e){DrawBox(t,e)}function P(t,e){DrawRoundedBox(t,e)}function W(t,e,n){S(t,0|e[_x],0|e[_y])}function T(t,e,n){var _=k(e,1);P(e,d),n[_Held]?P(e,v):n[_Hovered]?P(_,u):P(_,m);var r=R(b(_),5,0);n[_Held]?(r[_y]=r[_y]+1,W(t,r)):W(t,r)}function O(t,e,n,_){var r=k(e,1),o=k(e,4);j(e,d),n[_Held]?j(r,v):n[_Hovered]?j(r,u):j(r,m),_?j(o,Color(255,255,255,255)):n[_Held]&&j(o,Color(255,255,255,127))}function D(t,e,n){var _=k(t,2);j(t,d);var r=0|_[_w]*(n/e);P(tt(_[_x],_[_y],r,_[_h]),u)}function G(t,e,n,_,r,o,a){m_v8.assert_smi(e[_x]),m_v8.assert_smi(e[_y]),m_v8.assert_smi(e[_w]),m_v8.assert_smi(e[_h]),m_v8.assert_smi(n[_Hovered]),m_v8.assert_smi(n[_Held]),m_v8.assert_smi(_),m_v8.assert_smi(r),m_v8.assert_smi(o);var i=(0|o-_)/(0|r-_),s=k(e,1),c=k(e,2),l=0|c[_w]*i,m=tt(c[_x],c[_y],l,c[_h]),x=0|s[_h],y=x/4,p=0|(s[_w]-y)*i+x/2,g=tt(0|s[_x]+p-x/2,(0|s[_y])+1,y,x-2);(j(e,d),P(m,u),n[_Held]?j(g,v):n[_Hovered]?j(g,h):j(g,f),a)&&S(a,0|e[_x]+e[_w]-16,0|g[_y]+g[_h]/2-8,Color(0,0,0,127))}function q(t,e,n,_,r,o,a){m_v8.assert_smi(e[_x]),m_v8.assert_smi(e[_y]),m_v8.assert_smi(e[_w]),m_v8.assert_smi(e[_h]),m_v8.assert_smi(n[_Hovered]),m_v8.assert_smi(n[_Held]),m_v8.assert_smi(_),m_v8.assert_smi(r),m_v8.assert_smi(o);var i=(0|o-_)/(0|r-_),s=k(e,1),c=k(e,2),l=0|c[_h]*i,m=tt(c[_x],c[_y],c[_w],l),x=0|s[_w],y=0|x/4,p=0|(s[_h]-y)*i+x/2,g=tt((0|s[_x])+1,0|s[_y]+p-x/2,x-2,y);(j(e,d),P(m,u),n[_Held]?j(g,v):n[_Hovered]?j(g,h):j(g,f),a)&&S(a,0|g[_x]+g[_w]/2-5,0|e[_y]+e[_h]-16,Color(0,0,0,127))}function B(t,e,n,_,r,o){var a,i=k(e,1);j(e,d),n[_Held]?j(i,v):n[_Hovered]?j(i,u):j(i,_?u:m),a=null==r||null==o?R(b(i),3,0):R(i,r,o),n[_Held]?(a[_y]=a[_y]+1,W(t,a)):W(t,a)}function I(t,e,n){var _=k(e,1);j(e,d),n[_Held]?j(_,v):n[_Hovered]&&j(_,u)}var F=_,X={drawhotspots_enable:!1,drawbox_soft_enable:!0,drawbox_gradient_enable:!0,drawtext_enable:!0,drawtext_bitmap:!0,drawbox_gradient:make_drawbox_gradient(context,F.box_gradient.x1,F.box_gradient.y1,F.box_gradient.x2,F.box_gradient.y2,F.box_gradient.color_stop1,F.box_gradient.color_stop2)},Y={},A=!1,E=[],J=tt(0,0,1,1),K=(Color(0,0,0,255),Z(0,0,0,0,0,0,0,0,0,0));var L=function(t){for(var e=[J],n=0;n<t;n++)e.push(tt(0,0,1,1));return e}(2e3);var N=function(t){for(var e=["xxxx-yyyy-zzzz","aaaa-bbbb-cccc"],n=0;n<t;n++)e.push("xxxx-yyyy-zzzz");return e}(2e3);var Q=function(t){for(var e=[K],n=0;n<t;n++)e.push(Z(0,0,0,0,0,0,0,0,0,0));return e}(2e3),U={hotspot_rects:L,hotspot_ids:N,hotspot_count:0,layout_pool:Q,layout_count:0,mouselocation:$(0,0),item_hovered:null,item_held:null,item_went_down:!1,item_went_downup:!1,collapsed_panel_index:0};function V(t,e,n,_,r){return m_v8.assert_smi(e),m_v8.assert_smi(n),m_v8.assert_smi(_),m_v8.assert_smi(r),[tt(e,n,_,r),t]}function Z(t,e,n,_,r,o,a,i,s,u){return m_v8.assert_smi(t),m_v8.assert_smi(e),m_v8.assert_smi(n),m_v8.assert_smi(_),m_v8.assert_smi(r),m_v8.assert_smi(o),m_v8.assert_smi(a),m_v8.assert_smi(i),m_v8.assert_smi(s),m_v8.assert_smi(u),[0|t,0|e,0|n,0|_,0|r,0|o,0|a,0|i,0|s,0|u]}function $(t,e){return m_v8.assert_smi(t),m_v8.assert_smi(e),[0|t,0|e]}function tt(t,e,n,_){return m_v8.assert_smi(t),m_v8.assert_smi(e),m_v8.assert_smi(n),m_v8.assert_smi(_),[0|t,0|e,0|n,0|_]}$(10,20),tt(0,0,10,20),tt(10,20,100,200);function et(t,e,n){return Math.min(Math.max(t,e),n)}function nt(t){return Y[t]}function _t(t,e){return Y[t]=e,e}function rt(t,e,n,_,r,o){return 0|(0|r>=t&&0|r<=(0|t+n)&&0|o>=e&&0|o<=(0|e+_))}function ot(t){return[0|U.item_hovered==t,0|U.item_held==t]}function at(){var t=U.layout_count;return 0==t?null:Q[t-1]}function it(t,e,n,_){var r=at();null!=r&&(null!=n&&void 0!=n||(n=r[_x]),null!=_&&void 0!=_||(_=r[_y]),null!=e&&void 0!=e||(e=r[_padding]));var o=Q[U.layout_count++];return o[_x]=n,o[_y]=_,o[_ox]=n,o[_oy]=_,o[_mode]=t,o[_padding]=e,o[_maxw]=0,o[_maxh]=0,o[_totalw]=0,o[_totalh]=0,o}function st(){var t=at();U.layout_count=U.layout_count-1;var e=at();return e&&(ut(t[_maxw],t[_maxh]),e[_totalw]=Math.max(e[_totalw],t[_x]-t[_ox]),e[_totalh]=Math.max(e[_totalh],t[_y]-t[_oy])),t}function ut(t,e){var n=at();if(n){if(n[_mode]==_vertical){var _=e+n[_padding];n[_y]+=_,n[_totalh]=n[_y]-n[_oy],n[_totalw]=Math.max(n[_totalw],t),n[_maxw]=n[_totalw]}else if(n[_mode]==_horizontal){var r=t+n[_padding];n[_x]+=r,n[_totalw]=n[_x]-n[_ox],n[_totalh]=Math.max(n[_totalh],e),n[_maxh]=n[_totalh]}n[_mode]!=_none&&(n[_maxw]=Math.max(n[_maxw],t),n[_maxh]=Math.max(n[_maxh],e))}}function ct(t){return ut(t[_w],t[_h])}function lt(t){var e=0|t[_x],n=0|t[_y],_=0|t[_w],r=0|t[_h],o=at();return o&&(e+=o[_x],n+=o[_y]),tt(e,n,_,r)}function dt(t,e,n){n==_left&&(U.item_went_down=U.item_hovered,U.item_held=U.item_hovered)}function mt(t,e,n){n==_left&&(U.item_held==U.item_hovered&&(U.item_went_downup=U.item_hovered),U.item_held=null)}var vt=[];function ft(t){vt.push(t)}function ht(){var t,e;U.mouselocation[_x]=0|GetCursorX(),U.mouselocation[_y]=0|GetCursorY(),function(){for(var t=0;t<vt.length;t++)(0,vt[t])()}(),U.item_hovered=null;for(var n=U.hotspot_count-1;n>=0;n--)if(t=U.hotspot_rects[n],e=U.hotspot_ids[n],rt(0|t[_x],0|t[_y],0|t[_w],0|t[_h],0|U.mouselocation[_x],0|U.mouselocation[_y])){U.item_hovered=e;break}if(U.item_held?document.body.style.cursor="pointer":document.body.style.cursor="",A){var _=U.mouselocation&&U.mouselocation[_x],r=U.mouselocation&&U.mouselocation[_y];E.push("item_hovered: "+U.item_hovered||!1),E.push("item_held: "+U.item_held||!1),E.push("mouse x: "+_),E.push("mouse y: "+r),E.push("hotspot pool: "+U.hotspot_count+"/"+U.hotspot_pool.length),E.push("layout pool: "+U.layout_count+"/"+U.layout_pool.length);for(var o=0;o<E.length;o++){var a=E[o];DrawText(a,120,30+20*o,Color(255,0,255,255))}E=[]}if(X.drawhotspots_enable)for(var i=0;i<U.hotspot_count;i++){var s=U.hotspot_rects[i];F.rectangle(s,Color(255,0,0,64))}U.layout_count=0,U.hotspot_count=0,U.item_went_down=!1,U.item_went_downup=!1,U.collapsed_panel_index=0}function xt(){ht(),vt=[],canvas===canvas_off&&canvas_screen.getContext("2d").drawImage(canvas,0,0,canvas.width,canvas.height)}function yt(t,e){var n=U.hotspot_count,_=L[n];_[_x]=e[_x],_[_y]=e[_y],_[_w]=e[_w],_[_h]=e[_h],N[n]=t,U.hotspot_count=U.hotspot_count+1}function pt(t,e){var n=lt(e),_=F.vertical_center_text(n),r=Color(255,255,255,255);F.label(t,_,r),ct(n)}function gt(t,e){var n=lt(t);F.rectangle(n,e),ct(n)}function wt(t,e,n){var _=lt(n);yt(t="button(".concat(e,",").concat(_[_x],",").concat(_[_y],",").concat(_[_w],",").concat(_[_h],")"),_);var r=ot(t);return F.button(e,_,r),ct(_),[0|(0|U.item_went_downup==t)]}function bt(t,e,n){var _=lt(e);yt(t,_);var r=0;U.item_went_downup==t&&(n=!n,r=1);var o=ot(t);return F.checkbox(t,_,o,n),ct(_),[0|r,0|n]}function Mt(t,e,n){var _=0,r=et(n,0,e);r!=n&&(_=1,n=r);var o=lt(t);return F.progressbar(o,e,n),ct(o),[0|_,0|n]}function Ct(t,e,n,_,r,o){m_v8.assert_smi(e[_x]),m_v8.assert_smi(e[_y]),m_v8.assert_smi(e[_w]),m_v8.assert_smi(e[_h]),m_v8.assert_smi(n),m_v8.assert_smi(_),m_v8.assert_smi(r);var a=lt(e);yt(t,a);var i=a[_x],s=a[_w],u=0|_-n,c=0;if(0|U.item_held==t){var l=0|(0|et(0|U.mouselocation[_x]-i,0,s))*(u/s)+n;l!=r&&(c=1,r=l)}var d=ot(t);return F.slider(t,a,d,n,_,r,o),ct(a),[0|c,0|r]}function kt(t,e,n,_,r,o){m_v8.assert_smi(e[_x]),m_v8.assert_smi(e[_y]),m_v8.assert_smi(e[_w]),m_v8.assert_smi(e[_h]),m_v8.assert_smi(n),m_v8.assert_smi(_),m_v8.assert_smi(r);var a=lt(e);yt(t,a);var i=a[_y],s=a[_h],u=0|_-n,c=0;if(0|U.item_held==t){var l=0|(0|et(0|U.mouselocation[_y]-i,0,s))*(u/s)+n;l!=r&&(c=1,r=l)}var d=ot(t);return F.vslider(t,a,d,n,_,r,o),ct(a),[0|c,0|r]}function Ht(t,e,n,_,r,o){var a=0;U.item_went_downup==t&&(_=!_,a=1);var i=lt(n);yt(t,i);var s=ot(t);return F.checkbutton(e,i,s,_,r,o),ct(i),[0|a,0|_]}var Rt=0,zt=0;function St(t,e,n,_){m_v8.assert_smi(e[_x]),m_v8.assert_smi(e[_y]),m_v8.assert_smi(e[_w]),m_v8.assert_smi(e[_h]),m_v8.assert_smi(n),m_v8.assert_smi(_),n|=0,_|=0;var r=0,o=lt(e);yt(t,o),U.item_went_down==t&&(Rt=0|U.mouselocation[_x]-n,zt=0|U.mouselocation[_y]-_),U.item_held==t&&(r=1,n=0|U.mouselocation[_x]-Rt,_=0|U.mouselocation[_y]-zt);var a=ot(t);return F.handle(t,o,a),ct(o),[0|r,0|n,0|_]}for(var jt={" ":[],a:[[0,2,1,2],[1,2,2,3],[2,3,1,4],[1,4,0,3],[0,3,1,3]],b:[[0,0,0,1],[0,1,0,2],[0,2,0,3],[0,3,1,4],[1,4,2,3],[2,3,1,2]],c:[[1,2,0,3],[0,3,1,4],[1,4,2,4]],d:[[2,0,2,1],[2,1,2,2],[2,2,2,3],[2,3,1,4],[1,4,0,3],[0,3,1,2]],e:[[1,3,2,3],[2,3,1,2],[1,2,0,3],[0,3,1,4],[1,4,2,4]],f:[[2,0,1,1],[1,1,1,2],[1,2,1,3],[1,3,1,4],[0,2,1,2]],g:[[1,4,0,3],[0,3,1,2],[1,2,2,3],[2,3,2,4],[2,4,2,5],[2,5,1,6]],h:[[0,0,0,1],[0,1,0,2],[0,2,0,3],[0,3,1,2],[1,2,2,3],[2,3,2,4]],i:[[1,2,1,3],[1,3,1,4],[1,1,2,0]],j:[[1,2,1,3],[1,3,1,4],[1,4,1,5],[1,5,0,6],[1,1,2,0]],k:[[0,0,0,1],[0,1,0,2],[0,2,0,3],[0,3,1,3],[1,3,2,2],[1,3,2,4]],l:[[1,0,1,1],[1,1,1,2],[1,2,1,3],[1,3,2,4]],m:[[0,4,0,3],[0,3,1,2],[1,2,2,3],[2,3,2,4],[1,3,1,4]],n:[[0,4,0,3],[0,3,1,2],[1,2,2,3],[2,3,2,4]],o:[[0,2,1,2],[1,2,2,3],[2,3,1,4],[1,4,0,3]],p:[[0,6,0,5],[0,5,0,4],[0,4,0,3],[0,3,1,2],[1,2,2,3],[2,3,1,4]],q:[[2,6,2,5],[2,5,2,4],[2,4,2,3],[2,3,1,2],[1,2,0,3],[0,3,1,4]],r:[[0,4,0,3],[0,3,1,2],[1,2,2,2]],s:[[1,2,0,3],[0,3,1,3],[1,3,2,3],[2,3,1,4],[1,4,0,4]],t:[[1,1,1,2],[1,2,1,3],[1,3,1,4],[1,4,2,3],[0,2,1,2]],u:[[0,2,0,3],[0,3,0,4],[0,4,1,4],[1,4,2,3],[2,3,2,2]],v:[[0,2,0,3],[0,3,1,4],[1,4,2,3],[2,3,2,2]],w:[[0,2,0,3],[0,3,1,4],[1,4,2,3],[2,3,2,2],[1,2,1,3]],x:[[0,2,1,3],[1,3,2,4],[2,2,1,3],[1,3,0,4]],y:[[0,2,0,3],[0,3,1,4],[1,4,2,3],[2,3,2,4],[2,4,2,5],[2,5,1,6]],z:[[1,2,2,2],[2,2,1,3],[1,3,0,4],[0,4,1,4],[1,4,2,4]]},Pt=make_drawbox_gradient(context,400,400,1e3,1e3,Color(0,181,227,255),Color(255,0,255,255)),Wt=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"," "],Tt={},Ot=0;Ot<Wt.length;Ot++)Tt[Wt[Ot]]=1;function Dt(t,e,n,_,r,o,a){m_v8.assert_smi(a),m_v8.assert_smi(_),m_v8.assert_smi(r),m_v8.assert_smi(o),m_v8.assert_smi(a);var s=e.split(""),u=1,c=1;context.lineWidth=1,context.strokeStyle=Pt;for(var l=0;l<s.length;l++){var d=s[l];Tt[d]||(d=" ");var m=0|_+l*(3*o),v=Gt(t+"-letter-"+str(l),n,m,r,d,o,a);u=u&&v[_complete],c=c&&v[_reset_complete]}return context.strokeStyle=i,context.lineWidth=1,[u,c]}function Gt(t,e,n,_,r,o,a){m_v8.assert_smi(n),m_v8.assert_smi(_),m_v8.assert_smi(o);var i=nt(t);i||(i=_t(t,[0,0,1,0]));var s=jt[r],u=i[_segment],c=i[_partial];if(u<=s.length)for(var l=0;l<u;l++){var d=0|s[l][0],m=0|s[l][1],v=0|s[l][2],f=0|s[l][3];draw_line(0|n+d*o,0|_+m*o,0|n+v*o,0|_+f*o)}if(u<s.length){var h=u,x=0|s[h][0],y=0|s[h][1],p=0|s[h][2],g=0|s[h][3],w=0|n+x*o,b=0|_+y*o;draw_line(w,b,0|w+(0|(0|n+p*o)-w)*c/10,0|b+(0|(0|_+g*o)-b)*c/10),i[_partial]=0|i[_partial]+1,(c=i[_partial])>=10&&(i[_partial]=0,i[_segment]=0|i[_segment]+1)}return m_v8.assert_smi(i[_segment]),m_v8.assert_smi(i[_partial]),m_v8.assert_smi(i[_complete]),m_v8.assert_smi(i[_reset_complete]),i[_segment]=a?1:i[_segment],i[_partial]=a?0:i[_partial],i[_reset_complete]=a?1:i[_reset_complete],i[_complete]=0|u>=s.length,m_v8.assert_smi(i[_segment]),m_v8.assert_smi(i[_partial]),m_v8.assert_smi(i[_complete]),m_v8.assert_smi(i[_reset_complete]),i}function qt(t,e,n,_,r){null==r&&(r=!0);var o=nt(t);return o||(o=_t(t,{uiid:t,rect:Rectangle(e,n,1,1),visible:1,expanded:0|r})),function(t,e,n){Color(0,200,200,127),Color(200,200,0,127);var _,r=it(_vertical,app.panel_layout_padding,e[_x],e[_y]),o=e[_x],a=e[_y];_=n.expanded?0|e[_w]+40-24:200,_+=1;var i=it(_none,r[_padding],r[_x]-20,r[_y]-20-24),s=n.expanded,u=!s,c="v";if(n.expanded){var m=Rectangle(i[_x],i[_y],e[_w]+40,e[_h]+40+24),v=k(m,1);P(m,d),P(v,l),c="-"}var f,h,x=200+224*U.collapsed_panel_index;s&&yt(t+"-bg-hotspot",H(e,20)),u&&it(_none,0,x,1),u&&0==U.collapsed_panel_index&&j(Rectangle(200,0,canvas.width-200,25),l);var y=t+"-handle";return f=Ht(t+"-button",c,Rectangle(0,0,24,24),n.expanded,7,3),h=St(y,Rectangle(23,0,_,24),o,a),pt(t,Rectangle(34,0,_+20,24)),f[_changed]&&(n.expanded=0|!n.expanded),s||(st(),U.collapsed_panel_index++),h[_changed]&&(n.expanded?(n.rect[_x]=0|h[_x1],n.rect[_y]=0|h[_y1]):(n.expanded=0|!n.expanded,U.item_held==y&&(U.item_held=null))),st(),n}(t,o.rect,o)}function Bt(t){var e=nt(t);if(e.visible&&e.expanded){var n=at();e.rect[_w]=n[_totalw],e.rect[_h]=n[_totalh]}st()}function It(t,e,n,_){var r=nt(t);r||(r=_t(t,{yscroll:0,rect:e,row_height:n,item_count:_,layout:{}}));var o=it(_vertical,2,e[_x],e[_y]);r.layout=o,r.first_visible_index=Math.floor(r.yscroll/r.row_height);var a=Math.ceil(e[_h]/r.row_height)+1;r.last_visible_index=r.first_visible_index+a,j(H(e,1),l),context.save();return context.beginPath(),context.rect(e[_x],e[_y],e[_w],e[_h]),context.clip(),r.rect=e,r}function Ft(t){var e=nt(t),n=e.item_count,_=e.row_height,r=e.rect;context.restore();var o=n*_-r[_h];e.layout[_y]=e.layout[_y]-(r[_h]+42),e.layout[_x]=e.layout[_x]+(r[_h]-20);var a=kt("scroll-experiment-slider",Rectangle(0,0,20,r[_h]),0,o,e.yscroll,"");a[_changed]&&(e.yscroll=a[_value]),st()}function Xt(t,e){var n=at(),_=it(_vertical),r=nt(t);r.translate_y=e*r.row_height,r.widget_y1=n[_y]+r.translate_y-r.yscroll-n[_totalh],r.widget_y2=r.widget_y1+r.row_height,r.partial_item=_[_y]-r.widget_y1,_[_y]-=r.partial_item}function Yt(t){var e=nt(t);e.in_view&&(at()[_y]+=e.partial_item);st()}var At=make_css_color(Color(255,255,255,255)),Et=make_css_color(Color(0,0,0,255));function Jt(t,e,n,_,r,o,a){var s,c=0|e,l=0|e,d=0|n,v=0|n,x=d-c,y=v-l,p=0|x/2,g=0|y/2,w=0|x/4,b=0|y/4,M=0,C=0|_,H=0|r,R=0|o,z=0|a,S=it(_none),P=_-c,W=r-l,T=o-c,O=a-l;j(Rectangle(S[_x],S[_y],x,y),m),context.lineWidth=1,context.strokeStyle=make_css_color(Color(255,255,255,255)),draw_line(S[_x]+p,S[_y],S[_x]+p,S[_y]+y),draw_line(S[_x],S[_y]+g,S[_x]+x,S[_y]+g),j(Rectangle(S[_x]+w,S[_y]+b,p,g),u),context.lineWidth=2,context.strokeStyle=Et,draw_line(S[_x]+P-1,S[_y]+W-2,S[_x]+T-1,S[_y]+O-2),context.strokeStyle=At,draw_line(S[_x]+P,S[_y]+W,S[_x]+T,S[_y]+O),context.lineWidth=1;var D=t+"-pt1",G=Rectangle(P-10,W-10,20,20);(s=St(D,G,P,W))[_changed]&&(M=0|M|s[_changed],C=0|Math.min(d,Math.max(c,s[_x1]+c)),H=0|Math.min(v,Math.max(l,s[_y1]+l)));var q=t+"-pt2",B=Rectangle(T-10,O-10,20,20);(s=St(q,B,T,O))[_changed]&&(M=0|M|s[_changed],R=0|Math.min(d,Math.max(c,s[_x1]+c)),z=0|Math.min(v,Math.max(l,s[_y1]+l)));var I=lt(k(G,4));j(I,f),U.item_hovered==D&&j(I,h);var F=lt(k(B,4));return j(F,f),U.item_hovered==q&&j(F,h),st(),ut(x,0),context.strokeStyle=i,context.lineWidth=1,[0|M,0|C,0|H,0|R,0|z]}function Kt(t,e){return[Math.sin(t)*e,Math.cos(t)*e]}function Lt(t,e,n,_){var r,o=it(_vertical);gt(Rectangle(0,0,400,400),d),it(_none,0,o[_x]+200,o[_y]-200),function(t,e,n,_,r){var o=2*Math.PI/e,a=[],i=at();context.beginPath(),context.lineWidth=1,context.strokeStyle=make_css_color(Color(200,220,200,127));for(var s=0;s<e;s++){var u=Kt(s*o,200);a.push(u)}if((_=Math.min(_,n))>0)for(var c=0;c<a.length;c++)for(var l=a[c],d=l[_x],m=l[_y],v=a[(c+1)%a.length],f=v[_x],h=v[_y],x=0;x<_;x++){var y=(x+1)/n;context.moveTo(i[_x]+d*y,i[_y]+m*y),context.lineTo(i[_x]+f*y,i[_y]+h*y)}for(var p=0;p<a.length;p++)for(var g=a[p],w=g[_x],b=g[_y],M=a[(p+1)%a.length],C=M[_x],k=M[_y],H=0;H<n;H++){var R=(H+1)/n,z=1-R;context.moveTo(i[_x]+w*R,i[_y]+b*R),context.lineTo(i[_x]+C*z,i[_y]+k*z)}context.stroke()}(0,e,n,_),st();var a=0,i=Rectangle(0,0,200,20);return(r=do_slider2d(t+"-slider2d",Rectangle(0,0,400,200),3,20,Point(e,n)))[_changed]&&(e=r[_x1],n=r[_y1],a=1),it(_horizontal),(r=Ct(t+"-slider-segments",i,0,80,e,""))[_changed]&&(e=r[_value],a=1),pt("segments",i),st(),it(_horizontal),(r=Ct(t+"-slider-joints",i,0,80,n,""))[_changed]&&(n=r[_value],a=1),pt("joints",i),st(),it(_horizontal),(r=Ct(t+"-slider-webs",i,0,80,_,""))[_changed]&&(_=r[_value],a=1),pt("webs",i),st(),ut(0,(r=st())[_totalh]-400),[0|a,0|e,0|n,0|_]}function Nt(t,e,n,_,r){var o,a,s,u=lt(e),c=0|n,l=0|n,d=0|_,v=0|_,x=0|u[_w]/2,y=0|u[_h]/2,p=d-c,g=v-l,w=0|Math.min(d,Math.max(c,r[_x])),b=0|Math.min(v,Math.max(l,r[_y])),M=0|(w-c)/p*u[_w],C=0|(b-l)/g*u[_h],H=0,R=it(_none),z=t+"-bgrect";j(u,m),yt(z,u),context.lineWidth=1,context.strokeStyle=make_css_color(Color(255,255,255,100)),draw_line(R[_x]+x,R[_y],R[_x]+x,R[_y]+u[_h]),draw_line(R[_x],R[_y]+y,R[_x]+u[_w],R[_y]+y),U.item_went_down!=z&&U.item_held!=z||(a=0|_mouse_pos[_x]-R[_x],s=0|_mouse_pos[_y]-R[_y],H=1);var S=t+"-pt1",P=Rectangle(M-10,C-10,20,20);(o=St(S,P,M,C))[_changed]&&(a=o[_x1],s=o[_y1],H=0|H|o[_changed]),H&&(M=0|Math.min(u[_w],Math.max(0,a)),C=0|Math.min(u[_h],Math.max(0,s)));var W=lt(k(P,4));return j(W,f),U.item_hovered==S&&j(W,h),st(),ct(u),context.strokeStyle=i,context.lineWidth=1,[0|H,0|c+M/u[_w]*p,0|l+C/u[_h]*g]}n.d(e,"m_simpleui",function(){return r}),n.d(e,"m_simpleui_drawing",function(){return _}),n.d(e,"do_gridfont",function(){return Dt}),n.d(e,"do_panel_begin",function(){return qt}),n.d(e,"do_panel_end",function(){return Bt}),n.d(e,"do_scroll_begin",function(){return It}),n.d(e,"do_scroll_end",function(){return Ft}),n.d(e,"do_scroll_item_begin",function(){return Xt}),n.d(e,"do_scroll_item_end",function(){return Yt}),n.d(e,"do_gradient_stroke_edit",function(){return Jt}),n.d(e,"do_linestar_edit",function(){return Lt}),n.d(e,"do_slider2d",function(){return Nt})}]));