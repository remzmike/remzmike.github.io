// Based on a script by Kathie Decora : katydecorah.com/code/lunr-and-jekyll/

//Create the lunr index for the search

var index = elasticlunr(function () {
  this.addField('title')
  this.addField('author')
  this.addField('layout')
  this.addField('content')
  this.setRef('id')
});

//Add to this index the proper metadata from the Jekyll content



index.addDoc({
  title: "Self Employment",
  author: null,
  layout: "post",
  content: "\n\nSelf Employment\n\nMy name is Mike and I am sometimes self-employed.\n\nIn fact, I have many years of experience working as a self-employed software developer.\n\nThere are two parts to my self-employment:\n\n\n  Product development and licensing, as Efflare Systems.\n  Custom software contracting and consulting, as myself.\n\n\nIn 2015 I separated these two parts, mostly ending my association with Efflare Systems.\n\nCritical Response\n\n\n\n\n  “But wait, how can that be true!?”\n“I DEMAND TO SEE YOUR CLIENT LIST SIR!”\n\n\nI have done contract work for dozens of clients.\nI have also licensed my software to hundreds of customers.\n\nI will attempt to satisfy your skepticism by providing additional details.\n\nSome details will be left out for legal and professional reasons.\n\nI have split this information into three parts.\n\n\n  Contracts\n  Testimonials\n  Licensees\n\n\nThis is the first time much of this information has been released.\n\nPlease contact me if you would like to be removed from this document.\n\nContracts\n\n\n  \n    Edouard J, Microscript, Belgium\nPDF API wrapper using official Adobe API\n  \n  \n    Amy R, President/CEO, Wedding Window\nServer-side Flash rasterization\n  \n  \n    Robert D, Web Agency, Inc.\n24-bit Javascript color picker\n  \n  \n    Ed O, Webmaster, PING\nLossless encoding of 32-bit image data into SWF\n  \n  \n    Lance M, ProSites, Inc.\nEmbedded Lua engine in .NET\n  \n  \n    Alexandre B, EuroTV\nAuto Cropping solution\n  \n  \n    Jeff M, optonline\nBatch processing AJAX solution\n  \n  \n    Chad G, Senior Developer, Carey Color Inc.\nICC Color Profile processing\n  \n  \n    Bethany S, Project Manager, World Wide Internet Publishing Ltd.\nBack-end image generation\n  \n  \n    Josen R, Director of Internet Development, Motorsport Marketing, Inc.\nMultiple image processing solutions\n  \n  \n    Ruben C, President, Sandtex International Corp.\nPython Tcl/Tk UPS desktop tool\n  \n\n\nTestimonials\n\nCarey Color Inc.\nChad Gray, Senior Developer, http://www.careyweb.com/\n\n\n\n  As a long time customer of Efflare’s I can vouch for their expertise and customer service. We first purchased ImageCR and gFont back in 2001.\n\n  Carey Color Inc. is a prepress house.  We organize and distribute millions of digital images for our clients.  We have written many custom digital asset management web applications for our clients and ImageCR, gFont and ImageFlare are at the heart of nearly each one.\n\n  I remember the first time I tried ImageCR back in the Cold Fusion 4.5 days. I could not believe Efflare was recommending running the CFX tag without the &lt;cflock&gt; tag.  This was a sign of a well programmed tool.\n\n  ImageCR, gFont and ImageFlare have proven their worth over an over again with their robust architecture.  They have not missed a beat and I don’t have to worry about them, which leaves me more time to program better applications.\n\n  Efflare as a company has been there every step of the way. Their customer support is top notch and they listen to their customers needs.  I highly recommend Efflare.\n\n\nMotorsport Marketing, Inc.\nJosen Ruiseco, Director of Internet Development, http://www.GoMotorBids.com\n\n\n\n  GoMotorBids.com is the 4th largest auction website on the Internet,\nspecializing in all types of Automotive Memorabilia. We post over 1000\nnew custom images to our website every day. Before we found Efflare, we\nhad to make multiple sizes of each image, then sort them into different\ndirectories. It was a complete nightmare!\n\n  With the help of Efflare’s ImageCR3 and ImageFlare products we now\nupload one image and we’re done. Efflare does all the rest. Their\ncomponents are efficient, easy to use, and very fast. Thanks Efflare.\nI’m a customer for life!\n\n\nWorld Wide Internet Publishing Ltd.\nBethany Smith, Project Manager, http://www.WWIP.com/\n\n\n\n  We have relied on Efflare custom tags for years to resize and watermark images.\nThese tags have dramatically streamlined our web applications.\n\n  On several occasions we’ve needed custom development and Efflare has always impressed with their ability to turn out work quickly and deliver exactly what we needed.\n\n  Without Efflare, we could not provide our customers the solutions we do,\nparticularly in dynamic image manipulation.\n\n  We sincerely recommend Efflare!\n\n\nBall Enterprises\nAnthony Webb, Web Developer\n\n\n\n  I have been using Coldfusion for several years now and have \ntried nearly every image tag out there. One day I came across the\nImageCR tag and decided to try it out. I was absolutely \nblown away at the foresight and thought put into this tag.\nI am by no means a wealthy man and don’t usually buy custom  tags at all,\nbut I must say this tag is without a doubt worth every penny!\n\n  The staff at Efflare are unbelievably helpful and responsive.\nI have never seen such a great team dedicated to making sure you\nfully understand the tag and use it to its full potential.\nThe service and support I got alone justified the purchase of the tag.\n\n  Furthermore, ImageCR is being updated and enhanced daily, as Efflare\nimplements many of the suggestions customers send. Other\ntags simply aren’t as user friendly, and don’t produce near the same\nquality in images while still providing the smallest file size possible.\nI am an extremely satisfied customer and would strongly recommend ImageCR\nto anyone looking for a solution to their imaging needs.\n\n\nSandtex International Corp.\nRuben C, President, http://www.sandtextusa.com/\n\n\n\n  Mike has excellent communication skills, he will work to figure out exactly what you want. He will then provide it before the agreed upon time. Excellent.\n\n\nLicensees\n\nIn addition to custom contracting, I also developed and licensed a niche back-end image processing solution.\n\nHere are some notable clients I picked from my user records.\n\n\n  NASA, USPS, AIG, Bushnell, Ping Golf, Fleer, Crayola, Woodward\n\n\nYou can additionally read an article detailing NASA’s use of my software.\n\n\n  NASA develops style sheets, tools for Web sites\n\n\nFinally, here is a graph of licensees by geoip resolution.\n\n\n",
  id: 0
});
index.addDoc({
  title: "My experience with CI/CD",
  author: null,
  layout: "post",
  content: "My experience with CI/CD\n\nI am a software developer. This document describes my CI/CD experience.\n\nTL;DR – My CI/CD scorecard\n\n\n  Using version control\n    \n      YES, over 10 years of experience\n    \n  \n  Commit/Merge frequently\n    \n      YES, over 10 years of experience\n    \n  \n  Automated builds\n    \n      YES, over 10 years of experience\n      scripts written by me\n      tfs triggered builds configured by someone else\n    \n  \n  Automated testing on every commit\n    \n      NO, I have not done this\n      I run tests manually in my personal development\n      I have never worked at a company that ran automated tests after commit-triggered successful builds\n    \n  \n  Automated deployment\n    \n      YES, over 10 years of experience\n      via custom scripts, and once with Microsoft ClickOnce for a desktop app\n      NO experience with any other systems used for automated deployment\n    \n  \n\n\nVersion control tools I have used\n\nOrdered by relevance, mostly reverse-chronological.\n\n\n  TFS\n    \n      about 5 years experience with 3 or more companies between 2009 and the present (2018)\n    \n  \n  git\n    \n      I currently use this for personal and contract work\n      I have not used it in a full-time professional setting\n    \n  \n  mercurial\n    \n      one year professional experience using mercurial from an ubuntu linux workstation\n        \n          I also used this for a short time before migrating to bazaar vcs for my personal development in the mid 2000s.\n        \n      \n      I performed a comprehensive feature and efficiency comparison of darcs, codeville, mercurial, and bazaar in 2006\n        \n          git was excluded from this round of tests because it wasn’t available in Windows at the time\n        \n      \n    \n  \n  bazaar vcs\n    \n      Early competitor to mercurial and git.\n      I contributed Windows bug fixes when this was early in development.\n        \n          I used this as my primary personal version control as far back as 2005 until git took over in recent years.\n        \n      \n    \n  \n  custom rsync + python\n    \n      rudimentary custom version control powered by python and rsync\n      I developed this for Microbilt Corporation since they had no version control\n      It solved big problems between different teams working on the same product\n    \n  \n  subversion SVN\n    \n      I used this in my early professional development for a few different companies\n      I also used it on a couple of occasions personally\n    \n  \n  VAX/VMS versioning filesystem\n    \n      The second command-line interface I learned heavily after MS-DOS\n      I became familiar with this versioning filesystem in the mid-90s\n      I learned software development on this system and took sensible advantage of the automatic versioning of all files over my college years\n      This was an obscure legacy system that I was happy to explore\n    \n  \n\n\nAddendum: What is CI/CD?\n\nI believe strongly in definitions, but I often lag behind in knowing what people mean when they use the latest buzzwords. This is deliberate. A term is most at risk of wide misinterpretation while it is gaining popularity. I also find most new terms are just new names and groupings for old things. So, I generally wait for their definition to come to me, like now.\n\nQuotes from the top four google results:\n\n\n\nMicrosoft – https://docs.microsoft.com/en-us/azure/devops/learn/what-is-continuous-delivery\n\n\n  “Continuous Integration (CI) is the process of automating the build and testing of code every time a team member commits changes to version control. CI encourages developers to share their code and unit tests by merging their changes into a shared version control repository after every small task completion. Committing code triggers an automated build system to grab the latest code from the shared repository and to build, test, and validate the full master branch (also known as the trunk or main).”\n\n\n\n  “Continuous Delivery (CD) is the process to build, test, configure and deploy from a build to a production environment. Multiple testing or staging environments create a Release Pipeline to automate the creation of infrastructure and deployment of applications.”\n\n\n\n\nAmazon – https://aws.amazon.com/devops/continuous-integration/\n\n\n  “Continuous integration is a DevOps software development practice where developers regularly merge their code changes into a central repository, after which automated builds and tests are run. Continuous integration most often refers to the build or integration stage of the software release process and entails both an automation component (e.g. a CI or build service) and a cultural component (e.g. learning to integrate frequently).”\n\n\n\n  “Why is Continuous Integration Needed?\nIn the past, developers on a team might work in isolation for an extended period of time and only merge their changes to the master branch once their work was completed. This made merging code changes difficult and time-consuming, and also resulted in bugs accumulating for a long time without correction. These factors made it harder to deliver updates to customers quickly.”\n\n\n\n  “With continuous delivery, code changes are automatically built, tested, and prepared for a release to production. Continuous delivery expands upon continuous integration by deploying all code changes to a testing environment and/or a production environment after the build stage.”\n\n\n\n\n\n\nWikipedia – https://en.wikipedia.org/wiki/Continuous_delivery\n\n  “In software engineering, continuous integration (CI) is the practice of merging all developer working copies to a shared mainline several times a day.[1] Grady Booch first proposed the term CI in his 1991 method,[2] although he did not advocate integrating several times a day. Extreme programming (XP) adopted the concept of CI and did advocate integrating more than once per day – perhaps as many as tens of times per day.”\n\n\n\n  “Continuous delivery (CD) is a software engineering approach in which teams produce software in short cycles, ensuring that the software can be reliably released at any time.[1] It aims at building, testing, and releasing software with greater speed and frequency. The approach helps reduce the cost, time, and risk of delivering changes by allowing for more incremental updates to applications in production. A straightforward and repeatable deployment process is important for continuous delivery.”\n\n\nhttps://en.wikipedia.org/wiki/Continuous_delivery#Relationship_to_continuous_deployment\n\n  “Continuous delivery is sometimes confused with continuous deployment. Some people even use these two terms interchangeably. However, most practitioners tend to clearly distinguish these two terms. The distinction is that under Continuous Deployment we deploy any change to production that passes a series of tests. In contrast, under Continuous Delivery, we ensure that the software can be reliably released at any time, but it is up to a human to decide when to release, usually based on business reasons.[5] In order to do continuous deployment one must be doing continuous delivery.[6]”\n\n\n\n\n\n  “Continuous delivery treats the commonplace notion of a deployment pipeline[7] as a lean Poka-Yoke:[8] a set of validations through which a piece of software must pass on its way to release. Code is compiled if necessary and then packaged by a build server every time a change is committed to a source control repository, then tested by a number of different techniques (possibly including manual testing) before it can be marked as releasable.”\n\n\n\n  “Developers used to a long cycle time may need to change their mindset when working in a CD environment. It is important to understand that any code commit may be released to customers at any point. Patterns such as feature toggles can be very useful for committing code early which is not yet ready for use by end users. Using NoSQL can eliminate the step of data migrations and schema changes, often manual steps or exceptions to a continuous delivery workflow.[9] Other useful techniques for developing code in isolation such as code branching are not obsolete in a CD world, but must be adapted to fit the principles of CD - for example, running multiple long-lived code branches can prove impractical, as a releasable artifact must be built early in the CD process from a single code branch if it is to pass through all phases of the pipeline.”\n\n\nThoughtworks – https://www.thoughtworks.com/continuous-integration\n\n  “Continuous Integration (CI) is a development practice that requires developers to integrate code into a shared repository several times a day. Each check-in is then verified by an automated build, allowing teams to detect problems early.”\n\n\n\n  “Continuous Deployment is closely related to Continuous Integration and refers to the release into production of software that passes the automated tests.”\n\n\n\n  “Essentially, it is the practice of releasing every good build to users”\n\n\nPersonal perspective on CI/CD experience requirements for software developers\n\nAm I going to be defining CI/CD systems or just using them?\n\n\n  \n    If I am just using them then I am fully confident I would be able to do that.\n  \n  \n    If I am defining them, that’s fine too. In that case I would do some light research in my spare time and then copy a prototypal workflow of industry best practices. I assume such a thing exists and I assume this is how most people would solve this problem. I do not expect a company would want me to do anything else unless that was their business.\n  \n\n",
  id: 1
});
index.addDoc({
  title: "Clean code vs good code",
  author: null,
  layout: "post",
  content: "Clean code vs good code.\n\n\n  “A BIG difference between good programmers and bad programmers is whether they understand this or not.”\n\n\nHere is an on-stream response Casey Muratori gave to complaints about the perception of “messy” code.\n\nTL;DR – “messy code” is not necessarily “bad code”\n\n\n  Somebody was saying on the forums a while back that they felt the code was too messy.\n\n\n\n  And, again, I really wanna stress the fact that I don’t really wanna try to tell people that the way that they code is wrong, because, you know, I feel like\nthat just leads to a lot of pedantic arguments that aren’t particularly constructive.\n\n\n\n  But what I can say is…\n\n\n\n  In my mind nobody should be thinking that this code is messy. This code is exactly what it should be. It’s code that we are writing to figure out how we want to structure our program. And if you’re spending time right now thinking about how to make this code not messy, whatever that means to you, then essentially what you’re doing is you’re wasting time.\n\n\n\n  Right?\n\n\n\n  You’re spending time, that should have been spent thinking about the problem, thinking about the code. And the end state, the end goal, of your program is NOT to have clean code. It’s to have GOOD working code. Cleanliness has nothing to do with those things.\n\n\n\n  If you have the ugliest code in the world that someone would look at and call very messy, but it has no bugs and runs great…\n\n\n\n  Then, it didn’t matter. Right?\n\n\n\n  And so, to the point that we care about how clean code is, we only care about that in so far as it has an effect on our end product.\n\n\n\n  And what we know right now is what we’re trying to do is just define the structure of the code.\n\n\n\n  So none of the code will ship in the game and if it does it’s because it got pulled out and changed around a little, and, you know, put in its proper place.\n\n\n\n  And so, we know that it will clean up over time as we know what it will be.\n\n\n\n  But, prematurely cleaning it is actually worse than just wasting time. It may lead us down the wrong paths and end up making us have to do gyrations to make stuff work together because we segregated it in a bad way too early on.\n\n\n\n  And so I really wanna stress that fact, that like, if the way you look at code is that you think of it as messy or clean, that is a VERY bad habit in my opinion.\n\n\n\n  And so, all I can really do is say as friendly as possible, “Stop thinking that way.”\n\n\n\n  Instead, think about the problem you are trying to solve. When you are done, and to your satisfaction, solving that problem in however messy a way as you can, then that is the time to start thinking about cleanliness of code.\n\n\n\n  And what we mean when we say cleanliness of code there is:\n\n\n\n  \n    Can I find the bugs in it easily?\n    Is it easy for me to understand?\n    Is it easy for me to re-use in the places that I need to re-use it?\n  \n\n\n\n  Those sorts of things; and NEVER some set of prescribed things that somebody said was clean code, because there is no such thing. There is no set of rules that tells you whether a particular set of code is clean based on what the code looks like.\n\n\n\n  It’s only based on what the usage looks like and what the debugging process looks like that actually tells you whether a piece of code is clean or not.\n\n\n\n  And I really can’t stress that enough.\n\n\n\n  A BIG difference between good programmers and bad programmers is whether they understand this or not.\n\n\n–20180912–\n\nSee Also: Semantic Compression\n",
  id: 2
});
console.log( jQuery.type(index) );

// Builds reference data (maybe not necessary for us, to check)


var store = [{
  "title": "Self Employment",
  "author": null,
  "layout": "post",
  "link": "/texts/2017-01-17-self-employment/",
}
,{
  "title": "My experience with CI/CD",
  "author": null,
  "layout": "post",
  "link": "/texts/2018-09-04-continuous-integration-and-deployment/",
}
,{
  "title": "Clean code vs good code",
  "author": null,
  "layout": "post",
  "link": "/texts/2018-09-12-clean-vs-good-code-casey-muratori/",
}
]

//Query

var qd = {}; //Gets values from the URL
location.search.substr(1).split("&").forEach(function(item) {
    var s = item.split("="),
        k = s[0],
        v = s[1] && decodeURIComponent(s[1]);
    (k in qd) ? qd[k].push(v) : qd[k] = [v]
});

function doSearch() {
  var resultdiv = $('#results');
  var query = $('input#search').val();

  //The search is then launched on the index built with Lunr
  var result = index.search(query);
  resultdiv.empty();
  if (result.length == 0) {
    resultdiv.append('<p class="">No results found.</p>');
  } else if (result.length == 1) {
    resultdiv.append('<p class="">Found '+result.length+' result</p>');
  } else {
    resultdiv.append('<p class="">Found '+result.length+' results</p>');
  }
  //Loop through, match, and add results
  for (var item in result) {
    var ref = result[item].ref;
    var searchitem = '<div class="result"><p><a href="'+store[ref].link+'?q='+query+'">'+store[ref].title+'</a></p></div>';
    resultdiv.append(searchitem);
  }
}

$(document).ready(function() {
  if (qd.q) {
    $('input#search').val(qd.q[0]);
    doSearch();
  }
  $('input#search').on('keyup', doSearch);
});
